(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Nb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gd={exports:{}},Ss={};var gp;function jb(){if(gp)return Ss;gp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:a,type:l,key:f,ref:o!==void 0?o:null,props:u}}return Ss.Fragment=n,Ss.jsx=i,Ss.jsxs=i,Ss}var pp;function Mb(){return pp||(pp=1,gd.exports=jb()),gd.exports}var x=Mb(),pd={exports:{}},ye={};var vp;function kb(){if(vp)return ye;vp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function H(R,I,P){this.props=R,this.context=I,this.refs=j,this.updater=P||A}H.prototype.isReactComponent={},H.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function q(){}q.prototype=H.prototype;function U(R,I,P){this.props=R,this.context=I,this.refs=j,this.updater=P||A}var O=U.prototype=new q;O.constructor=U,C(O,H.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function G(){}var V={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function F(R,I,P){var Z=P.ref;return{$$typeof:a,type:R,key:I,ref:Z!==void 0?Z:null,props:P}}function de(R,I){return F(R.type,I,R.props)}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function pe(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(P){return I[P]})}var we=/\/+/g;function Se(R,I){return typeof R=="object"&&R!==null&&R.key!=null?pe(""+R.key):I.toString(36)}function xe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(G,G):(R.status="pending",R.then(function(I){R.status==="pending"&&(R.status="fulfilled",R.value=I)},function(I){R.status==="pending"&&(R.status="rejected",R.reason=I)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function E(R,I,P,Z,se){var ie=typeof R;(ie==="undefined"||ie==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case a:case n:be=!0;break;case v:return be=R._init,E(be(R._payload),I,P,Z,se)}}if(be)return se=se(R),be=Z===""?"."+Se(R,0):Z,L(se)?(P="",be!=null&&(P=be.replace(we,"$&/")+"/"),E(se,I,P,"",function(fe){return fe})):se!=null&&(ue(se)&&(se=de(se,P+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(we,"$&/")+"/")+be)),I.push(se)),1;be=0;var Le=Z===""?".":Z+":";if(L(R))for(var Q=0;Q<R.length;Q++)Z=R[Q],ie=Le+Se(Z,Q),be+=E(Z,I,P,ie,se);else if(Q=_(R),typeof Q=="function")for(R=Q.call(R),Q=0;!(Z=R.next()).done;)Z=Z.value,ie=Le+Se(Z,Q++),be+=E(Z,I,P,ie,se);else if(ie==="object"){if(typeof R.then=="function")return E(xe(R),I,P,Z,se);throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(R,I,P){if(R==null)return R;var Z=[],se=0;return E(R,Z,"","",function(ie){return I.call(P,ie,se++)}),Z}function W(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(P){(R._status===0||R._status===-1)&&(R._status=1,R._result=P)},function(P){(R._status===0||R._status===-1)&&(R._status=2,R._result=P)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:X,forEach:function(R,I,P){X(R,function(){I.apply(this,arguments)},P)},count:function(R){var I=0;return X(R,function(){I++}),I},toArray:function(R){return X(R,function(I){return I})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=y,ye.Children=ve,ye.Component=H,ye.Fragment=i,ye.Profiler=o,ye.PureComponent=U,ye.StrictMode=l,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return V.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,I,P){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=C({},R.props),se=R.key;if(I!=null)for(ie in I.key!==void 0&&(se=""+I.key),I)!J.call(I,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&I.ref===void 0||(Z[ie]=I[ie]);var ie=arguments.length-2;if(ie===1)Z.children=P;else if(1<ie){for(var be=Array(ie),Le=0;Le<ie;Le++)be[Le]=arguments[Le+2];Z.children=be}return F(R.type,se,Z)},ye.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ye.createElement=function(R,I,P){var Z,se={},ie=null;if(I!=null)for(Z in I.key!==void 0&&(ie=""+I.key),I)J.call(I,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(se[Z]=I[Z]);var be=arguments.length-2;if(be===1)se.children=P;else if(1<be){for(var Le=Array(be),Q=0;Q<be;Q++)Le[Q]=arguments[Q+2];se.children=Le}if(R&&R.defaultProps)for(Z in be=R.defaultProps,be)se[Z]===void 0&&(se[Z]=be[Z]);return F(R,ie,se)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:h,render:R}},ye.isValidElement=ue,ye.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:W}},ye.memo=function(R,I){return{$$typeof:g,type:R,compare:I===void 0?null:I}},ye.startTransition=function(R){var I=V.T,P={};V.T=P;try{var Z=R(),se=V.S;se!==null&&se(P,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(G,ce)}catch(ie){ce(ie)}finally{I!==null&&P.types!==null&&(I.types=P.types),V.T=I}},ye.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ye.use=function(R){return V.H.use(R)},ye.useActionState=function(R,I,P){return V.H.useActionState(R,I,P)},ye.useCallback=function(R,I){return V.H.useCallback(R,I)},ye.useContext=function(R){return V.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,I){return V.H.useDeferredValue(R,I)},ye.useEffect=function(R,I){return V.H.useEffect(R,I)},ye.useEffectEvent=function(R){return V.H.useEffectEvent(R)},ye.useId=function(){return V.H.useId()},ye.useImperativeHandle=function(R,I,P){return V.H.useImperativeHandle(R,I,P)},ye.useInsertionEffect=function(R,I){return V.H.useInsertionEffect(R,I)},ye.useLayoutEffect=function(R,I){return V.H.useLayoutEffect(R,I)},ye.useMemo=function(R,I){return V.H.useMemo(R,I)},ye.useOptimistic=function(R,I){return V.H.useOptimistic(R,I)},ye.useReducer=function(R,I,P){return V.H.useReducer(R,I,P)},ye.useRef=function(R){return V.H.useRef(R)},ye.useState=function(R){return V.H.useState(R)},ye.useSyncExternalStore=function(R,I,P){return V.H.useSyncExternalStore(R,I,P)},ye.useTransition=function(){return V.H.useTransition()},ye.version="19.2.4",ye}var yp;function lf(){return yp||(yp=1,pd.exports=kb()),pd.exports}var S=lf();const At=Nb(S);var vd={exports:{}},Es={},yd={exports:{}},bd={};var bp;function zb(){return bp||(bp=1,(function(a){function n(E,X){var W=E.length;E.push(X);e:for(;0<W;){var ce=W-1>>>1,ve=E[ce];if(0<o(ve,X))E[ce]=X,E[W]=ve,W=ce;else break e}}function i(E){return E.length===0?null:E[0]}function l(E){if(E.length===0)return null;var X=E[0],W=E.pop();if(W!==X){E[0]=W;e:for(var ce=0,ve=E.length,R=ve>>>1;ce<R;){var I=2*(ce+1)-1,P=E[I],Z=I+1,se=E[Z];if(0>o(P,W))Z<ve&&0>o(se,P)?(E[ce]=se,E[Z]=W,ce=Z):(E[ce]=P,E[I]=W,ce=I);else if(Z<ve&&0>o(se,W))E[ce]=se,E[Z]=W,ce=Z;else break e}}return X}function o(E,X){var W=E.sortIndex-X.sortIndex;return W!==0?W:E.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],g=[],v=1,y=null,w=3,_=!1,A=!1,C=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function O(E){for(var X=i(g);X!==null;){if(X.callback===null)l(g);else if(X.startTime<=E)l(g),X.sortIndex=X.expirationTime,n(m,X);else break;X=i(g)}}function L(E){if(C=!1,O(E),!A)if(i(m)!==null)A=!0,G||(G=!0,pe());else{var X=i(g);X!==null&&xe(L,X.startTime-E)}}var G=!1,V=-1,J=5,F=-1;function de(){return j?!0:!(a.unstable_now()-F<J)}function ue(){if(j=!1,G){var E=a.unstable_now();F=E;var X=!0;try{e:{A=!1,C&&(C=!1,q(V),V=-1),_=!0;var W=w;try{t:{for(O(E),y=i(m);y!==null&&!(y.expirationTime>E&&de());){var ce=y.callback;if(typeof ce=="function"){y.callback=null,w=y.priorityLevel;var ve=ce(y.expirationTime<=E);if(E=a.unstable_now(),typeof ve=="function"){y.callback=ve,O(E),X=!0;break t}y===i(m)&&l(m),O(E)}else l(m);y=i(m)}if(y!==null)X=!0;else{var R=i(g);R!==null&&xe(L,R.startTime-E),X=!1}}break e}finally{y=null,w=W,_=!1}X=void 0}}finally{X?pe():G=!1}}}var pe;if(typeof U=="function")pe=function(){U(ue)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Se=we.port2;we.port1.onmessage=ue,pe=function(){Se.postMessage(null)}}else pe=function(){H(ue,0)};function xe(E,X){V=H(function(){E(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(E){E.callback=null},a.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<E?Math.floor(1e3/E):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(E){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var W=w;w=X;try{return E()}finally{w=W}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(E,X){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var W=w;w=E;try{return X()}finally{w=W}},a.unstable_scheduleCallback=function(E,X,W){var ce=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ce+W:ce):W=ce,E){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=W+ve,E={id:v++,callback:X,priorityLevel:E,startTime:W,expirationTime:ve,sortIndex:-1},W>ce?(E.sortIndex=W,n(g,E),i(m)===null&&E===i(g)&&(C?(q(V),V=-1):C=!0,xe(L,W-ce))):(E.sortIndex=ve,n(m,E),A||_||(A=!0,G||(G=!0,pe()))),E},a.unstable_shouldYield=de,a.unstable_wrapCallback=function(E){var X=w;return function(){var W=w;w=X;try{return E.apply(this,arguments)}finally{w=W}}}})(bd)),bd}var _p;function Ub(){return _p||(_p=1,yd.exports=zb()),yd.exports}var _d={exports:{}},Ht={};var wp;function Lb(){if(wp)return Ht;wp=1;var a=lf();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:g,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ht.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,v)},Ht.flushSync=function(m){var g=f.T,v=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=v,l.d.f()}},Ht.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},Ht.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Ht.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,y=h(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:_}):v==="script"&&l.d.X(m,{crossOrigin:y,integrity:w,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ht.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},Ht.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=h(v,g.crossOrigin);l.d.L(m,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ht.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},Ht.requestFormReset=function(m){l.d.r(m)},Ht.unstable_batchedUpdates=function(m,g){return m(g)},Ht.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},Ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ht.version="19.2.4",Ht}var Sp;function _v(){if(Sp)return _d.exports;Sp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_d.exports=Lb(),_d.exports}var Ep;function Bb(){if(Ep)return Es;Ep=1;var a=Ub(),n=lf(),i=_v();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,s=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(s=c.return,s!==null){r=s;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return m(c),e;if(d===s)return m(c),t;d=d.sibling}throw Error(l(188))}if(r.return!==s.return)r=c,s=d;else{for(var p=!1,b=c.child;b;){if(b===r){p=!0,r=c,s=d;break}if(b===s){p=!0,s=c,r=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===r){p=!0,r=d,s=c;break}if(b===s){p=!0,s=d,r=c;break}b=b.sibling}if(!p)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case U:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}var xe=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ce=[],ve=-1;function R(e){return{current:e}}function I(e){0>ve||(e.current=ce[ve],ce[ve]=null,ve--)}function P(e,t){ve++,ce[ve]=e.current,e.current=t}var Z=R(null),se=R(null),ie=R(null),be=R(null);function Le(e,t){switch(P(ie,t),P(se,e),P(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bg(t),e=Hg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(Z),P(Z,e)}function Q(){I(Z),I(se),I(ie)}function fe(e){e.memoizedState!==null&&P(be,e);var t=Z.current,r=Hg(t,e.type);t!==r&&(P(se,e),P(Z,r))}function Ve(e){se.current===e&&(I(Z),I(se)),be.current===e&&(I(be),ys._currentValue=W)}var je,rt;function Ce(e){if(je===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||"",rt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+rt}var ee=!1;function Me(e,t){if(!e||ee)return"";ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),p=d[0],b=d[1];if(p&&b){var T=p.split(`
`),k=b.split(`
`);for(c=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(s===T.length||c===k.length)for(s=T.length-1,c=k.length-1;1<=s&&0<=c&&T[s]!==k[c];)c--;for(;1<=s&&0<=c;s--,c--)if(T[s]!==k[c]){if(s!==1||c!==1)do if(s--,c--,0>c||T[s]!==k[c]){var $=`
`+T[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=c);break}}}finally{ee=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ce(r):""}function Pe(e,t){switch(e.tag){case 26:case 27:case 5:return Ce(e.type);case 16:return Ce("Lazy");case 13:return e.child!==t&&t!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return Me(e.type,!1);case 11:return Me(e.type.render,!1);case 1:return Me(e.type,!0);case 31:return Ce("Activity");default:return""}}function Ne(e){try{var t="",r=null;do t+=Pe(e,r),r=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var it=Object.prototype.hasOwnProperty,Ze=a.unstable_scheduleCallback,et=a.unstable_cancelCallback,It=a.unstable_shouldYield,mn=a.unstable_requestPaint,ke=a.unstable_now,qt=a.unstable_getCurrentPriorityLevel,wt=a.unstable_ImmediatePriority,Dt=a.unstable_UserBlockingPriority,Lt=a.unstable_NormalPriority,Gn=a.unstable_LowPriority,Qa=a.unstable_IdlePriority,gn=a.log,Ja=a.unstable_setDisableYieldValue,Qn=null,Ot=null;function $t(e){if(typeof gn=="function"&&Ja(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Qn,e)}catch{}}var pt=Math.clz32?Math.clz32:iu,ru=Math.log,Zs=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(ru(e)/Zs|0)|0}var Tr=256,Ar=262144,st=4194304;function lt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function St(e,t,r){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?c=lt(s):(p&=b,p!==0?c=lt(p):r||(r=b&~e,r!==0&&(c=lt(r))))):(b=s&~d,b!==0?c=lt(b):p!==0?c=lt(p):r||(r=s&~e,r!==0&&(c=lt(r)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:c}function Vt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var e=st;return st<<=1,(st&62914560)===0&&(st=4194304),e}function Xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vt(e,t,r,s,c,d){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,k=e.hiddenUpdates;for(r=p&~r;0<r;){var $=31-pt(r),K=1<<$;b[$]=0,T[$]=-1;var z=k[$];if(z!==null)for(k[$]=null,$=0;$<z.length;$++){var B=z[$];B!==null&&(B.lane&=-536870913)}r&=~K}s!==0&&Nn(e,s,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Nn(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-pt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|r&261930}function nn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-pt(r),c=1<<s;c&t|e[s]&t&&(e[s]|=t),r&=~c}}function vn(e,t){var r=t&-t;return r=(r&42)!==0?1:Jn(r),(r&(e.suspendedLanes|t))!==0?0:r}function Jn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jn(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:op(e.type))}function _a(e,t){var r=X.p;try{return X.p=e,t()}finally{X.p=r}}var yn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+yn,Pt="__reactProps$"+yn,Rr="__reactContainer$"+yn,su="__reactEvents$"+yn,_y="__reactListeners$"+yn,wy="__reactHandles$"+yn,Tf="__reactResources$"+yn,Mi="__reactMarker$"+yn;function lu(e){delete e[Ct],delete e[Pt],delete e[su],delete e[_y],delete e[wy]}function Dr(e){var t=e[Ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rr]||r[Ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kg(e);e!==null;){if(r=e[Ct])return r;e=Kg(e)}return t}e=r,r=e.parentNode}return null}function Or(e){if(e=e[Ct]||e[Rr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ki(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Cr(e){var t=e[Tf];return t||(t=e[Tf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[Mi]=!0}var Af=new Set,Rf={};function Za(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Rf[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var Sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},Of={};function Ey(e){return it.call(Of,e)?!0:it.call(Df,e)?!1:Sy.test(e)?Of[e]=!0:(Df[e]=!0,!1)}function Fs(e,t,r){if(Ey(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ws(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Fn(e,t,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+s)}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xy(e,t,r){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){if(!e._valueTracker){var t=Cf(e)?"checked":"value";e._valueTracker=xy(e,t,""+e[t])}}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Cf(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ty=/[\n"\\]/g;function _n(e){return e.replace(Ty,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uu(e,t,r,s,c,d,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?cu(e,p,bn(t)):r!=null?cu(e,p,bn(r)):s!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+bn(b):e.removeAttribute("name")}function jf(e,t,r,s,c,d,p,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ou(e);return}r=r!=null?""+bn(r):"",t=t!=null?""+bn(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ou(e)}function cu(e,t,r){t==="number"&&el(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jr(e,t,r,s){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&s&&(e[r].defaultSelected=!0)}else{for(r=""+bn(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Mf(e,t,r){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+bn(r):""}function kf(e,t,r,s){if(t==null){if(s!=null){if(r!=null)throw Error(l(92));if(xe(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}r==null&&(r=""),t=r}r=bn(t),e.defaultValue=r,s=e.textContent,s===r&&s!==""&&s!==null&&(e.value=s),ou(e)}function Mr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ay=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zf(e,t,r){var s=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,r):typeof r!="number"||r===0||Ay.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Uf(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&r[c]!==s&&zf(e,c,s)}else for(var d in t)t.hasOwnProperty(d)&&zf(e,d,t[d])}function du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(e){return Dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var fu=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kr=null,zr=null;function Lf(e){var t=Or(e);if(t&&(e=t.stateNode)){var r=e[Pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(uu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var c=s[Pt]||null;if(!c)throw Error(l(90));uu(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)s=r[t],s.form===e.form&&Nf(s)}break e;case"textarea":Mf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&jr(e,!!r.multiple,t,!1)}}}var mu=!1;function Bf(e,t,r){if(mu)return e(t,r);mu=!0;try{var s=e(t);return s}finally{if(mu=!1,(kr!==null||zr!==null)&&($l(),kr&&(t=kr,e=zr,zr=kr=null,Lf(t),e)))for(t=0;t<e.length;t++)Lf(e[t])}}function zi(e,t){var r=e.stateNode;if(r===null)return null;var s=r[Pt]||null;if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=!1;if(ea)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{gu=!1}var wa=null,pu=null,nl=null;function Hf(){if(nl)return nl;var e,t=pu,r=t.length,s,c="value"in wa?wa.value:wa.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===c[d-s];s++);return nl=c.slice(e,1<s?1-s:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function If(){return!1}function Qt(e){function t(r,s,c,d,p){this._reactName=r,this._targetInst=c,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rl:If,this.isPropagationStopped=If,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Qt(Fa),Li=y({},Fa,{view:0,detail:0}),Oy=Qt(Li),vu,yu,Bi,sl=y({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(vu=e.screenX-Bi.screenX,yu=e.screenY-Bi.screenY):yu=vu=0,Bi=e),vu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),qf=Qt(sl),Cy=y({},sl,{dataTransfer:0}),Ny=Qt(Cy),jy=y({},Li,{relatedTarget:0}),bu=Qt(jy),My=y({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),ky=Qt(My),zy=y({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uy=Qt(zy),Ly=y({},Fa,{data:0}),$f=Qt(Ly),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iy[e])?!!t[e]:!1}function _u(){return qy}var $y=y({},Li,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gy=Qt($y),Yy=y({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Qt(Yy),Vy=y({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Ky=Qt(Vy),Xy=y({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Py=Qt(Xy),Qy=y({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=Qt(Qy),Zy=y({},Fa,{newState:0,oldState:0}),Fy=Qt(Zy),Wy=[9,13,27,32],wu=ea&&"CompositionEvent"in window,Hi=null;ea&&"documentMode"in document&&(Hi=document.documentMode);var e0=ea&&"TextEvent"in window&&!Hi,Yf=ea&&(!wu||Hi&&8<Hi&&11>=Hi),Vf=" ",Kf=!1;function Xf(e,t){switch(e){case"keyup":return Wy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function t0(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(Kf=!0,Vf);case"textInput":return e=t.data,e===Vf&&Kf?null:e;default:return null}}function n0(e,t){if(Ur)return e==="compositionend"||!wu&&Xf(e,t)?(e=Hf(),nl=pu=wa=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yf&&t.locale!=="ko"?null:t.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a0[e.type]:t==="textarea"}function Jf(e,t,r,s){kr?zr?zr.push(s):zr=[s]:kr=s,t=Ql(t,"onChange"),0<t.length&&(r=new il("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ii=null,qi=null;function r0(e){jg(e,0)}function ll(e){var t=ki(e);if(Nf(t))return e}function Zf(e,t){if(e==="change")return t}var Ff=!1;if(ea){var Su;if(ea){var Eu="oninput"in document;if(!Eu){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Eu=typeof Wf.oninput=="function"}Su=Eu}else Su=!1;Ff=Su&&(!document.documentMode||9<document.documentMode)}function eh(){Ii&&(Ii.detachEvent("onpropertychange",th),qi=Ii=null)}function th(e){if(e.propertyName==="value"&&ll(qi)){var t=[];Jf(t,qi,e,hu(e)),Bf(r0,t)}}function i0(e,t,r){e==="focusin"?(eh(),Ii=t,qi=r,Ii.attachEvent("onpropertychange",th)):e==="focusout"&&eh()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(qi)}function l0(e,t){if(e==="click")return ll(t)}function o0(e,t){if(e==="input"||e==="change")return ll(t)}function u0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:u0;function $i(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var c=r[s];if(!it.call(t,c)||!an(e[c],t[c]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var r=nh(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nh(r)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=el(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=el(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c0=ea&&"documentMode"in document&&11>=document.documentMode,Lr=null,Tu=null,Gi=null,Au=!1;function sh(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||Lr==null||Lr!==el(s)||(s=Lr,"selectionStart"in s&&xu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gi&&$i(Gi,s)||(Gi=s,s=Ql(Tu,"onSelect"),0<s.length&&(t=new il("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Lr)))}function Wa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Br={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Ru={},lh={};ea&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function er(e){if(Ru[e])return Ru[e];if(!Br[e])return e;var t=Br[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lh)return Ru[e]=t[r];return e}var oh=er("animationend"),uh=er("animationiteration"),ch=er("animationstart"),d0=er("transitionrun"),f0=er("transitionstart"),h0=er("transitioncancel"),dh=er("transitionend"),fh=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function Mn(e,t){fh.set(e,t),Za(t,[e])}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Hr=0,Ou=0;function ul(){for(var e=Hr,t=Ou=Hr=0;t<e;){var r=wn[t];wn[t++]=null;var s=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var d=wn[t];if(wn[t++]=null,s!==null&&c!==null){var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}d!==0&&hh(r,c,d)}}function cl(e,t,r,s){wn[Hr++]=e,wn[Hr++]=t,wn[Hr++]=r,wn[Hr++]=s,Ou|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cu(e,t,r,s){return cl(e,t,r,s),dl(e)}function tr(e,t){return cl(e,null,null,t),dl(e)}function hh(e,t,r){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,s=d.alternate,s!==null&&(s.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-pt(r),e=d.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=r|536870912),d):null}function dl(e){if(50<ds)throw ds=0,Hc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ir={};function m0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,s){return new m0(e,t,r,s)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function mh(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,r,s,c,d){var p=0;if(s=e,typeof e=="function")Nu(e)&&(p=1);else if(typeof e=="string")p=bb(e,r,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=rn(31,r,t,c),e.elementType=F,e.lanes=d,e;case C:return nr(r.children,c,d,t);case j:p=8,c|=24;break;case H:return e=rn(12,r,t,c|2),e.elementType=H,e.lanes=d,e;case L:return e=rn(13,r,t,c),e.elementType=L,e.lanes=d,e;case G:return e=rn(19,r,t,c),e.elementType=G,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:p=10;break e;case q:p=9;break e;case O:p=11;break e;case V:p=14;break e;case J:p=16,s=null;break e}p=29,r=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=rn(p,r,t,c),t.elementType=e,t.type=s,t.lanes=d,t}function nr(e,t,r,s){return e=rn(7,e,s,t),e.lanes=r,e}function ju(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function gh(e){var t=rn(18,null,null,0);return t.stateNode=e,t}function Mu(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ph=new WeakMap;function Sn(e,t){if(typeof e=="object"&&e!==null){var r=ph.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Ne(t)},ph.set(e,t),t)}return{value:e,source:t,stack:Ne(t)}}var qr=[],$r=0,hl=null,Yi=0,En=[],xn=0,Sa=null,Yn=1,Vn="";function na(e,t){qr[$r++]=Yi,qr[$r++]=hl,hl=e,Yi=t}function vh(e,t,r){En[xn++]=Yn,En[xn++]=Vn,En[xn++]=Sa,Sa=e;var s=Yn;e=Vn;var c=32-pt(s)-1;s&=~(1<<c),r+=1;var d=32-pt(t)+c;if(30<d){var p=c-c%5;d=(s&(1<<p)-1).toString(32),s>>=p,c-=p,Yn=1<<32-pt(t)+c|r<<c|s,Vn=d+e}else Yn=1<<d|r<<c|s,Vn=e}function ku(e){e.return!==null&&(na(e,1),vh(e,1,0))}function zu(e){for(;e===hl;)hl=qr[--$r],qr[$r]=null,Yi=qr[--$r],qr[$r]=null;for(;e===Sa;)Sa=En[--xn],En[xn]=null,Vn=En[--xn],En[xn]=null,Yn=En[--xn],En[xn]=null}function yh(e,t){En[xn++]=Yn,En[xn++]=Vn,En[xn++]=Sa,Yn=t.id,Vn=t.overflow,Sa=e}var Nt=null,Qe=null,Oe=!1,Ea=null,Tn=!1,Uu=Error(l(519));function xa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vi(Sn(t,e)),Uu}function bh(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[Ct]=e,t[Pt]=s,r){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(r=0;r<hs.length;r++)Ae(hs[r],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),jf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),kf(t,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||s.suppressHydrationWarning===!0||Ug(t.textContent,r)?(s.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),s.onScroll!=null&&Ae("scroll",t),s.onScrollEnd!=null&&Ae("scrollend",t),s.onClick!=null&&(t.onclick=Wn),t=!0):t=!1,t||xa(e,!0)}function _h(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Nt=Nt.return}}function Gr(e){if(e!==Nt)return!1;if(!Oe)return _h(e),Oe=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ed(e.type,e.memoizedProps)),r=!r),r&&Qe&&xa(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=Vg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Qe=Vg(e)}else t===27?(t=Qe,Ba(e.type)?(e=id,id=null,Qe=e):Qe=t):Qe=Nt?Rn(e.stateNode.nextSibling):null;return!0}function ar(){Qe=Nt=null,Oe=!1}function Lu(){var e=Ea;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Ea=null),e}function Vi(e){Ea===null?Ea=[e]:Ea.push(e)}var Bu=R(null),rr=null,aa=null;function Ta(e,t,r){P(Bu,t._currentValue),t._currentValue=r}function ra(e){e._currentValue=Bu.current,I(Bu)}function Hu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Iu(e,t,r,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=c;for(var T=0;T<t.length;T++)if(b.context===t[T]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),Hu(d.return,r,e),s||(p=null);break e}d=b.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(l(341));p.lanes|=r,d=p.alternate,d!==null&&(d.lanes|=r),Hu(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Yr(e,t,r,s){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var b=c.type;an(c.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(c===be.current){if(p=c.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ys):e=[ys])}c=c.return}e!==null&&Iu(t,e,r,s),t.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ir(e){rr=e,aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return wh(rr,e)}function gl(e,t){return rr===null&&ir(e),wh(e,t)}function wh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},aa===null){if(e===null)throw Error(l(308));aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else aa=aa.next=t;return r}var g0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},p0=a.unstable_scheduleCallback,v0=a.unstable_NormalPriority,dt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new g0,data:new Map,refCount:0}}function Ki(e){e.refCount--,e.refCount===0&&p0(v0,function(){e.controller.abort()})}var Xi=null,$u=0,Vr=0,Kr=null;function y0(e,t){if(Xi===null){var r=Xi=[];$u=0,Vr=Vc(),Kr={status:"pending",value:void 0,then:function(s){r.push(s)}}}return $u++,t.then(Sh,Sh),t}function Sh(){if(--$u===0&&Xi!==null){Kr!==null&&(Kr.status="fulfilled");var e=Xi;Xi=null,Vr=0,Kr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function b0(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),s}var Eh=E.S;E.S=function(e,t){sg=ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&y0(e,t),Eh!==null&&Eh(e,t)};var sr=R(null);function Gu(){var e=sr.current;return e!==null?e:Ke.pooledCache}function pl(e,t){t===null?P(sr,sr.current):P(sr,t.pool)}function xh(){var e=Gu();return e===null?null:{parent:dt._currentValue,pool:e}}var Xr=Error(l(460)),Yu=Error(l(474)),vl=Error(l(542)),yl={then:function(){}};function Th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ah(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Wn,Wn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e;default:if(typeof t.status=="string")t.then(Wn,Wn);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e}throw or=t,Xr}}function lr(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(or=r,Xr):r}}var or=null;function Rh(){if(or===null)throw Error(l(459));var e=or;return or=null,e}function Dh(e){if(e===Xr||e===vl)throw Error(l(483))}var Pr=null,Pi=0;function bl(e){var t=Pi;return Pi+=1,Pr===null&&(Pr=[]),Ah(Pr,e,t)}function Qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oh(e){function t(N,D){if(e){var M=N.deletions;M===null?(N.deletions=[D],N.flags|=16):M.push(D)}}function r(N,D){if(!e)return null;for(;D!==null;)t(N,D),D=D.sibling;return null}function s(N){for(var D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function c(N,D){return N=ta(N,D),N.index=0,N.sibling=null,N}function d(N,D,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<D?(N.flags|=67108866,D):M):(N.flags|=67108866,D)):(N.flags|=1048576,D)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,D,M,Y){return D===null||D.tag!==6?(D=ju(M,N.mode,Y),D.return=N,D):(D=c(D,M),D.return=N,D)}function T(N,D,M,Y){var le=M.type;return le===C?$(N,D,M.props.children,Y,M.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&lr(le)===D.type)?(D=c(D,M.props),Qi(D,M),D.return=N,D):(D=fl(M.type,M.key,M.props,null,N.mode,Y),Qi(D,M),D.return=N,D)}function k(N,D,M,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Mu(M,N.mode,Y),D.return=N,D):(D=c(D,M.children||[]),D.return=N,D)}function $(N,D,M,Y,le){return D===null||D.tag!==7?(D=nr(M,N.mode,Y,le),D.return=N,D):(D=c(D,M),D.return=N,D)}function K(N,D,M){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ju(""+D,N.mode,M),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return M=fl(D.type,D.key,D.props,null,N.mode,M),Qi(M,D),M.return=N,M;case A:return D=Mu(D,N.mode,M),D.return=N,D;case J:return D=lr(D),K(N,D,M)}if(xe(D)||pe(D))return D=nr(D,N.mode,M,null),D.return=N,D;if(typeof D.then=="function")return K(N,bl(D),M);if(D.$$typeof===U)return K(N,gl(N,D),M);_l(N,D)}return null}function z(N,D,M,Y){var le=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return le!==null?null:b(N,D,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===le?T(N,D,M,Y):null;case A:return M.key===le?k(N,D,M,Y):null;case J:return M=lr(M),z(N,D,M,Y)}if(xe(M)||pe(M))return le!==null?null:$(N,D,M,Y,null);if(typeof M.then=="function")return z(N,D,bl(M),Y);if(M.$$typeof===U)return z(N,D,gl(N,M),Y);_l(N,M)}return null}function B(N,D,M,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return N=N.get(M)||null,b(D,N,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return N=N.get(Y.key===null?M:Y.key)||null,T(D,N,Y,le);case A:return N=N.get(Y.key===null?M:Y.key)||null,k(D,N,Y,le);case J:return Y=lr(Y),B(N,D,M,Y,le)}if(xe(Y)||pe(Y))return N=N.get(M)||null,$(D,N,Y,le,null);if(typeof Y.then=="function")return B(N,D,M,bl(Y),le);if(Y.$$typeof===U)return B(N,D,M,gl(D,Y),le);_l(D,Y)}return null}function te(N,D,M,Y){for(var le=null,ze=null,ne=D,Ee=D=0,De=null;ne!==null&&Ee<M.length;Ee++){ne.index>Ee?(De=ne,ne=null):De=ne.sibling;var Ue=z(N,ne,M[Ee],Y);if(Ue===null){ne===null&&(ne=De);break}e&&ne&&Ue.alternate===null&&t(N,ne),D=d(Ue,D,Ee),ze===null?le=Ue:ze.sibling=Ue,ze=Ue,ne=De}if(Ee===M.length)return r(N,ne),Oe&&na(N,Ee),le;if(ne===null){for(;Ee<M.length;Ee++)ne=K(N,M[Ee],Y),ne!==null&&(D=d(ne,D,Ee),ze===null?le=ne:ze.sibling=ne,ze=ne);return Oe&&na(N,Ee),le}for(ne=s(ne);Ee<M.length;Ee++)De=B(ne,N,Ee,M[Ee],Y),De!==null&&(e&&De.alternate!==null&&ne.delete(De.key===null?Ee:De.key),D=d(De,D,Ee),ze===null?le=De:ze.sibling=De,ze=De);return e&&ne.forEach(function(Ga){return t(N,Ga)}),Oe&&na(N,Ee),le}function he(N,D,M,Y){if(M==null)throw Error(l(151));for(var le=null,ze=null,ne=D,Ee=D=0,De=null,Ue=M.next();ne!==null&&!Ue.done;Ee++,Ue=M.next()){ne.index>Ee?(De=ne,ne=null):De=ne.sibling;var Ga=z(N,ne,Ue.value,Y);if(Ga===null){ne===null&&(ne=De);break}e&&ne&&Ga.alternate===null&&t(N,ne),D=d(Ga,D,Ee),ze===null?le=Ga:ze.sibling=Ga,ze=Ga,ne=De}if(Ue.done)return r(N,ne),Oe&&na(N,Ee),le;if(ne===null){for(;!Ue.done;Ee++,Ue=M.next())Ue=K(N,Ue.value,Y),Ue!==null&&(D=d(Ue,D,Ee),ze===null?le=Ue:ze.sibling=Ue,ze=Ue);return Oe&&na(N,Ee),le}for(ne=s(ne);!Ue.done;Ee++,Ue=M.next())Ue=B(ne,N,Ee,Ue.value,Y),Ue!==null&&(e&&Ue.alternate!==null&&ne.delete(Ue.key===null?Ee:Ue.key),D=d(Ue,D,Ee),ze===null?le=Ue:ze.sibling=Ue,ze=Ue);return e&&ne.forEach(function(Cb){return t(N,Cb)}),Oe&&na(N,Ee),le}function Ye(N,D,M,Y){if(typeof M=="object"&&M!==null&&M.type===C&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var le=M.key;D!==null;){if(D.key===le){if(le=M.type,le===C){if(D.tag===7){r(N,D.sibling),Y=c(D,M.props.children),Y.return=N,N=Y;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&lr(le)===D.type){r(N,D.sibling),Y=c(D,M.props),Qi(Y,M),Y.return=N,N=Y;break e}r(N,D);break}else t(N,D);D=D.sibling}M.type===C?(Y=nr(M.props.children,N.mode,Y,M.key),Y.return=N,N=Y):(Y=fl(M.type,M.key,M.props,null,N.mode,Y),Qi(Y,M),Y.return=N,N=Y)}return p(N);case A:e:{for(le=M.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){r(N,D.sibling),Y=c(D,M.children||[]),Y.return=N,N=Y;break e}else{r(N,D);break}else t(N,D);D=D.sibling}Y=Mu(M,N.mode,Y),Y.return=N,N=Y}return p(N);case J:return M=lr(M),Ye(N,D,M,Y)}if(xe(M))return te(N,D,M,Y);if(pe(M)){if(le=pe(M),typeof le!="function")throw Error(l(150));return M=le.call(M),he(N,D,M,Y)}if(typeof M.then=="function")return Ye(N,D,bl(M),Y);if(M.$$typeof===U)return Ye(N,D,gl(N,M),Y);_l(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,D!==null&&D.tag===6?(r(N,D.sibling),Y=c(D,M),Y.return=N,N=Y):(r(N,D),Y=ju(M,N.mode,Y),Y.return=N,N=Y),p(N)):r(N,D)}return function(N,D,M,Y){try{Pi=0;var le=Ye(N,D,M,Y);return Pr=null,le}catch(ne){if(ne===Xr||ne===vl)throw ne;var ze=rn(29,ne,null,N.mode);return ze.lanes=Y,ze.return=N,ze}}}var ur=Oh(!0),Ch=Oh(!1),Aa=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=dl(e),hh(e,null,r),t}return cl(e,s,t,r),dl(e)}function Ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,nn(e,r)}}function Xu(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Pu=!1;function Zi(){if(Pu){var e=Kr;if(e!==null)throw e}}function Fi(e,t,r,s){Pu=!1;var c=e.updateQueue;Aa=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var T=b,k=T.next;T.next=null,p===null?d=k:p.next=k,p=T;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==p&&(b===null?$.firstBaseUpdate=k:b.next=k,$.lastBaseUpdate=T))}if(d!==null){var K=c.baseState;p=0,$=k=T=null,b=d;do{var z=b.lane&-536870913,B=z!==b.lane;if(B?(Re&z)===z:(s&z)===z){z!==0&&z===Vr&&(Pu=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var te=e,he=b;z=t;var Ye=r;switch(he.tag){case 1:if(te=he.payload,typeof te=="function"){K=te.call(Ye,K,z);break e}K=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=he.payload,z=typeof te=="function"?te.call(Ye,K,z):te,z==null)break e;K=y({},K,z);break e;case 2:Aa=!0}}z=b.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(k=$=B,T=K):$=$.next=B,p|=z;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;B=b,b=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);$===null&&(T=K),c.baseState=T,c.firstBaseUpdate=k,c.lastBaseUpdate=$,d===null&&(c.shared.lanes=0),Ma|=p,e.lanes=p,e.memoizedState=K}}function Nh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function jh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Nh(r[e],t)}var Qr=R(null),wl=R(0);function Mh(e,t){e=ha,P(wl,e),P(Qr,t),ha=e|t.baseLanes}function Qu(){P(wl,ha),P(Qr,Qr.current)}function Ju(){ha=wl.current,I(Qr),I(wl)}var sn=R(null),An=null;function Oa(e){var t=e.alternate;P(ot,ot.current&1),P(sn,e),An===null&&(t===null||Qr.current!==null||t.memoizedState!==null)&&(An=e)}function Zu(e){P(ot,ot.current),P(sn,e),An===null&&(An=e)}function kh(e){e.tag===22?(P(ot,ot.current),P(sn,e),An===null&&(An=e)):Ca()}function Ca(){P(ot,ot.current),P(sn,sn.current)}function ln(e){I(sn),An===e&&(An=null),I(ot)}var ot=R(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ad(r)||rd(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,_e=null,$e=null,ft=null,El=!1,Jr=!1,cr=!1,xl=0,Wi=0,Zr=null,_0=0;function tt(){throw Error(l(321))}function Fu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function Wu(e,t,r,s,c,d){return ia=d,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?vm:mc,cr=!1,d=r(s,c),cr=!1,Jr&&(d=Uh(t,r,s,c)),zh(e),d}function zh(e){E.H=ns;var t=$e!==null&&$e.next!==null;if(ia=0,ft=$e=_e=null,El=!1,Wi=0,Zr=null,t)throw Error(l(300));e===null||ht||(e=e.dependencies,e!==null&&ml(e)&&(ht=!0))}function Uh(e,t,r,s){_e=e;var c=0;do{if(Jr&&(Zr=null),Wi=0,Jr=!1,25<=c)throw Error(l(301));if(c+=1,ft=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}E.H=ym,d=t(r,s)}while(Jr);return d}function w0(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?es(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(_e.flags|=1024),t}function ec(){var e=xl!==0;return xl=0,e}function tc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function nc(e){if(El){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}El=!1}ia=0,ft=$e=_e=null,Jr=!1,Wi=xl=0,Zr=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?_e.memoizedState=ft=e:ft=ft.next=e,ft}function ut(){if($e===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ft===null?_e.memoizedState:ft.next;if(t!==null)ft=t,$e=e;else{if(e===null)throw _e.alternate===null?Error(l(467)):Error(l(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ft===null?_e.memoizedState=ft=e:ft=ft.next=e}return ft}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(e){var t=Wi;return Wi+=1,Zr===null&&(Zr=[]),e=Ah(Zr,e,t),t=_e,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?vm:mc),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return es(e);if(e.$$typeof===U)return jt(e)}throw Error(l(438,String(e)))}function ac(e){var t=null,r=_e.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var s=_e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Tl(),_e.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=de;return t.index++,r}function sa(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=ut();return rc(t,$e,e)}function rc(e,t,r){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=r;var c=e.baseQueue,d=s.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}t.baseQueue=c=d,s.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var b=p=null,T=null,k=t,$=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Re&K)===K:(ia&K)===K){var z=k.revertLane;if(z===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===Vr&&($=!0);else if((ia&z)===z){k=k.next,z===Vr&&($=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(b=T=K,p=d):T=T.next=K,_e.lanes|=z,Ma|=z;K=k.action,cr&&r(d,K),d=k.hasEagerState?k.eagerState:r(d,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(b=T=z,p=d):T=T.next=z,_e.lanes|=K,Ma|=K;k=k.next}while(k!==null&&k!==t);if(T===null?p=d:T.next=b,!an(d,e.memoizedState)&&(ht=!0,$&&(r=Kr,r!==null)))throw r;e.memoizedState=d,e.baseState=p,e.baseQueue=T,s.lastRenderedState=d}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ic(e){var t=ut(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var s=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);an(d,t.memoizedState)||(ht=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function Lh(e,t,r){var s=_e,c=ut(),d=Oe;if(d){if(r===void 0)throw Error(l(407));r=r()}else r=t();var p=!an(($e||c).memoizedState,r);if(p&&(c.memoizedState=r,ht=!0),c=c.queue,oc(Ih.bind(null,s,c,e),[e]),c.getSnapshot!==t||p||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,Fr(9,{destroy:void 0},Hh.bind(null,s,c,r,t),null),Ke===null)throw Error(l(349));d||(ia&127)!==0||Bh(s,t,r)}return r}function Bh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_e.updateQueue,t===null?(t=Tl(),_e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hh(e,t,r,s){t.value=r,t.getSnapshot=s,qh(t)&&$h(e)}function Ih(e,t,r){return r(function(){qh(t)&&$h(e)})}function qh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function $h(e){var t=tr(e,2);t!==null&&en(t,e,2)}function sc(e){var t=Gt();if(typeof e=="function"){var r=e;if(e=r(),cr){$t(!0);try{r()}finally{$t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e},t}function Gh(e,t,r,s){return e.baseState=r,rc(e,$e,typeof s=="function"?s:sa)}function S0(e,t,r,s,c){if(Cl(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};E.T!==null?r(!0):d.isTransition=!1,s(d),r=t.pending,r===null?(d.next=t.pending=d,Yh(t,d)):(d.next=r.next,t.pending=r.next=d)}}function Yh(e,t){var r=t.action,s=t.payload,c=e.state;if(t.isTransition){var d=E.T,p={};E.T=p;try{var b=r(c,s),T=E.S;T!==null&&T(p,b),Vh(e,t,b)}catch(k){lc(e,t,k)}finally{d!==null&&p.types!==null&&(d.types=p.types),E.T=d}}else try{d=r(c,s),Vh(e,t,d)}catch(k){lc(e,t,k)}}function Vh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){Kh(e,t,s)},function(s){return lc(e,t,s)}):Kh(e,t,r)}function Kh(e,t,r){t.status="fulfilled",t.value=r,Xh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Yh(e,r)))}function lc(e,t,r){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=r,Xh(t),t=t.next;while(t!==s)}e.action=null}function Xh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ph(e,t){return t}function Qh(e,t){if(Oe){var r=Ke.formState;if(r!==null){e:{var s=_e;if(Oe){if(Qe){t:{for(var c=Qe,d=Tn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Rn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Qe=Rn(c.nextSibling),s=c.data==="F!";break e}}xa(s)}s=!1}s&&(t=r[0])}}return r=Gt(),r.memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},r.queue=s,r=mm.bind(null,_e,s),s.dispatch=r,s=sc(!1),d=hc.bind(null,_e,!1,s.queue),s=Gt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,r=S0.bind(null,_e,c,d,r),c.dispatch=r,s.memoizedState=e,[t,r,!1]}function Jh(e){var t=ut();return Zh(t,$e,e)}function Zh(e,t,r){if(t=rc(e,t,Ph)[0],e=Rl(sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=es(t)}catch(p){throw p===Xr?vl:p}else s=t;t=ut();var c=t.queue,d=c.dispatch;return r!==t.memoizedState&&(_e.flags|=2048,Fr(9,{destroy:void 0},E0.bind(null,c,r),null)),[s,d,e]}function E0(e,t){e.action=t}function Fh(e){var t=ut(),r=$e;if(r!==null)return Zh(t,r,e);ut(),t=t.memoizedState,r=ut();var s=r.queue.dispatch;return r.memoizedState=e,[t,s,!1]}function Fr(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Tl(),_e.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function Wh(){return ut().memoizedState}function Dl(e,t,r,s){var c=Gt();_e.flags|=e,c.memoizedState=Fr(1|t,{destroy:void 0},r,s===void 0?null:s)}function Ol(e,t,r,s){var c=ut();s=s===void 0?null:s;var d=c.memoizedState.inst;$e!==null&&s!==null&&Fu(s,$e.memoizedState.deps)?c.memoizedState=Fr(t,d,r,s):(_e.flags|=e,c.memoizedState=Fr(1|t,d,r,s))}function em(e,t){Dl(8390656,8,e,t)}function oc(e,t){Ol(2048,8,e,t)}function x0(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Tl(),_e.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function tm(e){var t=ut().memoizedState;return x0({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function nm(e,t){return Ol(4,2,e,t)}function am(e,t){return Ol(4,4,e,t)}function rm(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,r){r=r!=null?r.concat([e]):null,Ol(4,4,rm.bind(null,t,e),r)}function uc(){}function sm(e,t){var r=ut();t=t===void 0?null:t;var s=r.memoizedState;return t!==null&&Fu(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function lm(e,t){var r=ut();t=t===void 0?null:t;var s=r.memoizedState;if(t!==null&&Fu(t,s[1]))return s[0];if(s=e(),cr){$t(!0);try{e()}finally{$t(!1)}}return r.memoizedState=[s,t],s}function cc(e,t,r){return r===void 0||(ia&1073741824)!==0&&(Re&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=og(),_e.lanes|=e,Ma|=e,r)}function om(e,t,r,s){return an(r,t)?r:Qr.current!==null?(e=cc(e,r,s),an(e,t)||(ht=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(Re&261930)===0?(ht=!0,e.memoizedState=r):(e=og(),_e.lanes|=e,Ma|=e,t)}function um(e,t,r,s,c){var d=X.p;X.p=d!==0&&8>d?d:8;var p=E.T,b={};E.T=b,hc(e,!1,t,r);try{var T=c(),k=E.S;if(k!==null&&k(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var $=b0(T,s);ts(e,t,$,cn(e))}else ts(e,t,s,cn(e))}catch(K){ts(e,t,{then:function(){},status:"rejected",reason:K},cn())}finally{X.p=d,p!==null&&b.types!==null&&(p.types=b.types),E.T=p}}function T0(){}function dc(e,t,r,s){if(e.tag!==5)throw Error(l(476));var c=cm(e).queue;um(e,c,t,W,r===null?T0:function(){return dm(e),r(s)})}function cm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:W},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=cm(e);t.next===null&&(t=e.alternate.memoizedState),ts(e,t.next.queue,{},cn())}function fc(){return jt(ys)}function fm(){return ut().memoizedState}function hm(){return ut().memoizedState}function A0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=cn();e=Ra(r);var s=Da(t,e,r);s!==null&&(en(s,t,r),Ji(s,t,r)),t={cache:qu()},e.payload=t;return}t=t.return}}function R0(e,t,r){var s=cn();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cl(e)?gm(t,r):(r=Cu(e,t,r,s),r!==null&&(en(r,e,s),pm(r,t,s)))}function mm(e,t,r){var s=cn();ts(e,t,r,s)}function ts(e,t,r,s){var c={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cl(e))gm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,r);if(c.hasEagerState=!0,c.eagerState=b,an(b,p))return cl(e,t,c,0),Ke===null&&ul(),!1}catch{}if(r=Cu(e,t,c,s),r!==null)return en(r,e,s),pm(r,t,s),!0}return!1}function hc(e,t,r,s){if(s={lane:2,revertLane:Vc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cl(e)){if(t)throw Error(l(479))}else t=Cu(e,r,s,2),t!==null&&en(t,e,2)}function Cl(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function gm(e,t){Jr=El=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pm(e,t,r){if((r&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,nn(e,r)}}var ns={readContext:jt,use:Al,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};ns.useEffectEvent=tt;var vm={readContext:jt,use:Al,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:em,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Dl(4194308,4,rm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var r=Gt();t=t===void 0?null:t;var s=e();if(cr){$t(!0);try{e()}finally{$t(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=Gt();if(r!==void 0){var c=r(t);if(cr){$t(!0);try{r(t)}finally{$t(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=R0.bind(null,_e,e),[s.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=sc(e);var t=e.queue,r=mm.bind(null,_e,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:uc,useDeferredValue:function(e,t){var r=Gt();return cc(r,e,t)},useTransition:function(){var e=sc(!1);return e=um.bind(null,_e,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=_e,c=Gt();if(Oe){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Ke===null)throw Error(l(349));(Re&127)!==0||Bh(s,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,em(Ih.bind(null,s,d,e),[e]),s.flags|=2048,Fr(9,{destroy:void 0},Hh.bind(null,s,d,r,t),null),r},useId:function(){var e=Gt(),t=Ke.identifierPrefix;if(Oe){var r=Vn,s=Yn;r=(s&~(1<<32-pt(s)-1)).toString(32)+r,t="_"+t+"R_"+r,r=xl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=_0++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fc,useFormState:Qh,useActionState:Qh,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=hc.bind(null,_e,!0,r),r.dispatch=t,[e,t]},useMemoCache:ac,useCacheRefresh:function(){return Gt().memoizedState=A0.bind(null,_e)},useEffectEvent:function(e){var t=Gt(),r={impl:e};return t.memoizedState=r,function(){if((Be&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},mc={readContext:jt,use:Al,useCallback:sm,useContext:jt,useEffect:oc,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:lm,useReducer:Rl,useRef:Wh,useState:function(){return Rl(sa)},useDebugValue:uc,useDeferredValue:function(e,t){var r=ut();return om(r,$e.memoizedState,e,t)},useTransition:function(){var e=Rl(sa)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Lh,useId:fm,useHostTransitionStatus:fc,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,t){var r=ut();return Gh(r,$e,e,t)},useMemoCache:ac,useCacheRefresh:hm};mc.useEffectEvent=tm;var ym={readContext:jt,use:Al,useCallback:sm,useContext:jt,useEffect:oc,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:lm,useReducer:ic,useRef:Wh,useState:function(){return ic(sa)},useDebugValue:uc,useDeferredValue:function(e,t){var r=ut();return $e===null?cc(r,e,t):om(r,$e.memoizedState,e,t)},useTransition:function(){var e=ic(sa)[0],t=ut().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Lh,useId:fm,useHostTransitionStatus:fc,useFormState:Fh,useActionState:Fh,useOptimistic:function(e,t){var r=ut();return $e!==null?Gh(r,$e,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ac,useCacheRefresh:hm};ym.useEffectEvent=tm;function gc(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pc={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=cn(),c=Ra(s);c.payload=t,r!=null&&(c.callback=r),t=Da(e,c,s),t!==null&&(en(t,e,s),Ji(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=cn(),c=Ra(s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Da(e,c,s),t!==null&&(en(t,e,s),Ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cn(),s=Ra(r);s.tag=2,t!=null&&(s.callback=t),t=Da(e,s,r),t!==null&&(en(t,e,r),Ji(t,e,r))}};function bm(e,t,r,s,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!$i(r,s)||!$i(c,d):!0}function _m(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function dr(e,t){var r=t;if("ref"in t){r={};for(var s in t)s!=="ref"&&(r[s]=t[s])}if(e=e.defaultProps){r===t&&(r=y({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function wm(e){ol(e)}function Sm(e){console.error(e)}function Em(e){ol(e)}function Nl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xm(e,t,r){try{var s=e.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vc(e,t,r){return r=Ra(r),r.tag=3,r.payload={element:null},r.callback=function(){Nl(e,t)},r}function Tm(e){return e=Ra(e),e.tag=3,e}function Am(e,t,r,s){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;e.payload=function(){return c(d)},e.callback=function(){xm(t,r,s)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){xm(t,r,s),typeof c!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function D0(e,t,r,s,c){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=r.alternate,t!==null&&Yr(t,r,c,!0),r=sn.current,r!==null){switch(r.tag){case 31:case 13:return An===null?Gl():r.alternate===null&&nt===0&&(nt=3),r.flags&=-257,r.flags|=65536,r.lanes=c,s===yl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([s]):t.add(s),$c(e,s,c)),!1;case 22:return r.flags|=65536,s===yl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([s]):r.add(s)),$c(e,s,c)),!1}throw Error(l(435,r.tag))}return $c(e,s,c),Gl(),!1}if(Oe)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==Uu&&(e=Error(l(422),{cause:s}),Vi(Sn(e,r)))):(s!==Uu&&(t=Error(l(423),{cause:s}),Vi(Sn(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Sn(s,r),c=vc(e.stateNode,s,c),Xu(e,c),nt!==4&&(nt=2)),!1;var d=Error(l(520),{cause:s});if(d=Sn(d,r),cs===null?cs=[d]:cs.push(d),nt!==4&&(nt=2),t===null)return!0;s=Sn(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=vc(r.stateNode,s,e),Xu(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Tm(c),Am(c,e,r,s),Xu(r,c),!1}r=r.return}while(r!==null);return!1}var yc=Error(l(461)),ht=!1;function Mt(e,t,r,s){t.child=e===null?Ch(t,null,r,s):ur(t,e.child,r,s)}function Rm(e,t,r,s,c){r=r.render;var d=t.ref;if("ref"in s){var p={};for(var b in s)b!=="ref"&&(p[b]=s[b])}else p=s;return ir(t),s=Wu(e,t,r,p,d,c),b=ec(),e!==null&&!ht?(tc(e,t,c),la(e,t,c)):(Oe&&b&&ku(t),t.flags|=1,Mt(e,t,s,c),t.child)}function Dm(e,t,r,s,c){if(e===null){var d=r.type;return typeof d=="function"&&!Nu(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,Om(e,t,d,s,c)):(e=fl(r.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ac(e,c)){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(p,s)&&e.ref===t.ref)return la(e,t,c)}return t.flags|=1,e=ta(d,s),e.ref=t.ref,e.return=t,t.child=e}function Om(e,t,r,s,c){if(e!==null){var d=e.memoizedProps;if($i(d,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=d,Ac(e,c))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,la(e,t,c)}return bc(e,t,r,s,c)}function Cm(e,t,r,s){var c=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~d}else s=0,t.child=null;return Nm(e,t,d,r,s)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(t,d!==null?d.cachePool:null),d!==null?Mh(t,d):Qu(),kh(t);else return s=t.lanes=536870912,Nm(e,t,d!==null?d.baseLanes|r:r,r,s)}else d!==null?(pl(t,d.cachePool),Mh(t,d),Ca(),t.memoizedState=null):(e!==null&&pl(t,null),Qu(),Ca());return Mt(e,t,c,r),t.child}function as(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nm(e,t,r,s,c){var d=Gu();return d=d===null?null:{parent:dt._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&pl(t,null),Qu(),kh(t),e!==null&&Yr(e,t,s,!0),t.childLanes=c,null}function jl(e,t){return t=kl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jm(e,t,r){return ur(t,e.child,null,r),e=jl(t,t.pendingProps),e.flags|=2,ln(t),t.memoizedState=null,e}function O0(e,t,r){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(s.mode==="hidden")return e=jl(t,s),t.lanes=536870912,as(null,e);if(Zu(t),(e=Qe)?(e=Yg(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Yn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},r=gh(e),r.return=t,t.child=r,Nt=t,Qe=null)):e=null,e===null)throw xa(t);return t.lanes=536870912,null}return jl(t,s)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Zu(t),c)if(t.flags&256)t.flags&=-257,t=jm(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(ht||Yr(e,t,r,!1),c=(r&e.childLanes)!==0,ht||c){if(s=Ke,s!==null&&(p=vn(s,r),p!==0&&p!==d.retryLane))throw d.retryLane=p,tr(e,p),en(s,e,p),yc;Gl(),t=jm(e,t,r)}else e=d.treeContext,Qe=Rn(p.nextSibling),Nt=t,Oe=!0,Ea=null,Tn=!1,e!==null&&yh(t,e),t=jl(t,s),t.flags|=4096;return t}return e=ta(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ml(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function bc(e,t,r,s,c){return ir(t),r=Wu(e,t,r,s,void 0,c),s=ec(),e!==null&&!ht?(tc(e,t,c),la(e,t,c)):(Oe&&s&&ku(t),t.flags|=1,Mt(e,t,r,c),t.child)}function Mm(e,t,r,s,c,d){return ir(t),t.updateQueue=null,r=Uh(t,s,r,c),zh(e),s=ec(),e!==null&&!ht?(tc(e,t,d),la(e,t,d)):(Oe&&s&&ku(t),t.flags|=1,Mt(e,t,r,d),t.child)}function km(e,t,r,s,c){if(ir(t),t.stateNode===null){var d=Ir,p=r.contextType;typeof p=="object"&&p!==null&&(d=jt(p)),d=new r(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Vu(t),p=r.contextType,d.context=typeof p=="object"&&p!==null?jt(p):Ir,d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(gc(t,r,p,s),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&pc.enqueueReplaceState(d,d.state,null),Fi(t,s,d,c),Zi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,T=dr(r,b);d.props=T;var k=d.context,$=r.contextType;p=Ir,typeof $=="object"&&$!==null&&(p=jt($));var K=r.getDerivedStateFromProps;$=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||k!==p)&&_m(t,d,s,p),Aa=!1;var z=t.memoizedState;d.state=z,Fi(t,s,d,c),Zi(),k=t.memoizedState,b||z!==k||Aa?(typeof K=="function"&&(gc(t,r,K,s),k=t.memoizedState),(T=Aa||bm(t,r,T,s,z,k,p))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),d.props=s,d.state=k,d.context=p,s=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Ku(e,t),p=t.memoizedProps,$=dr(r,p),d.props=$,K=t.pendingProps,z=d.context,k=r.contextType,T=Ir,typeof k=="object"&&k!==null&&(T=jt(k)),b=r.getDerivedStateFromProps,(k=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==K||z!==T)&&_m(t,d,s,T),Aa=!1,z=t.memoizedState,d.state=z,Fi(t,s,d,c),Zi();var B=t.memoizedState;p!==K||z!==B||Aa||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof b=="function"&&(gc(t,r,b,s),B=t.memoizedState),($=Aa||bm(t,r,$,s,z,B,T)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,B,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,B,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),d.props=s,d.state=B,d.context=T,s=$):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ml(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=ur(t,e.child,null,c),t.child=ur(t,null,r,c)):Mt(e,t,r,c),t.memoizedState=d.state,e=t.child):e=la(e,t,c),e}function zm(e,t,r,s){return ar(),t.flags|=256,Mt(e,t,r,s),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wc(e){return{baseLanes:e,cachePool:xh()}}function Sc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=un),e}function Um(e,t,r){var s=t.pendingProps,c=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(c?Oa(t):Ca(),(e=Qe)?(e=Yg(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Yn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},r=gh(e),r.return=t,t.child=r,Nt=t,Qe=null)):e=null,e===null)throw xa(t);return rd(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,c?(Ca(),c=t.mode,b=kl({mode:"hidden",children:b},c),s=nr(s,c,r,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=wc(r),s.childLanes=Sc(e,p,r),t.memoizedState=_c,as(null,s)):(Oa(t),Ec(t,b))}var T=e.memoizedState;if(T!==null&&(b=T.dehydrated,b!==null)){if(d)t.flags&256?(Oa(t),t.flags&=-257,t=xc(e,t,r)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),b=s.fallback,c=t.mode,s=kl({mode:"visible",children:s.children},c),b=nr(b,c,r,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,ur(t,e.child,null,r),s=t.child,s.memoizedState=wc(r),s.childLanes=Sc(e,p,r),t.memoizedState=_c,t=as(null,s));else if(Oa(t),rd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var k=p.dgst;p=k,s=Error(l(419)),s.stack="",s.digest=p,Vi({value:s,source:null,stack:null}),t=xc(e,t,r)}else if(ht||Yr(e,t,r,!1),p=(r&e.childLanes)!==0,ht||p){if(p=Ke,p!==null&&(s=vn(p,r),s!==0&&s!==T.retryLane))throw T.retryLane=s,tr(e,s),en(p,e,s),yc;ad(b)||Gl(),t=xc(e,t,r)}else ad(b)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Qe=Rn(b.nextSibling),Nt=t,Oe=!0,Ea=null,Tn=!1,e!==null&&yh(t,e),t=Ec(t,s.children),t.flags|=4096);return t}return c?(Ca(),b=s.fallback,c=t.mode,T=e.child,k=T.sibling,s=ta(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,k!==null?b=ta(k,b):(b=nr(b,c,r,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,as(null,s),s=t.child,b=e.child.memoizedState,b===null?b=wc(r):(c=b.cachePool,c!==null?(T=dt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=xh(),b={baseLanes:b.baseLanes|r,cachePool:c}),s.memoizedState=b,s.childLanes=Sc(e,p,r),t.memoizedState=_c,as(e.child,s)):(Oa(t),r=e.child,e=r.sibling,r=ta(r,{mode:"visible",children:s.children}),r.return=t,r.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=r,t.memoizedState=null,r)}function Ec(e,t){return t=kl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kl(e,t){return e=rn(22,e,null,t),e.lanes=0,e}function xc(e,t,r){return ur(t,e.child,null,r),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lm(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Hu(e.return,t,r)}function Tc(e,t,r,s,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:c,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=r,p.tailMode=c,p.treeForkCount=d)}function Bm(e,t,r){var s=t.pendingProps,c=s.revealOrder,d=s.tail;s=s.children;var p=ot.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,P(ot,p),Mt(e,t,s,r),s=Oe?Yi:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lm(e,r,t);else if(e.tag===19)Lm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Sl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Tc(t,!1,c,r,d,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Sl(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Tc(t,!0,r,null,d,s);break;case"together":Tc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function la(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Yr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function C0(e,t,r){switch(t.tag){case 3:Le(t,t.stateNode.containerInfo),Ta(t,dt,e.memoizedState.cache),ar();break;case 27:case 5:fe(t);break;case 4:Le(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Oa(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Um(e,t,r):(Oa(t),e=la(e,t,r),e!==null?e.sibling:null);Oa(t);break;case 19:var c=(e.flags&128)!==0;if(s=(r&t.childLanes)!==0,s||(Yr(e,t,r,!1),s=(r&t.childLanes)!==0),c){if(s)return Bm(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(ot,ot.current),s)break;return null;case 22:return t.lanes=0,Cm(e,t,r,t.pendingProps);case 24:Ta(t,dt,e.memoizedState.cache)}return la(e,t,r)}function Hm(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Ac(e,r)&&(t.flags&128)===0)return ht=!1,C0(e,t,r);ht=(e.flags&131072)!==0}else ht=!1,Oe&&(t.flags&1048576)!==0&&vh(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=lr(t.elementType),t.type=e,typeof e=="function")Nu(e)?(s=dr(e,s),t.tag=1,t=km(null,t,e,s,r)):(t.tag=0,t=bc(null,t,e,s,r));else{if(e!=null){var c=e.$$typeof;if(c===O){t.tag=11,t=Rm(null,t,e,s,r);break e}else if(c===V){t.tag=14,t=Dm(null,t,e,s,r);break e}}throw t=Se(e)||e,Error(l(306,t,""))}}return t;case 0:return bc(e,t,t.type,t.pendingProps,r);case 1:return s=t.type,c=dr(s,t.pendingProps),km(e,t,s,c,r);case 3:e:{if(Le(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;c=d.element,Ku(e,t),Fi(t,s,null,r);var p=t.memoizedState;if(s=p.cache,Ta(t,dt,s),s!==d.cache&&Iu(t,[dt],r,!0),Zi(),s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=zm(e,t,s,r);break e}else if(s!==c){c=Sn(Error(l(424)),t),Vi(c),t=zm(e,t,s,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=Rn(e.firstChild),Nt=t,Oe=!0,Ea=null,Tn=!0,r=Ch(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ar(),s===c){t=la(e,t,r);break e}Mt(e,t,s,r)}t=t.child}return t;case 26:return Ml(e,t),e===null?(r=Jg(t.type,null,t.pendingProps,null))?t.memoizedState=r:Oe||(r=t.type,e=t.pendingProps,s=Jl(ie.current).createElement(r),s[Ct]=t,s[Pt]=e,kt(s,r,e),Et(s),t.stateNode=s):t.memoizedState=Jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fe(t),e===null&&Oe&&(s=t.stateNode=Xg(t.type,t.pendingProps,ie.current),Nt=t,Tn=!0,c=Qe,Ba(t.type)?(id=c,Qe=Rn(s.firstChild)):Qe=c),Mt(e,t,t.pendingProps.children,r),Ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((c=s=Qe)&&(s=sb(s,t.type,t.pendingProps,Tn),s!==null?(t.stateNode=s,Nt=t,Qe=Rn(s.firstChild),Tn=!1,c=!0):c=!1),c||xa(t)),fe(t),c=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,s=d.children,ed(c,d)?s=null:p!==null&&ed(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Wu(e,t,w0,null,null,r),ys._currentValue=c),Ml(e,t),Mt(e,t,s,r),t.child;case 6:return e===null&&Oe&&((e=r=Qe)&&(r=lb(r,t.pendingProps,Tn),r!==null?(t.stateNode=r,Nt=t,Qe=null,e=!0):e=!1),e||xa(t)),null;case 13:return Um(e,t,r);case 4:return Le(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ur(t,null,s,r):Mt(e,t,s,r),t.child;case 11:return Rm(e,t,t.type,t.pendingProps,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,Ta(t,t.type,s.value),Mt(e,t,s.children,r),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,ir(t),c=jt(c),s=s(c),t.flags|=1,Mt(e,t,s,r),t.child;case 14:return Dm(e,t,t.type,t.pendingProps,r);case 15:return Om(e,t,t.type,t.pendingProps,r);case 19:return Bm(e,t,r);case 31:return O0(e,t,r);case 22:return Cm(e,t,r,t.pendingProps);case 24:return ir(t),s=jt(dt),e===null?(c=Gu(),c===null&&(c=Ke,d=qu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),t.memoizedState={parent:s,cache:c},Vu(t),Ta(t,dt,c)):((e.lanes&r)!==0&&(Ku(e,t),Fi(t,null,null,r),Zi()),c=e.memoizedState,d=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ta(t,dt,s)):(s=d.cache,Ta(t,dt,s),s!==c.cache&&Iu(t,[dt],r,!0))),Mt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function oa(e){e.flags|=4}function Rc(e,t,r,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(fg())e.flags|=8192;else throw or=yl,Yu}else e.flags&=-16777217}function Im(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tp(t))if(fg())e.flags|=8192;else throw or=yl,Yu}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bt():536870912,e.lanes|=t,ni|=t)}function rs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function N0(e,t,r){var s=t.pendingProps;switch(zu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return r=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ra(dt),Q(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gr(t)?oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lu())),Je(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(oa(t),d!==null?(Je(t),Im(t,d)):(Je(t),Rc(t,c,null,s,r))):d?d!==e.memoizedState?(oa(t),Je(t),Im(t,d)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&oa(t),Je(t),Rc(t,c,e,s,r)),null;case 27:if(Ve(t),r=ie.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Je(t),null}e=Z.current,Gr(t)?bh(t):(e=Xg(c,s,r),t.stateNode=e,oa(t))}return Je(t),null;case 5:if(Ve(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Je(t),null}if(d=Z.current,Gr(t))bh(t);else{var p=Jl(ie.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?p.createElement(c,{is:s.is}):p.createElement(c)}}d[Ct]=t,d[Pt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(kt(d,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&oa(t)}}return Je(t),Rc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ie.current,Gr(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[Ct]=t,e=!!(e.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Ug(e.nodeValue,r)),e||xa(t,!0)}else e=Jl(e).createTextNode(s),e[Ct]=t,t.stateNode=e}return Je(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(s=Gr(t),r!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ct]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else r=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(ln(t),t):(ln(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Je(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Gr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Ct]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),c=!1}else c=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ln(t),t):(ln(t),null)}return ln(t),(t.flags&128)!==0?(t.lanes=r,t):(r=s!==null,e=e!==null&&e.memoizedState!==null,r&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),zl(t,t.updateQueue),Je(t),null);case 4:return Q(),e===null&&Qc(t.stateNode.containerInfo),Je(t),null;case 10:return ra(t.type),Je(t),null;case 19:if(I(ot),s=t.memoizedState,s===null)return Je(t),null;if(c=(t.flags&128)!==0,d=s.rendering,d===null)if(c)rs(s,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Sl(e),d!==null){for(t.flags|=128,rs(s,!1),e=d.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)mh(r,e),r=r.sibling;return P(ot,ot.current&1|2),Oe&&na(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ke()>Il&&(t.flags|=128,c=!0,rs(s,!1),t.lanes=4194304)}else{if(!c)if(e=Sl(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),rs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Oe)return Je(t),null}else 2*ke()-s.renderingStartTime>Il&&r!==536870912&&(t.flags|=128,c=!0,rs(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,r=ot.current,P(ot,c?r&1|2:r&1),Oe&&na(t,s.treeForkCount),e):(Je(t),null);case 22:case 23:return ln(t),Ju(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(r&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),r=t.updateQueue,r!==null&&zl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),e!==null&&I(sr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(dt),Je(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function j0(e,t){switch(zu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(dt),Q(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ve(t),null;case 31:if(t.memoizedState!==null){if(ln(t),t.alternate===null)throw Error(l(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(ot),null;case 4:return Q(),null;case 10:return ra(t.type),null;case 22:case 23:return ln(t),Ju(),e!==null&&I(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(dt),null;case 25:return null;default:return null}}function qm(e,t){switch(zu(t),t.tag){case 3:ra(dt),Q();break;case 26:case 27:case 5:Ve(t);break;case 4:Q();break;case 31:t.memoizedState!==null&&ln(t);break;case 13:ln(t);break;case 19:I(ot);break;case 10:ra(t.type);break;case 22:case 23:ln(t),Ju(),e!==null&&I(sr);break;case 24:ra(dt)}}function is(e,t){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var c=s.next;r=c;do{if((r.tag&e)===e){s=void 0;var d=r.create,p=r.inst;s=d(),p.destroy=s}r=r.next}while(r!==c)}}catch(b){qe(t,t.return,b)}}function Na(e,t,r){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&e)===e){var p=s.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,c=t;var T=r,k=b;try{k()}catch($){qe(c,T,$)}}}s=s.next}while(s!==d)}}catch($){qe(t,t.return,$)}}function $m(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{jh(t,r)}catch(s){qe(e,e.return,s)}}}function Gm(e,t,r){r.props=dr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){qe(e,t,s)}}function ss(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof r=="function"?e.refCleanup=r(s):r.current=s}}catch(c){qe(e,t,c)}}function Kn(e,t){var r=e.ref,s=e.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(c){qe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){qe(e,t,c)}else r.current=null}function Ym(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(c){qe(e,e.return,c)}}function Dc(e,t,r){try{var s=e.stateNode;eb(s,e.type,r,t),s[Pt]=t}catch(c){qe(e,e.return,c)}}function Vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ba(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wn));else if(s!==4&&(s===27&&Ba(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Cc(e,t,r),e=e.sibling;e!==null;)Cc(e,t,r),e=e.sibling}function Ul(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(s===27&&Ba(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ul(e,t,r),e=e.sibling;e!==null;)Ul(e,t,r),e=e.sibling}function Km(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,s,r),t[Ct]=e,t[Pt]=r}catch(d){qe(e,e.return,d)}}var ua=!1,mt=!1,Nc=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,xt=null;function M0(e,t){if(e=e.containerInfo,Fc=ao,e=ih(e),xu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var c=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,b=-1,T=-1,k=0,$=0,K=e,z=null;t:for(;;){for(var B;K!==r||c!==0&&K.nodeType!==3||(b=p+c),K!==d||s!==0&&K.nodeType!==3||(T=p+s),K.nodeType===3&&(p+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break t;if(z===r&&++k===c&&(b=p),z===d&&++$===s&&(T=p),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}r=b===-1||T===-1?null:{start:b,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wc={focusedElem:e,selectionRange:r},ao=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){switch(t=xt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,c=d.memoizedProps,d=d.memoizedState,s=r.stateNode;try{var te=dr(r.type,c);e=s.getSnapshotBeforeUpdate(te,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){qe(r,r.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}}function Pm(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:da(e,r),s&4&&is(5,r);break;case 1:if(da(e,r),s&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(p){qe(r,r.return,p)}else{var c=dr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){qe(r,r.return,p)}}s&64&&$m(r),s&512&&ss(r,r.return);break;case 3:if(da(e,r),s&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{jh(e,t)}catch(p){qe(r,r.return,p)}}break;case 27:t===null&&s&4&&Km(r);case 26:case 5:da(e,r),t===null&&s&4&&Ym(r),s&512&&ss(r,r.return);break;case 12:da(e,r);break;case 31:da(e,r),s&4&&Zm(e,r);break;case 13:da(e,r),s&4&&Fm(e,r),s&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=$0.bind(null,r),ob(e,r))));break;case 22:if(s=r.memoizedState!==null||ua,!s){t=t!==null&&t.memoizedState!==null||mt,c=ua;var d=mt;ua=s,(mt=t)&&!d?fa(e,r,(r.subtreeFlags&8772)!==0):da(e,r),ua=c,mt=d}break;case 30:break;default:da(e,r)}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Jt=!1;function ca(e,t,r){for(r=r.child;r!==null;)Jm(e,t,r),r=r.sibling}function Jm(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 26:mt||Kn(r,t),ca(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:mt||Kn(r,t);var s=Fe,c=Jt;Ba(r.type)&&(Fe=r.stateNode,Jt=!1),ca(e,t,r),gs(r.stateNode),Fe=s,Jt=c;break;case 5:mt||Kn(r,t);case 6:if(s=Fe,c=Jt,Fe=null,ca(e,t,r),Fe=s,Jt=c,Fe!==null)if(Jt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(r.stateNode)}catch(d){qe(r,t,d)}else try{Fe.removeChild(r.stateNode)}catch(d){qe(r,t,d)}break;case 18:Fe!==null&&(Jt?(e=Fe,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ci(e)):$g(Fe,r.stateNode));break;case 4:s=Fe,c=Jt,Fe=r.stateNode.containerInfo,Jt=!0,ca(e,t,r),Fe=s,Jt=c;break;case 0:case 11:case 14:case 15:Na(2,r,t),mt||Na(4,r,t),ca(e,t,r);break;case 1:mt||(Kn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"&&Gm(r,t,s)),ca(e,t,r);break;case 21:ca(e,t,r);break;case 22:mt=(s=mt)||r.memoizedState!==null,ca(e,t,r),mt=s;break;default:ca(e,t,r)}}function Zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ci(e)}catch(r){qe(t,t.return,r)}}}function Fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(r){qe(t,t.return,r)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xm),t;default:throw Error(l(435,e.tag))}}function Ll(e,t){var r=k0(e);t.forEach(function(s){if(!r.has(s)){r.add(s);var c=G0.bind(null,e,s);s.then(c,c)}})}function Zt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var c=r[s],d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Ba(b.type)){Fe=b.stateNode,Jt=!1;break e}break;case 5:Fe=b.stateNode,Jt=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,Jt=!0;break e}b=b.return}if(Fe===null)throw Error(l(160));Jm(d,p,c),Fe=null,Jt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}var kn=null;function Wm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Ft(e),s&4&&(Na(3,e,e.return),is(3,e),Na(5,e,e.return));break;case 1:Zt(t,e),Ft(e),s&512&&(mt||r===null||Kn(r,r.return)),s&64&&ua&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var c=kn;if(Zt(t,e),Ft(e),s&512&&(mt||r===null||Kn(r,r.return)),s&4){var d=r!==null?r.memoizedState:null;if(s=e.memoizedState,r===null)if(s===null)if(e.stateNode===null){e:{s=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Mi]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(s),c.head.insertBefore(d,c.querySelector("head > title"))),kt(d,s,r),d[Ct]=e,Et(d),s=d;break e;case"link":var p=Wg("link","href",c).get(s+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(d=p[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}d=c.createElement(s),kt(d,s,r),c.head.appendChild(d);break;case"meta":if(p=Wg("meta","content",c).get(s+(r.content||""))){for(b=0;b<p.length;b++)if(d=p[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}d=c.createElement(s),kt(d,s,r),c.head.appendChild(d);break;default:throw Error(l(468,s))}d[Ct]=e,Et(d),s=d}e.stateNode=s}else ep(c,e.type,e.stateNode);else e.stateNode=Fg(c,s,e.memoizedProps);else d!==s?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,s===null?ep(c,e.type,e.stateNode):Fg(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Dc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Zt(t,e),Ft(e),s&512&&(mt||r===null||Kn(r,r.return)),r!==null&&s&4&&Dc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Zt(t,e),Ft(e),s&512&&(mt||r===null||Kn(r,r.return)),e.flags&32){c=e.stateNode;try{Mr(c,"")}catch(te){qe(e,e.return,te)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Dc(e,c,r!==null?r.memoizedProps:c)),s&1024&&(Nc=!0);break;case 6:if(Zt(t,e),Ft(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(te){qe(e,e.return,te)}}break;case 3:if(Wl=null,c=kn,kn=Zl(t.containerInfo),Zt(t,e),kn=c,Ft(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(te){qe(e,e.return,te)}Nc&&(Nc=!1,eg(e));break;case 4:s=kn,kn=Zl(e.stateNode.containerInfo),Zt(t,e),Ft(e),kn=s;break;case 12:Zt(t,e),Ft(e);break;case 31:Zt(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 13:Zt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hl=ke()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 22:c=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,k=ua,$=mt;if(ua=k||c,mt=$||T,Zt(t,e),mt=$,ua=k,Ft(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||T||ua||mt||fr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){T=r=t;try{if(d=T.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=T.stateNode;var K=T.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(te){qe(T,T.return,te)}}}else if(t.tag===6){if(r===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(te){qe(T,T.return,te)}}}else if(t.tag===18){if(r===null){T=t;try{var B=T.stateNode;c?Gg(B,!0):Gg(T.stateNode,!1)}catch(te){qe(T,T.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,Ll(e,r))));break;case 19:Zt(t,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 30:break;case 21:break;default:Zt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var r,s=e.return;s!==null;){if(Vm(s)){r=s;break}s=s.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var c=r.stateNode,d=Oc(e);Ul(e,d,c);break;case 5:var p=r.stateNode;r.flags&32&&(Mr(p,""),r.flags&=-33);var b=Oc(e);Ul(e,b,p);break;case 3:case 4:var T=r.stateNode.containerInfo,k=Oc(e);Cc(e,k,T);break;default:throw Error(l(161))}}catch($){qe(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;eg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pm(e,t.alternate,t),t=t.sibling}function fr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Na(4,t,t.return),fr(t);break;case 1:Kn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Gm(t,t.return,r),fr(t);break;case 27:gs(t.stateNode);case 26:case 5:Kn(t,t.return),fr(t);break;case 22:t.memoizedState===null&&fr(t);break;case 30:fr(t);break;default:fr(t)}e=e.sibling}}function fa(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:fa(c,d,r),is(4,d);break;case 1:if(fa(c,d,r),s=d,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){qe(s,s.return,k)}if(s=d,c=s.updateQueue,c!==null){var b=s.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)Nh(T[c],b)}catch(k){qe(s,s.return,k)}}r&&p&64&&$m(d),ss(d,d.return);break;case 27:Km(d);case 26:case 5:fa(c,d,r),r&&s===null&&p&4&&Ym(d),ss(d,d.return);break;case 12:fa(c,d,r);break;case 31:fa(c,d,r),r&&p&4&&Zm(c,d);break;case 13:fa(c,d,r),r&&p&4&&Fm(c,d);break;case 22:d.memoizedState===null&&fa(c,d,r),ss(d,d.return);break;case 30:break;default:fa(c,d,r)}t=t.sibling}}function jc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ki(r))}function Mc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e))}function zn(e,t,r,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tg(e,t,r,s),t=t.sibling}function tg(e,t,r,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:zn(e,t,r,s),c&2048&&is(9,t);break;case 1:zn(e,t,r,s);break;case 3:zn(e,t,r,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e)));break;case 12:if(c&2048){zn(e,t,r,s),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,b=d.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){qe(t,t.return,T)}}else zn(e,t,r,s);break;case 31:zn(e,t,r,s);break;case 13:zn(e,t,r,s);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?zn(e,t,r,s):ls(e,t):d._visibility&2?zn(e,t,r,s):(d._visibility|=2,Wr(e,t,r,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&jc(p,t);break;case 24:zn(e,t,r,s),c&2048&&Mc(t.alternate,t);break;default:zn(e,t,r,s)}}function Wr(e,t,r,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,b=r,T=s,k=p.flags;switch(p.tag){case 0:case 11:case 15:Wr(d,p,b,T,c),is(8,p);break;case 23:break;case 22:var $=p.stateNode;p.memoizedState!==null?$._visibility&2?Wr(d,p,b,T,c):ls(d,p):($._visibility|=2,Wr(d,p,b,T,c)),c&&k&2048&&jc(p.alternate,p);break;case 24:Wr(d,p,b,T,c),c&&k&2048&&Mc(p.alternate,p);break;default:Wr(d,p,b,T,c)}t=t.sibling}}function ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,s=t,c=s.flags;switch(s.tag){case 22:ls(r,s),c&2048&&jc(s.alternate,s);break;case 24:ls(r,s),c&2048&&Mc(s.alternate,s);break;default:ls(r,s)}t=t.sibling}}var os=8192;function ei(e,t,r){if(e.subtreeFlags&os)for(e=e.child;e!==null;)ng(e,t,r),e=e.sibling}function ng(e,t,r){switch(e.tag){case 26:ei(e,t,r),e.flags&os&&e.memoizedState!==null&&_b(r,kn,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,r);break;case 3:case 4:var s=kn;kn=Zl(e.stateNode.containerInfo),ei(e,t,r),kn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=os,os=16777216,ei(e,t,r),os=s):ei(e,t,r));break;default:ei(e,t,r)}}function ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];xt=s,ig(s,e)}ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rg(e),e=e.sibling}function rg(e){switch(e.tag){case 0:case 11:case 15:us(e),e.flags&2048&&Na(9,e,e.return);break;case 3:us(e);break;case 12:us(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):us(e);break;default:us(e)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];xt=s,ig(s,e)}ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Na(8,t,t.return),Bl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function ig(e,t){for(;xt!==null;){var r=xt;switch(r.tag){case 0:case 11:case 15:Na(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ki(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,xt=s;else e:for(r=e;xt!==null;){s=xt;var c=s.sibling,d=s.return;if(Qm(s),s===r){xt=null;break e}if(c!==null){c.return=d,xt=c;break e}xt=d}}}var z0={getCacheForType:function(e){var t=jt(dt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return jt(dt).controller.signal}},U0=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ke=null,Te=null,Re=0,Ie=0,on=null,ja=!1,ti=!1,kc=!1,ha=0,nt=0,Ma=0,hr=0,zc=0,un=0,ni=0,cs=null,Wt=null,Uc=!1,Hl=0,sg=0,Il=1/0,ql=null,ka=null,yt=0,za=null,ai=null,ma=0,Lc=0,Bc=null,lg=null,ds=0,Hc=null;function cn(){return(Be&2)!==0&&Re!==0?Re&-Re:E.T!==null?Vc():jn()}function og(){if(un===0)if((Re&536870912)===0||Oe){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),un=e}else un=536870912;return e=sn.current,e!==null&&(e.flags|=32),un}function en(e,t,r){(e===Ke&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ri(e,0),Ua(e,Re,un,!1)),pn(e,r),((Be&2)===0||e!==Ke)&&(e===Ke&&((Be&2)===0&&(hr|=r),nt===4&&Ua(e,Re,un,!1)),Xn(e))}function ug(e,t,r){if((Be&6)!==0)throw Error(l(327));var s=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Vt(e,t),c=s?H0(e,t):qc(e,t,!0),d=s;do{if(c===0){ti&&!s&&Ua(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!L0(r)){c=qc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;c=cs;var T=b.current.memoizedState.isDehydrated;if(T&&(ri(b,p).flags|=256),p=qc(b,p,!1),p!==2){if(kc&&!T){b.errorRecoveryDisabledLanes|=d,hr|=d,c=4;break e}d=Wt,Wt=c,d!==null&&(Wt===null?Wt=d:Wt.push.apply(Wt,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){ri(e,0),Ua(e,t,0,!0);break}e:{switch(s=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ua(s,t,un,!ja);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Hl+300-ke(),10<c)){if(Ua(s,t,un,!ja),St(s,0,!0)!==0)break e;ma=t,s.timeoutHandle=Ig(cg.bind(null,s,r,Wt,ql,Uc,t,un,hr,ni,ja,d,"Throttled",-0,0),c);break e}cg(s,r,Wt,ql,Uc,t,un,hr,ni,ja,d,null,-0,0)}}break}while(!0);Xn(e)}function cg(e,t,r,s,c,d,p,b,T,k,$,K,z,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},ng(t,d,K);var te=(d&62914560)===d?Hl-ke():(d&4194048)===d?sg-ke():0;if(te=wb(K,te),te!==null){ma=d,e.cancelPendingCommit=te(yg.bind(null,e,t,d,r,s,c,p,b,T,$,K,null,z,B)),Ua(e,d,p,!k);return}}yg(e,t,d,r,s,c,p,b,T)}function L0(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var c=r[s],d=c.getSnapshot;c=c.value;try{if(!an(d(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t,r,s){t&=~zc,t&=~hr,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var d=31-pt(c),p=1<<d;s[d]=-1,c&=~p}r!==0&&Nn(e,r,t)}function $l(){return(Be&6)===0?(fs(0),!1):!0}function Ic(){if(Te!==null){if(Ie===0)var e=Te.return;else e=Te,aa=rr=null,nc(e),Pr=null,Pi=0,e=Te;for(;e!==null;)qm(e.alternate,e),e=e.return;Te=null}}function ri(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ab(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ma=0,Ic(),Ke=e,Te=r=ta(e.current,null),Re=t,Ie=0,on=null,ja=!1,ti=Vt(e,t),kc=!1,ni=un=zc=hr=Ma=nt=0,Wt=cs=null,Uc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-pt(s),d=1<<c;t|=e[c],s&=~d}return ha=t,ul(),r}function dg(e,t){_e=null,E.H=ns,t===Xr||t===vl?(t=Rh(),Ie=3):t===Yu?(t=Rh(),Ie=4):Ie=t===yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Te===null&&(nt=1,Nl(e,Sn(t,e.current)))}function fg(){var e=sn.current;return e===null?!0:(Re&4194048)===Re?An===null:(Re&62914560)===Re||(Re&536870912)!==0?e===An:!1}function hg(){var e=E.H;return E.H=ns,e===null?ns:e}function mg(){var e=E.A;return E.A=z0,e}function Gl(){nt=4,ja||(Re&4194048)!==Re&&sn.current!==null||(ti=!0),(Ma&134217727)===0&&(hr&134217727)===0||Ke===null||Ua(Ke,Re,un,!1)}function qc(e,t,r){var s=Be;Be|=2;var c=hg(),d=mg();(Ke!==e||Re!==t)&&(ql=null,ri(e,t)),t=!1;var p=nt;e:do try{if(Ie!==0&&Te!==null){var b=Te,T=on;switch(Ie){case 8:Ic(),p=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var k=Ie;if(Ie=0,on=null,ii(e,b,T,k),r&&ti){p=0;break e}break;default:k=Ie,Ie=0,on=null,ii(e,b,T,k)}}B0(),p=nt;break}catch($){dg(e,$)}while(!0);return t&&e.shellSuspendCounter++,aa=rr=null,Be=s,E.H=c,E.A=d,Te===null&&(Ke=null,Re=0,ul()),p}function B0(){for(;Te!==null;)gg(Te)}function H0(e,t){var r=Be;Be|=2;var s=hg(),c=mg();Ke!==e||Re!==t?(ql=null,Il=ke()+500,ri(e,t)):ti=Vt(e,t);e:do try{if(Ie!==0&&Te!==null){t=Te;var d=on;t:switch(Ie){case 1:Ie=0,on=null,ii(e,t,d,1);break;case 2:case 9:if(Th(d)){Ie=0,on=null,pg(t);break}t=function(){Ie!==2&&Ie!==9||Ke!==e||(Ie=7),Xn(e)},d.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Th(d)?(Ie=0,on=null,pg(t)):(Ie=0,on=null,ii(e,t,d,7));break;case 5:var p=null;switch(Te.tag){case 26:p=Te.memoizedState;case 5:case 27:var b=Te;if(p?tp(p):b.stateNode.complete){Ie=0,on=null;var T=b.sibling;if(T!==null)Te=T;else{var k=b.return;k!==null?(Te=k,Yl(k)):Te=null}break t}}Ie=0,on=null,ii(e,t,d,5);break;case 6:Ie=0,on=null,ii(e,t,d,6);break;case 8:Ic(),nt=6;break e;default:throw Error(l(462))}}I0();break}catch($){dg(e,$)}while(!0);return aa=rr=null,E.H=s,E.A=c,Be=r,Te!==null?0:(Ke=null,Re=0,ul(),nt)}function I0(){for(;Te!==null&&!It();)gg(Te)}function gg(e){var t=Hm(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?Yl(e):Te=t}function pg(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Mm(r,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Mm(r,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:nc(t);default:qm(r,t),t=Te=mh(t,ha),t=Hm(r,t,ha)}e.memoizedProps=e.pendingProps,t===null?Yl(e):Te=t}function ii(e,t,r,s){aa=rr=null,nc(t),Pr=null,Pi=0;var c=t.return;try{if(D0(e,c,t,r,Re)){nt=1,Nl(e,Sn(r,e.current)),Te=null;return}}catch(d){if(c!==null)throw Te=c,d;nt=1,Nl(e,Sn(r,e.current)),Te=null;return}t.flags&32768?(Oe||s===1?e=!0:ti||(Re&536870912)!==0?e=!1:(ja=e=!0,(s===2||s===9||s===3||s===6)&&(s=sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),vg(t,e)):Yl(t)}function Yl(e){var t=e;do{if((t.flags&32768)!==0){vg(t,ja);return}e=t.return;var r=N0(t.alternate,t,ha);if(r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);nt===0&&(nt=5)}function vg(e,t){do{var r=j0(e.alternate,e);if(r!==null){r.flags&=32767,Te=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=r}while(e!==null);nt=6,Te=null}function yg(e,t,r,s,c,d,p,b,T){e.cancelPendingCommit=null;do Vl();while(yt!==0);if((Be&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Ou,vt(e,r,d,p,b,T),e===Ke&&(Te=Ke=null,Re=0),ai=t,za=e,ma=r,Lc=d,Bc=c,lg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(Lt,function(){return Eg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=E.T,E.T=null,c=X.p,X.p=2,p=Be,Be|=4;try{M0(e,t,r)}finally{Be=p,X.p=c,E.T=s}}yt=1,bg(),_g(),wg()}}function bg(){if(yt===1){yt=0;var e=za,t=ai,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=E.T,E.T=null;var s=X.p;X.p=2;var c=Be;Be|=4;try{Wm(t,e);var d=Wc,p=ih(e.containerInfo),b=d.focusedElem,T=d.selectionRange;if(p!==b&&b&&b.ownerDocument&&rh(b.ownerDocument.documentElement,b)){if(T!==null&&xu(b)){var k=T.start,$=T.end;if($===void 0&&($=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min($,b.value.length);else{var K=b.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),te=b.textContent.length,he=Math.min(T.start,te),Ye=T.end===void 0?he:Math.min(T.end,te);!B.extend&&he>Ye&&(p=Ye,Ye=he,he=p);var N=ah(b,he),D=ah(b,Ye);if(N&&D&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var M=K.createRange();M.setStart(N.node,N.offset),B.removeAllRanges(),he>Ye?(B.addRange(M),B.extend(D.node,D.offset)):(M.setEnd(D.node,D.offset),B.addRange(M))}}}}for(K=[],B=b;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var Y=K[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ao=!!Fc,Wc=Fc=null}finally{Be=c,X.p=s,E.T=r}}e.current=t,yt=2}}function _g(){if(yt===2){yt=0;var e=za,t=ai,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=E.T,E.T=null;var s=X.p;X.p=2;var c=Be;Be|=4;try{Pm(e,t.alternate,t)}finally{Be=c,X.p=s,E.T=r}}yt=3}}function wg(){if(yt===4||yt===3){yt=0,mn();var e=za,t=ai,r=ma,s=lg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?yt=5:(yt=0,ai=za=null,Sg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ka=null),Zn(r),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Qn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=E.T,c=X.p,X.p=2,E.T=null;try{for(var d=e.onRecoverableError,p=0;p<s.length;p++){var b=s[p];d(b.value,{componentStack:b.stack})}}finally{E.T=t,X.p=c}}(ma&3)!==0&&Vl(),Xn(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Hc?ds++:(ds=0,Hc=e):ds=0,fs(0)}}function Sg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ki(t)))}function Vl(){return bg(),_g(),wg(),Eg()}function Eg(){if(yt!==5)return!1;var e=za,t=Lc;Lc=0;var r=Zn(ma),s=E.T,c=X.p;try{X.p=32>r?32:r,E.T=null,r=Bc,Bc=null;var d=za,p=ma;if(yt=0,ai=za=null,ma=0,(Be&6)!==0)throw Error(l(331));var b=Be;if(Be|=4,rg(d.current),tg(d,d.current,p,r),Be=b,fs(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{X.p=c,E.T=s,Sg(e,t)}}function xg(e,t,r){t=Sn(r,t),t=vc(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(pn(e,2),Xn(e))}function qe(e,t,r){if(e.tag===3)xg(e,e,r);else for(;t!==null;){if(t.tag===3){xg(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ka===null||!ka.has(s))){e=Sn(r,e),r=Tm(2),s=Da(t,r,2),s!==null&&(Am(r,s,t,e),pn(s,2),Xn(s));break}}t=t.return}}function $c(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new U0;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(r)||(kc=!0,c.add(r),e=q0.bind(null,e,t,r),t.then(e,e))}function q0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ke===e&&(Re&r)===r&&(nt===4||nt===3&&(Re&62914560)===Re&&300>ke()-Hl?(Be&2)===0&&ri(e,0):zc|=r,ni===Re&&(ni=0)),Xn(e)}function Tg(e,t){t===0&&(t=Bt()),e=tr(e,t),e!==null&&(pn(e,t),Xn(e))}function $0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tg(e,r)}function G0(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Tg(e,r)}function Y0(e,t){return Ze(e,t)}var Kl=null,si=null,Gc=!1,Xl=!1,Yc=!1,La=0;function Xn(e){e!==si&&e.next===null&&(si===null?Kl=si=e:si=si.next=e),Xl=!0,Gc||(Gc=!0,K0())}function fs(e,t){if(!Yc&&Xl){Yc=!0;do for(var r=!1,s=Kl;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var d=0;else{var p=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-pt(42|e)+1)-1,d&=c&~(p&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Og(s,d))}else d=Re,d=St(s,s===Ke?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Vt(s,d)||(r=!0,Og(s,d));s=s.next}while(r);Yc=!1}}function V0(){Ag()}function Ag(){Xl=Gc=!1;var e=0;La!==0&&nb()&&(e=La);for(var t=ke(),r=null,s=Kl;s!==null;){var c=s.next,d=Rg(s,t);d===0?(s.next=null,r===null?Kl=c:r.next=c,c===null&&(si=r)):(r=s,(e!==0||(d&3)!==0)&&(Xl=!0)),s=c}yt!==0&&yt!==5||fs(e),La!==0&&(La=0)}function Rg(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-pt(d),b=1<<p,T=c[p];T===-1?((b&r)===0||(b&s)!==0)&&(c[p]=Kt(b,t)):T<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ke,r=Re,r=St(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,r===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&et(s),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Vt(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(s!==null&&et(s),Zn(r)){case 2:case 8:r=Dt;break;case 32:r=Lt;break;case 268435456:r=Qa;break;default:r=Lt}return s=Dg.bind(null,e),r=Ze(r,s),e.callbackPriority=t,e.callbackNode=r,t}return s!==null&&s!==null&&et(s),e.callbackPriority=2,e.callbackNode=null,2}function Dg(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Vl()&&e.callbackNode!==r)return null;var s=Re;return s=St(e,e===Ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ug(e,s,t),Rg(e,ke()),e.callbackNode!=null&&e.callbackNode===r?Dg.bind(null,e):null)}function Og(e,t){if(Vl())return null;ug(e,t,!0)}function K0(){rb(function(){(Be&6)!==0?Ze(wt,V0):Ag()})}function Vc(){if(La===0){var e=Vr;e===0&&(e=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),La=e}return La}function Cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tl(""+e)}function Ng(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function X0(e,t,r,s,c){if(t==="submit"&&r&&r.stateNode===c){var d=Cg((c[Pt]||null).action),p=s.submitter;p&&(t=(t=p[Pt]||null)?Cg(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var b=new il("action","action",null,s,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(La!==0){var T=p?Ng(c,p):new FormData(c);dc(r,{pending:!0,data:T,method:c.method,action:d},null,T)}}else typeof d=="function"&&(b.preventDefault(),T=p?Ng(c,p):new FormData(c),dc(r,{pending:!0,data:T,method:c.method,action:d},d,T))},currentTarget:c}]})}}for(var Kc=0;Kc<Du.length;Kc++){var Xc=Du[Kc],P0=Xc.toLowerCase(),Q0=Xc[0].toUpperCase()+Xc.slice(1);Mn(P0,"on"+Q0)}Mn(oh,"onAnimationEnd"),Mn(uh,"onAnimationIteration"),Mn(ch,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(d0,"onTransitionRun"),Mn(f0,"onTransitionStart"),Mn(h0,"onTransitionCancel"),Mn(dh,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function jg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],c=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var b=s[p],T=b.instance,k=b.currentTarget;if(b=b.listener,T!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=k;try{d(c)}catch($){ol($)}c.currentTarget=null,d=T}else for(p=0;p<s.length;p++){if(b=s[p],T=b.instance,k=b.currentTarget,b=b.listener,T!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=k;try{d(c)}catch($){ol($)}c.currentTarget=null,d=T}}}}function Ae(e,t){var r=t[su];r===void 0&&(r=t[su]=new Set);var s=e+"__bubble";r.has(s)||(Mg(t,e,2,!1),r.add(s))}function Pc(e,t,r){var s=0;t&&(s|=4),Mg(r,e,s,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Pl]){e[Pl]=!0,Af.forEach(function(r){r!=="selectionchange"&&(J0.has(r)||Pc(r,!1,e),Pc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,Pc("selectionchange",!1,t))}}function Mg(e,t,r,s){switch(op(t)){case 2:var c=xb;break;case 8:c=Tb;break;default:c=cd}r=c.bind(null,t,r,e),c=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Jc(e,t,r,s,c){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var b=s.stateNode.containerInfo;if(b===c)break;if(p===4)for(p=s.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;b!==null;){if(p=Dr(b),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){s=d=p;continue e}b=b.parentNode}}s=s.return}Bf(function(){var k=d,$=hu(r),K=[];e:{var z=fh.get(e);if(z!==void 0){var B=il,te=e;switch(e){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":B=Gy;break;case"focusin":te="focus",B=bu;break;case"focusout":te="blur",B=bu;break;case"beforeblur":case"afterblur":B=bu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ky;break;case oh:case uh:case ch:B=ky;break;case dh:B=Py;break;case"scroll":case"scrollend":B=Oy;break;case"wheel":B=Jy;break;case"copy":case"cut":case"paste":B=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Gf;break;case"toggle":case"beforetoggle":B=Fy}var he=(t&4)!==0,Ye=!he&&(e==="scroll"||e==="scrollend"),N=he?z!==null?z+"Capture":null:z;he=[];for(var D=k,M;D!==null;){var Y=D;if(M=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||M===null||N===null||(Y=zi(D,N),Y!=null&&he.push(ms(D,Y,M))),Ye)break;D=D.return}0<he.length&&(z=new B(z,te,null,r,$),K.push({event:z,listeners:he}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==fu&&(te=r.relatedTarget||r.fromElement)&&(Dr(te)||te[Rr]))break e;if((B||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,B?(te=r.relatedTarget||r.toElement,B=k,te=te?Dr(te):null,te!==null&&(Ye=u(te),he=te.tag,te!==Ye||he!==5&&he!==27&&he!==6)&&(te=null)):(B=null,te=k),B!==te)){if(he=qf,Y="onMouseLeave",N="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(he=Gf,Y="onPointerLeave",N="onPointerEnter",D="pointer"),Ye=B==null?z:ki(B),M=te==null?z:ki(te),z=new he(Y,D+"leave",B,r,$),z.target=Ye,z.relatedTarget=M,Y=null,Dr($)===k&&(he=new he(N,D+"enter",te,r,$),he.target=M,he.relatedTarget=Ye,Y=he),Ye=Y,B&&te)t:{for(he=Z0,N=B,D=te,M=0,Y=N;Y;Y=he(Y))M++;Y=0;for(var le=D;le;le=he(le))Y++;for(;0<M-Y;)N=he(N),M--;for(;0<Y-M;)D=he(D),Y--;for(;M--;){if(N===D||D!==null&&N===D.alternate){he=N;break t}N=he(N),D=he(D)}he=null}else he=null;B!==null&&kg(K,z,B,he,!1),te!==null&&Ye!==null&&kg(K,Ye,te,he,!0)}}e:{if(z=k?ki(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ze=Zf;else if(Qf(z))if(Ff)ze=o0;else{ze=s0;var ne=i0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&du(k.elementType)&&(ze=Zf):ze=l0;if(ze&&(ze=ze(e,k))){Jf(K,ze,r,$);break e}ne&&ne(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&cu(z,"number",z.value)}switch(ne=k?ki(k):window,e){case"focusin":(Qf(ne)||ne.contentEditable==="true")&&(Lr=ne,Tu=k,Gi=null);break;case"focusout":Gi=Tu=Lr=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,sh(K,r,$);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":sh(K,r,$)}var Ee;if(wu)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ur?Xf(e,r)&&(De="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(De="onCompositionStart");De&&(Yf&&r.locale!=="ko"&&(Ur||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ur&&(Ee=Hf()):(wa=$,pu="value"in wa?wa.value:wa.textContent,Ur=!0)),ne=Ql(k,De),0<ne.length&&(De=new $f(De,e,null,r,$),K.push({event:De,listeners:ne}),Ee?De.data=Ee:(Ee=Pf(r),Ee!==null&&(De.data=Ee)))),(Ee=e0?t0(e,r):n0(e,r))&&(De=Ql(k,"onBeforeInput"),0<De.length&&(ne=new $f("onBeforeInput","beforeinput",null,r,$),K.push({event:ne,listeners:De}),ne.data=Ee)),X0(K,e,k,r,$)}jg(K,t)})}function ms(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ql(e,t){for(var r=t+"Capture",s=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=zi(e,r),c!=null&&s.unshift(ms(e,c,d)),c=zi(e,t),c!=null&&s.push(ms(e,c,d))),e.tag===3)return s;e=e.return}return[]}function Z0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kg(e,t,r,s,c){for(var d=t._reactName,p=[];r!==null&&r!==s;){var b=r,T=b.alternate,k=b.stateNode;if(b=b.tag,T!==null&&T===s)break;b!==5&&b!==26&&b!==27||k===null||(T=k,c?(k=zi(r,d),k!=null&&p.unshift(ms(r,k,T))):c||(k=zi(r,d),k!=null&&p.push(ms(r,k,T)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var F0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function zg(e){return(typeof e=="string"?e:""+e).replace(F0,`
`).replace(W0,"")}function Ug(e,t){return t=zg(t),zg(e)===t}function Ge(e,t,r,s,c,d){switch(r){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Mr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Mr(e,""+s);break;case"className":Ws(e,"class",s);break;case"tabIndex":Ws(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,r,s);break;case"style":Uf(e,s,d);break;case"data":if(t!=="object"){Ws(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=tl(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Ge(e,t,"name",c.name,c,null),Ge(e,t,"formEncType",c.formEncType,c,null),Ge(e,t,"formMethod",c.formMethod,c,null),Ge(e,t,"formTarget",c.formTarget,c,null)):(Ge(e,t,"encType",c.encType,c,null),Ge(e,t,"method",c.method,c,null),Ge(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=tl(""+s),e.setAttribute(r,s);break;case"onClick":s!=null&&(e.onclick=Wn);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}r=tl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":s===!0?e.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Fs(e,"popover",s);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ry.get(r)||r,Fs(e,r,s))}}function Zc(e,t,r,s,c,d){switch(r){case"style":Uf(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof s=="string"?Mr(e,s):(typeof s=="number"||typeof s=="bigint")&&Mr(e,""+s);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),d=e[Pt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof s=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,c);break e}r in e?e[r]=s:s===!0?e.setAttribute(r,""):Fs(e,r,s)}}}function kt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var s=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var p=r[d];if(p!=null)switch(d){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ge(e,t,d,p,r,null)}}c&&Ge(e,t,"srcSet",r.srcSet,r,null),s&&Ge(e,t,"src",r.src,r,null);return;case"input":Ae("invalid",e);var b=d=p=c=null,T=null,k=null;for(s in r)if(r.hasOwnProperty(s)){var $=r[s];if($!=null)switch(s){case"name":c=$;break;case"type":p=$;break;case"checked":T=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ge(e,t,s,$,r,null)}}jf(e,d,b,T,k,p,c,!1);return;case"select":Ae("invalid",e),s=p=d=null;for(c in r)if(r.hasOwnProperty(c)&&(b=r[c],b!=null))switch(c){case"value":d=b;break;case"defaultValue":p=b;break;case"multiple":s=b;default:Ge(e,t,c,b,r,null)}t=d,r=p,e.multiple=!!s,t!=null?jr(e,!!s,t,!1):r!=null&&jr(e,!!s,r,!0);return;case"textarea":Ae("invalid",e),d=c=s=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":s=b;break;case"defaultValue":c=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ge(e,t,p,b,r,null)}kf(e,s,c,d);return;case"option":for(T in r)r.hasOwnProperty(T)&&(s=r[T],s!=null)&&(T==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ge(e,t,T,s,r,null));return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(s=0;s<hs.length;s++)Ae(hs[s],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(s=r[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ge(e,t,k,s,r,null)}return;default:if(du(t)){for($ in r)r.hasOwnProperty($)&&(s=r[$],s!==void 0&&Zc(e,t,$,s,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(s=r[b],s!=null&&Ge(e,t,b,s,r,null))}function eb(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,b=null,T=null,k=null,$=null;for(B in r){var K=r[B];if(r.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=K;default:s.hasOwnProperty(B)||Ge(e,t,B,null,s,K)}}for(var z in s){var B=s[z];if(K=r[z],s.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":$=B;break;case"value":p=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==K&&Ge(e,t,z,B,s,K)}}uu(e,p,b,T,k,$,d,c);return;case"select":B=p=b=z=null;for(d in r)if(T=r[d],r.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":B=T;default:s.hasOwnProperty(d)||Ge(e,t,d,null,s,T)}for(c in s)if(d=s[c],T=r[c],s.hasOwnProperty(c)&&(d!=null||T!=null))switch(c){case"value":z=d;break;case"defaultValue":b=d;break;case"multiple":p=d;default:d!==T&&Ge(e,t,c,d,s,T)}t=b,r=p,s=B,z!=null?jr(e,!!r,z,!1):!!s!=!!r&&(t!=null?jr(e,!!r,t,!0):jr(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(b in r)if(c=r[b],r.hasOwnProperty(b)&&c!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(e,t,b,null,s,c)}for(p in s)if(c=s[p],d=r[p],s.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Ge(e,t,p,c,s,d)}Mf(e,z,B);return;case"option":for(var te in r)z=r[te],r.hasOwnProperty(te)&&z!=null&&!s.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:Ge(e,t,te,null,s,z));for(T in s)z=s[T],B=r[T],s.hasOwnProperty(T)&&z!==B&&(z!=null||B!=null)&&(T==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Ge(e,t,T,z,s,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)z=r[he],r.hasOwnProperty(he)&&z!=null&&!s.hasOwnProperty(he)&&Ge(e,t,he,null,s,z);for(k in s)if(z=s[k],B=r[k],s.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ge(e,t,k,z,s,B)}return;default:if(du(t)){for(var Ye in r)z=r[Ye],r.hasOwnProperty(Ye)&&z!==void 0&&!s.hasOwnProperty(Ye)&&Zc(e,t,Ye,void 0,s,z);for($ in s)z=s[$],B=r[$],!s.hasOwnProperty($)||z===B||z===void 0&&B===void 0||Zc(e,t,$,z,s,B);return}}for(var N in r)z=r[N],r.hasOwnProperty(N)&&z!=null&&!s.hasOwnProperty(N)&&Ge(e,t,N,null,s,z);for(K in s)z=s[K],B=r[K],!s.hasOwnProperty(K)||z===B||z==null&&B==null||Ge(e,t,K,z,s,B)}function Lg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var c=r[s],d=c.transferSize,p=c.initiatorType,b=c.duration;if(d&&b&&Lg(p)){for(p=0,b=c.responseEnd,s+=1;s<r.length;s++){var T=r[s],k=T.startTime;if(k>b)break;var $=T.transferSize,K=T.initiatorType;$&&Lg(K)&&(T=T.responseEnd,p+=$*(T<b?1:(b-k)/(T-k)))}if(--s,t+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fc=null,Wc=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function Bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var Ig=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(e){return qg.resolve(null).then(e).catch(ib)}:Ig;function ib(e){setTimeout(function(){throw e})}function Ba(e){return e==="head"}function $g(e,t){var r=t,s=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(s===0){e.removeChild(c),ci(t);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")gs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,gs(r);for(var d=r.firstChild;d;){var p=d.nextSibling,b=d.nodeName;d[Mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=p}}else r==="body"&&gs(e.ownerDocument.body);r=c}while(r);ci(t)}function Gg(e,t){var r=e;e=0;do{var s=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=s}while(r)}function nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nd(r),lu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function sb(e,t,r,s){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Rn(e.nextSibling),e===null)break}return null}function lb(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Rn(e.nextSibling),e===null))return null;return e}function Yg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ob(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var id=null;function Vg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Rn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Xg(e,t,r){switch(t=Jl(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lu(e)}var Dn=new Map,Pg=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=X.d;X.d={f:ub,r:cb,D:db,C:fb,L:hb,m:mb,X:pb,S:gb,M:vb};function ub(){var e=ga.f(),t=$l();return e||t}function cb(e){var t=Or(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):ga.r(e)}var li=typeof document>"u"?null:document;function Qg(e,t,r){var s=li;if(s&&typeof t=="string"&&t){var c=_n(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Pg.has(c)||(Pg.add(c),e={rel:e,crossOrigin:r,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),kt(t,"link",e),Et(t),s.head.appendChild(t)))}}function db(e){ga.D(e),Qg("dns-prefetch",e,null)}function fb(e,t){ga.C(e,t),Qg("preconnect",e,t)}function hb(e,t,r){ga.L(e,t,r);var s=li;if(s&&e&&t){var c='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+_n(r.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var d=c;switch(t){case"style":d=oi(e);break;case"script":d=ui(e)}Dn.has(d)||(e=y({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Dn.set(d,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(ps(d))||t==="script"&&s.querySelector(vs(d))||(t=s.createElement("link"),kt(t,"link",e),Et(t),s.head.appendChild(t)))}}function mb(e,t){ga.m(e,t);var r=li;if(r&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+_n(s)+'"][href="'+_n(e)+'"]',d=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ui(e)}if(!Dn.has(d)&&(e=y({rel:"modulepreload",href:e},t),Dn.set(d,e),r.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vs(d)))return}s=r.createElement("link"),kt(s,"link",e),Et(s),r.head.appendChild(s)}}}function gb(e,t,r){ga.S(e,t,r);var s=li;if(s&&e){var c=Cr(s).hoistableStyles,d=oi(e);t=t||"default";var p=c.get(d);if(!p){var b={loading:0,preload:null};if(p=s.querySelector(ps(d)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Dn.get(d))&&sd(e,r);var T=p=s.createElement("link");Et(T),kt(T,"link",e),T._p=new Promise(function(k,$){T.onload=k,T.onerror=$}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fl(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:b},c.set(d,p)}}}function pb(e,t){ga.X(e,t);var r=li;if(r&&e){var s=Cr(r).hoistableScripts,c=ui(e),d=s.get(c);d||(d=r.querySelector(vs(c)),d||(e=y({src:e,async:!0},t),(t=Dn.get(c))&&ld(e,t),d=r.createElement("script"),Et(d),kt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function vb(e,t){ga.M(e,t);var r=li;if(r&&e){var s=Cr(r).hoistableScripts,c=ui(e),d=s.get(c);d||(d=r.querySelector(vs(c)),d||(e=y({src:e,async:!0,type:"module"},t),(t=Dn.get(c))&&ld(e,t),d=r.createElement("script"),Et(d),kt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Jg(e,t,r,s){var c=(c=ie.current)?Zl(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=oi(r.href),r=Cr(c).hoistableStyles,s=r.get(t),s||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=oi(r.href);var d=Cr(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(ps(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(e,r),d||yb(c,e,r,p.state))),t&&s===null)throw Error(l(528,""));return p}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ui(r),r=Cr(c).hoistableScripts,s=r.get(t),s||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function oi(e){return'href="'+_n(e)+'"'}function ps(e){return'link[rel="stylesheet"]['+e+"]"}function Zg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function yb(e,t,r,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),kt(t,"link",r),Et(t),e.head.appendChild(t))}function ui(e){return'[src="'+_n(e)+'"]'}function vs(e){return"script[async]"+e}function Fg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+_n(r.href)+'"]');if(s)return t.instance=s,Et(s),s;var c=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Et(s),kt(s,"style",c),Fl(s,r.precedence,e),t.instance=s;case"stylesheet":c=oi(r.href);var d=e.querySelector(ps(c));if(d)return t.state.loading|=4,t.instance=d,Et(d),d;s=Zg(r),(c=Dn.get(c))&&sd(s,c),d=(e.ownerDocument||e).createElement("link"),Et(d);var p=d;return p._p=new Promise(function(b,T){p.onload=b,p.onerror=T}),kt(d,"link",s),t.state.loading|=4,Fl(d,r.precedence,e),t.instance=d;case"script":return d=ui(r.src),(c=e.querySelector(vs(d)))?(t.instance=c,Et(c),c):(s=r,(c=Dn.get(d))&&(s=y({},r),ld(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),Et(c),kt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fl(s,r.precedence,e));return t.instance}function Fl(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,d=c,p=0;p<s.length;p++){var b=s[p];if(b.dataset.precedence===t)d=b;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ld(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wl=null;function Wg(e,t,r){if(Wl===null){var s=new Map,c=Wl=new Map;c.set(r,s)}else c=Wl,s=c.get(r),s||(s=new Map,c.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[Mi]||d[Ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var b=s.get(p);b?b.push(d):s.set(p,[d])}}return s}function ep(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function bb(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,t,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=oi(s.href),d=t.querySelector(ps(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=eo.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,Et(d);return}d=t.ownerDocument||t,s=Zg(s),(c=Dn.get(c))&&sd(s,c),d=d.createElement("link"),Et(d);var p=d;p._p=new Promise(function(b,T){p.onload=b,p.onerror=T}),kt(d,"link",s),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=eo.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var od=0;function wb(e,t){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var s=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&od===0&&(od=62500*tb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,t.forEach(Sb,e),to=null,eo.call(e))}function Sb(e,t){if(!(t.state.loading&4)){var r=to.get(e);if(r)var s=r.get(null);else{r=new Map,to.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),s=p)}s&&r.set(null,s)}c=t.instance,p=c.getAttribute("data-precedence"),d=r.get(p)||s,d===s&&r.set(null,c),r.set(p,c),this.count++,s=eo.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ys={$$typeof:U,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Eb(e,t,r,s,c,d,p,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function np(e,t,r,s,c,d,p,b,T,k,$,K){return e=new Eb(e,t,r,p,T,k,$,K,b),t=1,d===!0&&(t|=24),d=rn(3,null,null,t),e.current=d,d.stateNode=e,t=qu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:r,cache:t},Vu(d),e}function ap(e){return e?(e=Ir,e):Ir}function rp(e,t,r,s,c,d){c=ap(c),s.context===null?s.context=c:s.pendingContext=c,s=Ra(t),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Da(e,s,t),r!==null&&(en(r,e,t),Ji(r,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ud(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function sp(e){if(e.tag===13||e.tag===31){var t=tr(e,67108864);t!==null&&en(t,e,67108864),ud(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=cn();t=Jn(t);var r=tr(e,t);r!==null&&en(r,e,t),ud(e,t)}}var ao=!0;function xb(e,t,r,s){var c=E.T;E.T=null;var d=X.p;try{X.p=2,cd(e,t,r,s)}finally{X.p=d,E.T=c}}function Tb(e,t,r,s){var c=E.T;E.T=null;var d=X.p;try{X.p=8,cd(e,t,r,s)}finally{X.p=d,E.T=c}}function cd(e,t,r,s){if(ao){var c=dd(s);if(c===null)Jc(e,t,s,ro,r),up(e,s);else if(Rb(c,e,t,r,s))s.stopPropagation();else if(up(e,s),t&4&&-1<Ab.indexOf(e)){for(;c!==null;){var d=Or(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=lt(d.pendingLanes);if(p!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var T=1<<31-pt(p);b.entanglements[1]|=T,p&=~T}Xn(d),(Be&6)===0&&(Il=ke()+500,fs(0))}}break;case 31:case 13:b=tr(d,2),b!==null&&en(b,d,2),$l(),ud(d,2)}if(d=dd(s),d===null&&Jc(e,t,s,ro,r),d===c)break;c=d}c!==null&&s.stopPropagation()}else Jc(e,t,s,null,r)}}function dd(e){return e=hu(e),fd(e)}var ro=null;function fd(e){if(ro=null,e=Dr(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ro=e,null}function op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case wt:return 2;case Dt:return 8;case Lt:case Gn:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var hd=!1,Ha=null,Ia=null,qa=null,bs=new Map,_s=new Map,$a=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function ws(e,t,r,s,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Or(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Rb(e,t,r,s,c){switch(t){case"focusin":return Ha=ws(Ha,e,t,r,s,c),!0;case"dragenter":return Ia=ws(Ia,e,t,r,s,c),!0;case"mouseover":return qa=ws(qa,e,t,r,s,c),!0;case"pointerover":var d=c.pointerId;return bs.set(d,ws(bs.get(d)||null,e,t,r,s,c)),!0;case"gotpointercapture":return d=c.pointerId,_s.set(d,ws(_s.get(d)||null,e,t,r,s,c)),!0}return!1}function cp(e){var t=Dr(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,_a(e.priority,function(){lp(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,_a(e.priority,function(){lp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);fu=s,r.target.dispatchEvent(s),fu=null}else return t=Or(r),t!==null&&sp(t),e.blockedOn=r,!1;t.shift()}return!0}function dp(e,t,r){io(e)&&r.delete(t)}function Db(){hd=!1,Ha!==null&&io(Ha)&&(Ha=null),Ia!==null&&io(Ia)&&(Ia=null),qa!==null&&io(qa)&&(qa=null),bs.forEach(dp),_s.forEach(dp)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Db)))}var lo=null;function fp(e){lo!==e&&(lo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(fd(s||r)===null)continue;break}var d=Or(r);d!==null&&(e.splice(t,3),t-=3,dc(d,{pending:!0,data:c,method:r.method,action:s},s,c))}}))}function ci(e){function t(T){return so(T,e)}Ha!==null&&so(Ha,e),Ia!==null&&so(Ia,e),qa!==null&&so(qa,e),bs.forEach(t),_s.forEach(t);for(var r=0;r<$a.length;r++){var s=$a[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)cp(r),r.blockedOn===null&&$a.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var c=r[s],d=r[s+1],p=c[Pt]||null;if(typeof d=="function")p||fp(r);else if(p){var b=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[Pt]||null)b=p.formAction;else if(fd(c)!==null)continue}else b=p.action;typeof b=="function"?r[s+1]=b:(r.splice(s,3),s-=3),fp(r)}}}function hp(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function md(e){this._internalRoot=e}oo.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,s=cn();rp(r,s,e,t,null,null)},oo.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),$l(),t[Rr]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=jn();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$a.length&&t!==0&&t<$a[r].priority;r++);$a.splice(r,0,e),r===0&&cp(e)}};var mp=n.version;if(mp!=="19.2.4")throw Error(l(527,mp,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Qn=uo.inject(Ob),Ot=uo}catch{}}return Es.createRoot=function(e,t){if(!o(e))throw Error(l(299));var r=!1,s="",c=wm,d=Sm,p=Em;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=np(e,1,!1,null,null,r,s,null,c,d,p,hp),e[Rr]=t.current,Qc(e),new md(t)},Es.hydrateRoot=function(e,t,r){if(!o(e))throw Error(l(299));var s=!1,c="",d=wm,p=Sm,b=Em,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),t=np(e,1,!0,t,r??null,s,c,T,d,p,b,hp),t.context=ap(null),r=t.current,s=cn(),s=Jn(s),c=Ra(s),c.callback=null,Da(r,c,s),r=s,t.current.lanes=r,pn(t,r),Xn(t),e[Rr]=t.current,Qc(e),new oo(t)},Es.version="19.2.4",Es}var xp;function Hb(){if(xp)return vd.exports;xp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),vd.exports=Bb(),vd.exports}var Ib=Hb();const Tp=a=>{let n;const i=new Set,l=(g,v)=>{const y=typeof g=="function"?g(n):g;if(!Object.is(y,n)){const w=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),i.forEach(_=>_(n,w))}},o=()=>n,h={setState:l,getState:o,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g))},m=n=a(l,o,h);return h},qb=(a=>a?Tp(a):Tp),$b=a=>a;function Gb(a,n=$b){const i=At.useSyncExternalStore(a.subscribe,At.useCallback(()=>n(a.getState()),[a,n]),At.useCallback(()=>n(a.getInitialState()),[a,n]));return At.useDebugValue(i),i}const Ap=a=>{const n=qb(a),i=l=>Gb(n,l);return Object.assign(i,n),i},wv=(a=>a?Ap(a):Ap);var Sv=Symbol.for("immer-nothing"),Rp=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Hn(a,...n){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var hn=Object,Ai=hn.getPrototypeOf,Ao="constructor",Go="prototype",zd="configurable",Ro="enumerable",Eo="writable",Ms="value",Xa=a=>!!a&&!!a[Yt];function ya(a){return a?Ev(a)||Vo(a)||!!a[Rp]||!!a[Ao]?.[Rp]||Ko(a)||Xo(a):!1}var Yb=hn[Go][Ao].toString(),Dp=new WeakMap;function Ev(a){if(!a||!of(a))return!1;const n=Ai(a);if(n===null||n===hn[Go])return!0;const i=hn.hasOwnProperty.call(n,Ao)&&n[Ao];if(i===Object)return!0;if(!yi(i))return!1;let l=Dp.get(i);return l===void 0&&(l=Function.toString.call(i),Dp.set(i,l)),l===Yb}function Yo(a,n,i=!0){Ks(a)===0?(i?Reflect.ownKeys(a):hn.keys(a)).forEach(o=>{n(o,a[o],a)}):a.forEach((l,o)=>n(o,l,a))}function Ks(a){const n=a[Yt];return n?n.type_:Vo(a)?1:Ko(a)?2:Xo(a)?3:0}var Op=(a,n,i=Ks(a))=>i===2?a.has(n):hn[Go].hasOwnProperty.call(a,n),Ud=(a,n,i=Ks(a))=>i===2?a.get(n):a[n],Do=(a,n,i,l=Ks(a))=>{l===2?a.set(n,i):l===3?a.add(i):a[n]=i};function Vb(a,n){return a===n?a!==0||1/a===1/n:a!==a&&n!==n}var Vo=Array.isArray,Ko=a=>a instanceof Map,Xo=a=>a instanceof Set,of=a=>typeof a=="object",yi=a=>typeof a=="function",wd=a=>typeof a=="boolean";function Kb(a){const n=+a;return Number.isInteger(n)&&String(n)===a}var va=a=>a.copy_||a.base_,uf=a=>a.modified_?a.copy_:a.base_;function Ld(a,n){if(Ko(a))return new Map(a);if(Xo(a))return new Set(a);if(Vo(a))return Array[Go].slice.call(a);const i=Ev(a);if(n===!0||n==="class_only"&&!i){const l=hn.getOwnPropertyDescriptors(a);delete l[Yt];let o=Reflect.ownKeys(l);for(let u=0;u<o.length;u++){const f=o[u],h=l[f];h[Eo]===!1&&(h[Eo]=!0,h[zd]=!0),(h.get||h.set)&&(l[f]={[zd]:!0,[Eo]:!0,[Ro]:h[Ro],[Ms]:a[f]})}return hn.create(Ai(a),l)}else{const l=Ai(a);if(l!==null&&i)return{...a};const o=hn.create(l);return hn.assign(o,a)}}function cf(a,n=!1){return Po(a)||Xa(a)||!ya(a)||(Ks(a)>1&&hn.defineProperties(a,{set:co,add:co,clear:co,delete:co}),hn.freeze(a),n&&Yo(a,(i,l)=>{cf(l,!0)},!1)),a}function Xb(){Hn(2)}var co={[Ms]:Xb};function Po(a){return a===null||!of(a)?!0:hn.isFrozen(a)}var Oo="MapSet",Bd="Patches",Cp="ArrayMethods",xv={};function _r(a){const n=xv[a];return n||Hn(0,a),n}var Np=a=>!!xv[a],ks,Tv=()=>ks,Pb=(a,n)=>({drafts_:[],parent_:a,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Np(Oo)?_r(Oo):void 0,arrayMethodsPlugin_:Np(Cp)?_r(Cp):void 0});function jp(a,n){n&&(a.patchPlugin_=_r(Bd),a.patches_=[],a.inversePatches_=[],a.patchListener_=n)}function Hd(a){Id(a),a.drafts_.forEach(Qb),a.drafts_=null}function Id(a){a===ks&&(ks=a.parent_)}var Mp=a=>ks=Pb(ks,a);function Qb(a){const n=a[Yt];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function kp(a,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];if(a!==void 0&&a!==i){i[Yt].modified_&&(Hd(n),Hn(4)),ya(a)&&(a=zp(n,a));const{patchPlugin_:o}=n;o&&o.generateReplacementPatches_(i[Yt].base_,a,n)}else a=zp(n,i);return Jb(n,a,!0),Hd(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),a!==Sv?a:void 0}function zp(a,n){if(Po(n))return n;const i=n[Yt];if(!i)return Co(n,a.handledSet_,a);if(!Qo(i,a))return n;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:l}=i;if(l)for(;l.length>0;)l.pop()(a);Dv(i,a)}return i.copy_}function Jb(a,n,i=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&cf(n,i)}function Av(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var Qo=(a,n)=>a.scope_===n,Zb=[];function Rv(a,n,i,l){const o=va(a),u=a.type_;if(l!==void 0&&Ud(o,l,u)===n){Do(o,l,i,u);return}if(!a.draftLocations_){const h=a.draftLocations_=new Map;Yo(o,(m,g)=>{if(Xa(g)){const v=h.get(g)||[];v.push(m),h.set(g,v)}})}const f=a.draftLocations_.get(n)??Zb;for(const h of f)Do(o,h,i,u)}function Fb(a,n,i){a.callbacks_.push(function(o){const u=n;if(!u||!Qo(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const f=uf(u);Rv(a,u.draft_??u,f,i),Dv(u,o)})}function Dv(a,n){if(a.modified_&&!a.finalized_&&(a.type_===3||a.type_===1&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){const{patchPlugin_:l}=n;if(l){const o=l.getPath(a);o&&l.generatePatches_(a,o,n)}Av(a)}}function Wb(a,n,i){const{scope_:l}=a;if(Xa(i)){const o=i[Yt];Qo(o,l)&&o.callbacks_.push(function(){xo(a);const f=uf(o);Rv(a,i,f,n)})}else ya(i)&&a.callbacks_.push(function(){const u=va(a);a.type_===3?u.has(i)&&Co(i,l.handledSet_,l):Ud(u,n,a.type_)===i&&l.drafts_.length>1&&(a.assigned_.get(n)??!1)===!0&&a.copy_&&Co(Ud(a.copy_,n,a.type_),l.handledSet_,l)})}function Co(a,n,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||Xa(a)||n.has(a)||!ya(a)||Po(a)||(n.add(a),Yo(a,(l,o)=>{if(Xa(o)){const u=o[Yt];if(Qo(u,i)){const f=uf(u);Do(a,l,f,a.type_),Av(u)}}else ya(o)&&Co(o,n,i)})),a}function e_(a,n){const i=Vo(a),l={type_:i?1:0,scope_:n?n.scope_:Tv(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=l,u=No;i&&(o=[l],u=zs);const{revoke:f,proxy:h}=Proxy.revocable(o,u);return l.draft_=h,l.revoke_=f,[h,l]}var No={get(a,n){if(n===Yt)return a;let i=a.scope_.arrayMethodsPlugin_;const l=a.type_===1&&typeof n=="string";if(l&&i?.isArrayOperationMethod(n))return i.createMethodInterceptor(a,n);const o=va(a);if(!Op(o,n,a.type_))return t_(a,o,n);const u=o[n];if(a.finalized_||!ya(u)||l&&a.operationMethod&&i?.isMutatingArrayMethod(a.operationMethod)&&Kb(n))return u;if(u===Sd(a.base_,n)){xo(a);const f=a.type_===1?+n:n,h=$d(a.scope_,u,a,f);return a.copy_[f]=h}return u},has(a,n){return n in va(a)},ownKeys(a){return Reflect.ownKeys(va(a))},set(a,n,i){const l=Ov(va(a),n);if(l?.set)return l.set.call(a.draft_,i),!0;if(!a.modified_){const o=Sd(va(a),n),u=o?.[Yt];if(u&&u.base_===i)return a.copy_[n]=i,a.assigned_.set(n,!1),!0;if(Vb(i,o)&&(i!==void 0||Op(a.base_,n,a.type_)))return!0;xo(a),qd(a)}return a.copy_[n]===i&&(i!==void 0||n in a.copy_)||Number.isNaN(i)&&Number.isNaN(a.copy_[n])||(a.copy_[n]=i,a.assigned_.set(n,!0),Wb(a,n,i)),!0},deleteProperty(a,n){return xo(a),Sd(a.base_,n)!==void 0||n in a.base_?(a.assigned_.set(n,!1),qd(a)):a.assigned_.delete(n),a.copy_&&delete a.copy_[n],!0},getOwnPropertyDescriptor(a,n){const i=va(a),l=Reflect.getOwnPropertyDescriptor(i,n);return l&&{[Eo]:!0,[zd]:a.type_!==1||n!=="length",[Ro]:l[Ro],[Ms]:i[n]}},defineProperty(){Hn(11)},getPrototypeOf(a){return Ai(a.base_)},setPrototypeOf(){Hn(12)}},zs={};for(let a in No){let n=No[a];zs[a]=function(){const i=arguments;return i[0]=i[0][0],n.apply(this,i)}}zs.deleteProperty=function(a,n){return zs.set.call(this,a,n,void 0)};zs.set=function(a,n,i){return No.set.call(this,a[0],n,i,a[0])};function Sd(a,n){const i=a[Yt];return(i?va(i):a)[n]}function t_(a,n,i){const l=Ov(n,i);return l?Ms in l?l[Ms]:l.get?.call(a.draft_):void 0}function Ov(a,n){if(!(n in a))return;let i=Ai(a);for(;i;){const l=Object.getOwnPropertyDescriptor(i,n);if(l)return l;i=Ai(i)}}function qd(a){a.modified_||(a.modified_=!0,a.parent_&&qd(a.parent_))}function xo(a){a.copy_||(a.assigned_=new Map,a.copy_=Ld(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var n_=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,l)=>{if(yi(n)&&!yi(i)){const u=i;i=n;const f=this;return function(m=u,...g){return f.produce(m,v=>i.call(this,v,...g))}}yi(i)||Hn(6),l!==void 0&&!yi(l)&&Hn(7);let o;if(ya(n)){const u=Mp(this),f=$d(u,n,void 0);let h=!0;try{o=i(f),h=!1}finally{h?Hd(u):Id(u)}return jp(u,l),kp(o,u)}else if(!n||!of(n)){if(o=i(n),o===void 0&&(o=n),o===Sv&&(o=void 0),this.autoFreeze_&&cf(o,!0),l){const u=[],f=[];_r(Bd).generateReplacementPatches_(n,o,{patches_:u,inversePatches_:f}),l(u,f)}return o}else Hn(1,n)},this.produceWithPatches=(n,i)=>{if(yi(n))return(f,...h)=>this.produceWithPatches(f,m=>n(m,...h));let l,o;return[this.produce(n,i,(f,h)=>{l=f,o=h}),l,o]},wd(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),wd(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),wd(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){ya(a)||Hn(8),Xa(a)&&(a=a_(a));const n=Mp(this),i=$d(n,a,void 0);return i[Yt].isManual_=!0,Id(n),i}finishDraft(a,n){const i=a&&a[Yt];(!i||!i.isManual_)&&Hn(9);const{scope_:l}=i;return jp(l,n),kp(void 0,l)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,n){let i;for(i=n.length-1;i>=0;i--){const o=n[i];if(o.path.length===0&&o.op==="replace"){a=o.value;break}}i>-1&&(n=n.slice(i+1));const l=_r(Bd).applyPatches_;return Xa(a)?l(a,n):this.produce(a,o=>l(o,n))}};function $d(a,n,i,l){const[o,u]=Ko(n)?_r(Oo).proxyMap_(n,i):Xo(n)?_r(Oo).proxySet_(n,i):e_(n,i);return(i?.scope_??Tv()).drafts_.push(o),u.callbacks_=i?.callbacks_??[],u.key_=l,i&&l!==void 0?Fb(i,u,l):u.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:g}=m;u.modified_&&g&&g.generatePatches_(u,[],m)}),o}function a_(a){return Xa(a)||Hn(10,a),Cv(a)}function Cv(a){if(!ya(a)||Po(a))return a;const n=a[Yt];let i,l=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=Ld(a,n.scope_.immer_.useStrictShallowCopy_),l=n.scope_.immer_.shouldUseStrictIteration()}else i=Ld(a,!0);return Yo(i,(o,u)=>{Do(i,o,Cv(u))},l),n&&(n.finalized_=!1),i}var r_=new n_,i_=r_.produce;const s_=a=>(n,i,l)=>(l.setState=(o,u,...f)=>{const h=typeof o=="function"?i_(o):o;return n(h,u,...f)},a(l.setState,i,l)),l_=s_,df=120,ff=180,wr=40,Pa=40,jo=30,Gd=(Pa-jo)/2,Sr=28,Nv=20,o_=(Sr-Nv)/2,Jo=24,jv=16,u_=(Jo-jv)/2,Mo=4,c_=14,d_="#4472C4",f_=52,Yd=50,h_=340,m_=2e3,Up=8,Rs=["#4472C4","#548235","#BF8F00","#C00000","#7030A0","#00B0F0","#FFC000","#ED7D31"],g_={"discovery-design":"Discovery / Design","implementation-build":"Implementation / Build","testing-release":"Testing / Release","ongoing-continuous":"Ongoing / Continuous","fbn-led-work":"FBN-Led Work"},Cn=80,fo={"discovery-design":"Discovery","implementation-build":"Build","testing-release":"Testing","ongoing-continuous":"Ongoing","fbn-led-work":"FBN-Led"},Mv=["#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5","#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5"],kv={timelineStartDate:"2025-12-22",timelineEndDate:"2026-12-31"};function ko(a,n,i,l){return a.some(o=>o.id!==n&&i<o.endDate&&l>o.startDate)}function Ei(a,n,i,l){return a.some(o=>o.id!==n&&i<o.endDate&&l>o.startDate)}function Zo(a,n){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(i[l[o]]=a[l[o]]);return i}function p_(a,n,i,l){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(v){try{g(l.next(v))}catch(y){f(y)}}function m(v){try{g(l.throw(v))}catch(y){f(y)}}function g(v){v.done?u(v.value):o(v.value).then(h,m)}g((l=l.apply(a,n||[])).next())})}const v_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class hf extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class y_ extends hf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Lp extends hf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Bp extends hf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Vd||(Vd={}));class b_{constructor(n,{headers:i={},customFetch:l,region:o=Vd.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=v_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return p_(this,arguments,void 0,function*(i,l={}){var o;let u,f;try{const{headers:h,method:m,body:g,signal:v,timeout:y}=l;let w={},{region:_}=l;_||(_=this.region);const A=new URL(`${this.url}/${i}`);_&&_!=="any"&&(w["x-region"]=_,A.searchParams.set("forceFunctionRegion",_));let C;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(w["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(w["Content-Type"]="application/json",C=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?C=JSON.stringify(g):C=g;let j=v;y&&(f=new AbortController,u=setTimeout(()=>f.abort(),y),v?(j=f.signal,v.addEventListener("abort",()=>f.abort())):j=f.signal);const H=yield this.fetch(A.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:C,signal:j}).catch(L=>{throw new y_(L)}),q=H.headers.get("x-relay-error");if(q&&q==="true")throw new Lp(H);if(!H.ok)throw new Bp(H);let U=((o=H.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return U==="application/json"?O=yield H.json():U==="application/octet-stream"||U==="application/pdf"?O=yield H.blob():U==="text/event-stream"?O=H:U==="multipart/form-data"?O=yield H.formData():O=yield H.text(),{data:O,error:null,response:H}}catch(h){return{data:null,error:h,response:h instanceof Bp||h instanceof Lp?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var __=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},w_=class{constructor(a){var n,i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(l=a.urlLengthLimit)!==null&&l!==void 0?l:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,h=null,m=null,g=u.status,v=u.statusText;if(u.ok){var y,w;if(i.method!=="HEAD"){var _;const H=await u.text();H===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((_=i.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=H:h=JSON.parse(H))}const C=(y=i.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");C&&j&&j.length>1&&(m=parseInt(j[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const C=await u.text();try{f=JSON.parse(C),Array.isArray(f)&&u.status===404&&(h=[],f=null,g=200,v="OK")}catch{u.status===404&&C===""?(g=204,v="No Content"):f={message:C}}if(f&&i.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,g=200,v="OK"),f&&i.shouldThrowOnError)throw new __(f)}return{error:f,data:h,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(o=o.catch(u=>{var f;let h="",m="",g="";const v=u?.cause;if(v){var y,w,_,A;const H=(y=v?.message)!==null&&y!==void 0?y:"",q=(w=v?.code)!==null&&w!==void 0?w:"";h=`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(A=v?.name)!==null&&A!==void 0?A:"Error"}: ${H}`,q&&(h+=` (${q})`),v?.stack&&(h+=`
${v.stack}`)}else{var C;h=(C=u?.stack)!==null&&C!==void 0?C:""}const j=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:h,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},S_=class extends w_{select(a){let n=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(u,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const h=[a?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const Hp=new RegExp("[,()]");var bi=class extends S_{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Hp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Hp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${o}fts${u}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},E_=class{constructor(a,{headers:n={},schema:i,fetch:l,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:l}=n??{},o=i?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",f),l&&m.append("Prefer",`count=${l}`),new bi({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:i=!0}={}){var l;const o="POST",{url:u,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new bi({method:o,url:u,headers:f,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),o||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);h.searchParams.set("columns",v.join(","))}}return new bi({method:f,url:h,headers:m,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var i;const l="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new bi({method:l,url:o,headers:u,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const i="DELETE",{url:l,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new bi({method:i,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Us(a){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Us(a)}function x_(a,n){if(Us(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if(Us(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function T_(a){var n=x_(a,"string");return Us(n)=="symbol"?n:n+""}function A_(a,n,i){return(n=T_(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Ip(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function ho(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ip(Object(i),!0).forEach(function(l){A_(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Ip(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}var R_=class zv{constructor(n,{headers:i={},schema:l,fetch:o,timeout:u,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.urlLengthLimit=f;const h=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,g)=>{const v=new AbortController,y=setTimeout(()=>v.abort(),u),w=g?.signal;if(w){if(w.aborted)return clearTimeout(y),h(m,g);const _=()=>{clearTimeout(y),v.abort()};return w.addEventListener("abort",_,{once:!0}),h(m,ho(ho({},g),{},{signal:v.signal})).finally(()=>{clearTimeout(y),w.removeEventListener("abort",_)})}return h(m,ho(ho({},g),{},{signal:v.signal})).finally(()=>clearTimeout(y))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new E_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new zv(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:l=!1,get:o=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;const v=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(v)),y=l&&Object.values(i).some(v);y?(h="POST",g=i):l||o?(h=l?"HEAD":"GET",Object.entries(i).filter(([_,A])=>A!==void 0).map(([_,A])=>[_,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([_,A])=>{m.searchParams.append(_,A)})):(h="POST",g=i);const w=new Headers(this.headers);return y?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new bi({method:h,url:m,headers:w,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class D_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const o=l.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const O_="2.95.3",C_=`realtime-js/${O_}`,N_="1.0.0",Uv="2.0.0",qp=Uv,Kd=1e4,j_=1e3,M_=100;var Ya;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ya||(Ya={}));var bt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(bt||(bt={}));var Bn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Bn||(Bn={}));var Xd;(function(a){a.websocket="websocket"})(Xd||(Xd={}));var vr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(vr||(vr={}));class k_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var o,u;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(_),C=0;A.setUint8(C++,this.KINDS.userBroadcastPush),A.setUint8(C++,m.length),A.setUint8(C++,h.length),A.setUint8(C++,f.length),A.setUint8(C++,g.length),A.setUint8(C++,y.length),A.setUint8(C++,i),Array.from(m,H=>A.setUint8(C++,H.charCodeAt(0))),Array.from(h,H=>A.setUint8(C++,H.charCodeAt(0))),Array.from(f,H=>A.setUint8(C++,H.charCodeAt(0))),Array.from(g,H=>A.setUint8(C++,H.charCodeAt(0))),Array.from(y,H=>A.setUint8(C++,H.charCodeAt(0)));var j=new Uint8Array(_.byteLength+l.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(l),_.byteLength),j.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,u,f,h,m]=l;return i({join_ref:o,ref:u,topic:f,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,l){const o=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const v=l.decode(n.slice(m,m+u));m=m+u;const y=l.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),_=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,A={type:this.BROADCAST_EVENT,event:v,payload:_};return f>0&&(A.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class Lv{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Xe||(Xe={}));const $p=(a,n,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=z_(f,a,n,o),u),{}):{}},z_=(a,n,i,l)=>{const o=n.find(h=>h.name===a),u=o?.type,f=i[a];return u&&!l.includes(u)?Bv(u,f):Pd(f)},Bv=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return H_(n,i)}switch(a){case Xe.bool:return U_(n);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return L_(n);case Xe.json:case Xe.jsonb:return B_(n);case Xe.timestamp:return I_(n);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Pd(n);default:return Pd(n)}},Pd=a=>a,U_=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},L_=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},B_=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},H_=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,l=a[i];if(a[0]==="{"&&l==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>Bv(n,h))}return a},I_=a=>typeof a=="string"?a.replace(" ","T"):a,Hv=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ed{constructor(n,i,l={},o=Kd){this.channel=n,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Gp;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Gp||(Gp={}));class Ds{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=Ds.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ds.syncDiff(this.state,o,u,f),h())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,o){const u=this.cloneDeep(n),f=this.transformState(i),h={},m={};return this.map(u,(g,v)=>{f[g]||(m[g]=v)}),this.map(f,(g,v)=>{const y=u[g];if(y){const w=v.map(j=>j.presence_ref),_=y.map(j=>j.presence_ref),A=v.filter(j=>_.indexOf(j.presence_ref)<0),C=y.filter(j=>w.indexOf(j.presence_ref)<0);A.length>0&&(h[g]=A),C.length>0&&(m[g]=C)}else h[g]=v}),this.syncDiff(u,{joins:h,leaves:m},l,o)}static syncDiff(n,i,l,o){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var g;const v=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),v.length>0){const y=n[h].map(_=>_.presence_ref),w=v.filter(_=>y.indexOf(_.presence_ref)<0);n[h].unshift(...w)}l(h,v,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const v=m.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const o=n[l];return"metas"in o?i[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[l]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yp;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Yp||(Yp={}));var Os;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Os||(Os={}));var pa;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class Si{constructor(n,i={config:{}},l){var o,u;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ed(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Ds(this),this.broadcastEndpointURL=Hv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},w={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(pa.CHANNEL_ERROR,_)),this._onClose(()=>n?.(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){n?.(pa.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,j=(A=C?.length)!==null&&A!==void 0?A:0,H=[];for(let q=0;q<j;q++){const U=C[q],{filter:{event:O,schema:L,table:G,filter:V}}=U,J=_&&_[q];if(J&&J.event===O&&Si.isFilterValueEqual(J.schema,L)&&Si.isFilterValueEqual(J.table,G)&&Si.isFilterValueEqual(J.filter,V))H.push(Object.assign(Object.assign({},U),{id:J.id}));else{this.unsubscribe(),this.state=bt.errored,n?.(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,n&&n(pa.SUBSCRIBED);return}}).receive("error",_=>{this.state=bt.errored,n?.(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===bt.joined&&n===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=bt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Ed(this,Bn.leave,{},n),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ed(this,n,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>M_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var o,u;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Bn;if(l&&[h,m,g,v].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,C,j;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((j=(C=_.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(_=>_.callback(w,l)):(u=this.bindings[f])===null||u===void 0||u.filter(_=>{var A,C,j,H,q,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const O=_.id,L=(A=_.filter)===null||A===void 0?void 0:A.event;return O&&((C=i.ids)===null||C===void 0?void 0:C.includes(O))&&(L==="*"||L?.toLocaleLowerCase()===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const O=(q=(H=_?.filter)===null||H===void 0?void 0:H.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return O==="*"||O===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:C,table:j,commit_timestamp:H,type:q,errors:U}=A;w=Object.assign(Object.assign({},{schema:C,table:j,commit_timestamp:H,eventType:q,new:{},old:{},errors:U}),this._getPayloadRecords(A))}_.callback(w,l)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const o=n.toLocaleLowerCase(),u={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Si.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Bn.close,{},n)}_onError(n){this._on(Bn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=$p(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=$p(n.columns,n.old_record)),i}}const xd=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q_=[1e3,2e3,5e3,1e4],$_=1e4,G_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y_{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kd,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.vsn=qp,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new k_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Xd.websocket}`,this.httpEndpoint=Hv(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return vr.Connecting;case Ya.open:return vr.Open;case Ya.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new Si(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:l,payload:o,ref:u}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${l} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(j_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:u,ref:f}=i,h=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ya.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ya.open||this.conn.readyState===Ya.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Bn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${l}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([G_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:C_};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Bn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Lv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,o,u,f,h,m,g,v,y,w,_;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Kd,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:mo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:xd,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:qp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(A=>q_[A-1]||$_),this.vsn){case N_:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((A,C)=>C(JSON.stringify(A))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:((A,C)=>C(JSON.parse(A)));break;case Uv:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=n?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ls=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V_(a,n,i){const l=new URL(n,a);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&l.searchParams.set(o,u);return l.toString()}async function K_(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function X_(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:u,headers:f}){const h=V_(a.baseUrl,l,o),m=await K_(a.auth),g=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),w=y&&v?JSON.parse(v):v;if(!g.ok){const _=y?w:void 0,A=_?.error;throw new Ls(A?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:A?.type,icebergCode:A?.code,details:_})}return{status:g.status,headers:g.headers,data:w}}}}function go(a){return a.join("")}var P_=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:go(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${go(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${go(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${go(a.namespace)}`}),!0}catch(n){if(n instanceof Ls&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Ls&&i.status===409)return;throw i}}};function di(a){return a.join("")}var Q_=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Ls&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Ls&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},J_=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=X_({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new P_(this.client,n),this.tableOps=new Q_(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Fo=class extends Error{constructor(a,n="storage",i,l){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=l}};function Wo(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var po=class extends Fo{constructor(a,n,i,l="storage"){super(a,l,n,i),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Iv=class extends Fo{constructor(a,n,i="storage"){super(a,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Z_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),F_=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Qd=a=>{if(Array.isArray(a))return a.map(i=>Qd(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Qd(l)}),n},W_=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Bs(a){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bs(a)}function ew(a,n){if(Bs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if(Bs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function tw(a){var n=ew(a,"string");return Bs(n)=="symbol"?n:n+""}function nw(a,n,i){return(n=tw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Vp(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function ge(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Vp(Object(i),!0).forEach(function(l){nw(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Vp(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}const Kp=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},aw=async(a,n,i,l)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a,u=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const h=f?.statusCode||f?.code||u+"";n(new po(Kp(f),u,h,l))}).catch(()=>{if(l==="vectors"){const f=u+"";n(new po(o.statusText||`HTTP ${u} error`,u,f,l))}else{const f=u+"";n(new po(o.statusText||`HTTP ${u} error`,u,f,l))}});else{const f=u+"";n(new po(o.statusText||`HTTP ${u} error`,u,f,l))}}else n(new Iv(Kp(a),a,l))},rw=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!l?ge(ge({},o),i):(F_(l)?(o.headers=ge({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),ge(ge({},o),i))};async function xs(a,n,i,l,o,u,f){return new Promise((h,m)=>{a(i,rw(n,l,o,u)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;if(f==="vectors"){const v=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!v||!v.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>aw(g,m,l,f))})}function qv(a="storage"){return{get:async(n,i,l,o)=>xs(n,"GET",i,l,o,void 0,a),post:async(n,i,l,o,u)=>xs(n,"POST",i,o,u,l,a),put:async(n,i,l,o,u)=>xs(n,"PUT",i,o,u,l,a),head:async(n,i,l,o)=>xs(n,"HEAD",i,ge(ge({},l),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,i,l,o,u)=>xs(n,"DELETE",i,o,u,l,a)}}const iw=qv("storage"),{get:Hs,post:Ln,put:Jd,head:sw,remove:mf}=iw,fn=qv("vectors");var Oi=class{constructor(a,n={},i,l="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Z_(i),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Wo(i))return{data:null,error:i};throw i}}},lw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};let $v;$v=Symbol.toStringTag;var ow=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[$v]="BlobDownloadBuilder",this.promise=null}asStream(){return new lw(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};const uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cw=class extends Oi{constructor(a,n={},i,l){super(a,n,l,"storage"),this.bucketId=i}async uploadOrUpdate(a,n,i,l){var o=this;return o.handleOperation(async()=>{let u;const f=ge(ge({},Xp),l);let h=ge(ge({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=i,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(h=ge(ge({},h),l.headers));const g=o._removeEmptyFolders(n),v=o._getFinalPath(g),y=await(a=="PUT"?Jd:Ln)(o.fetch,`${o.url}/object/${v}`,u,ge({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:y.Id,fullPath:y.Key}})}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,l){var o=this;const u=o._removeEmptyFolders(a),f=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${f}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const g=ge({upsert:Xp.upsert},l),v=ge(ge({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{path:u,fullPath:(await Jd(o.fetch,h.toString(),m,{headers:v})).Key}})}async createSignedUploadUrl(a,n){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(a);const o=ge({},i.headers);n?.upsert&&(o["x-upsert"]="true");const u=await Ln(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(i.url+u.url),h=f.searchParams.get("token");if(!h)throw new Fo("No token returned by API");return{signedUrl:f.toString(),path:a,token:h}})}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var l=this;return l.handleOperation(async()=>await Ln(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}))}async copy(a,n,i){var l=this;return l.handleOperation(async()=>({path:(await Ln(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(a,n,i){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(a),u=await Ln(l.fetch,`${l.url}/object/sign/${o}`,ge({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${l.url}${u.signedURL}${f}`)}})}async createSignedUrls(a,n,i){var l=this;return l.handleOperation(async()=>{const o=await Ln(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:a},{headers:l.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o.map(f=>ge(ge({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${u}`):null}))})}download(a,n,i){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",f=this._getFinalPath(a),h=()=>Hs(this.fetch,`${this.url}/${l}/${f}${u}`,{headers:this.headers,noResolveJson:!0},i);return new ow(h,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);return n.handleOperation(async()=>Qd(await Hs(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await sw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Wo(l)&&l instanceof Iv){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,n){const i=this._getFinalPath(a),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${h}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,i){var l=this;return l.handleOperation(async()=>{const o=ge(ge(ge({},uw),n),{},{prefix:a||""});return await Ln(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},i)})}async listV2(a,n){var i=this;return i.handleOperation(async()=>{const l=ge({},a);return await Ln(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const dw="2.95.3",Xs={"X-Client-Info":`storage-js/${dw}`};var fw=class extends Oi{constructor(a,n={},i,l){const o=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),f=ge(ge({},Xs),n);super(u,f,i,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(a);return await Hs(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Hs(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var i=this;return i.handleOperation(async()=>await Ln(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(a,n){var i=this;return i.handleOperation(async()=>await Jd(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Ln(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},hw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),n);super(l,o,i,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Ln(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const l=i.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await Hs(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!W_(a))throw new Fo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new J_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(o,u){const f=o[u];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}},mw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var i=this;return i.handleOperation(async()=>await fn.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var i=this;return i.handleOperation(async()=>await fn.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{})}},gw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},pw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},vw=class extends pw{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new yw(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},yw=class extends mw{constructor(a,n,i,l){super(a,n,l),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new bw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},bw=class extends gw{constructor(a,n,i,l,o){super(a,n,o),this.vectorBucketName=i,this.indexName=l}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},_w=class extends fw{constructor(a,n={},i,l){super(a,n,i,l)}from(a){return new cw(this.url,this.headers,a,this.fetch)}get vectors(){return new vw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hw(this.url+"/iceberg",this.headers,this.fetch)}};const Gv="2.95.3",_i=30*1e3,Zd=3,Td=Zd*_i,ww="http://localhost:9999",Sw="supabase.auth.token",Ew={"X-Client-Info":`gotrue-js/${Gv}`},Fd="X-Supabase-Api-Version",Yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tw=600*1e3;class Is extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ae(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Aw extends Is{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Rw(a){return ae(a)&&a.name==="AuthApiError"}class yr extends Is{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class ba extends Is{constructor(n,i,l,o){super(n,l,o),this.name=i,this.status=l}}class dn extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ad(a){return ae(a)&&a.name==="AuthSessionMissingError"}class fi extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vo extends ba{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class yo extends ba{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dw(a){return ae(a)&&a.name==="AuthImplicitGrantRedirectError"}class Pp extends ba{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ow extends ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wd extends ba{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Rd(a){return ae(a)&&a.name==="AuthRetryableFetchError"}class Qp extends ba{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class ef extends ba{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jp=` 	
\r=`.split(""),Cw=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Jp.length;n+=1)a[Jp[n].charCodeAt(0)]=-2;for(let n=0;n<zo.length;n+=1)a[zo[n].charCodeAt(0)]=n;return a})();function Zp(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(zo[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(zo[l]),n.queuedBits-=6}}function Vv(a,n,i){const l=Cw[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Fp(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{Mw(f,l,i)};for(let f=0;f<a.length;f+=1)Vv(a.charCodeAt(f),o,u);return n.join("")}function Nw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function jw(a,n){for(let i=0;i<a.length;i+=1){let l=a.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}Nw(l,n)}}function Mw(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function xi(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Vv(a.charCodeAt(o),i,l);return new Uint8Array(n)}function kw(a){const n=[];return jw(a,i=>n.push(i)),new Uint8Array(n)}function br(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};return a.forEach(o=>Zp(o,i,l)),Zp(null,i,l),n.join("")}function zw(a){return Math.round(Date.now()/1e3)+a}function Uw(){return Symbol("auth-callback")}const Ut=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Kv=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function Lw(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return i.searchParams.forEach((l,o)=>{n[o]=l}),n}const Xv=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Bw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",wi=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},gr=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},zt=async(a,n)=>{await a.removeItem(n)};class eu{constructor(){this.promise=new eu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}eu.promiseConstructor=Promise;function bo(a){const n=a.split(".");if(n.length!==3)throw new ef("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!xw.test(n[l]))throw new ef("JWT not in base64url format");return{header:JSON.parse(Fp(n[0])),payload:JSON.parse(Fp(n[1])),signature:xi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Hw(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Iw(a,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){l(f);return}}catch(f){if(!n(u,f)){o(f);return}}})()})}function qw(a){return("0"+a.toString(16)).substr(-2)}function $w(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,qw).join("")}async function Gw(a){const i=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Yw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await Gw(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(a,n,i=!1){const l=$w();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await wi(a,`${n}-code-verifier`,o);const u=await Yw(l);return[u,l===u?"plain":"s256"]}const Vw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kw(a){const n=a.headers.get(Fd);if(!n||!n.match(Vw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Xw(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Pw(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mi(a){if(!Qw.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dd(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jw(a,n){return new Proxy(a,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,o)}})}function Wp(a){return JSON.parse(JSON.stringify(a))}const pr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Zw=[502,503,504];async function ev(a){var n;if(!Bw(a))throw new Wd(pr(a),0);if(Zw.includes(a.status))throw new Wd(pr(a),a.status);let i;try{i=await a.json()}catch(u){throw new yr(pr(u),u)}let l;const o=Kw(a);if(o&&o.getTime()>=Yv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Qp(pr(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new dn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Qp(pr(i),a.status,i.weak_password.reasons);throw new Aw(pr(i),a.status||500,l)}const Fw=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function me(a,n,i,l){var o;const u=Object.assign({},l?.headers);u[Fd]||(u[Fd]=Yv["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Ww(a,n,i+h,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Ww(a,n,i,l,o,u){const f=Fw(n,l,o,u);let h;try{h=await a(i,Object.assign({},f))}catch(m){throw console.error(m),new Wd(pr(m),0)}if(h.ok||await ev(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await ev(m)}}function Un(a){var n;let i=null;nS(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=zw(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:l},error:null}}function tv(a){const n=Un(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Ka(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function eS(a){return{data:a,error:null}}function tS(a){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u}=a,f=Zo(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function nv(a){return a}function nS(a){return a.access_token&&a.refresh_token&&a.expires_in}const Od=["global","local","others"];class aS{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Xv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Od[0]){if(Od.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Od.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ka})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Zo(n,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:tS,redirectTo:i?.redirectTo})}catch(i){if(ae(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ka})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nv});if(v.error)throw v.error;const y=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);g[`${j}Page`]=C}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){mi(n);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ka})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){mi(n);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Ka})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){mi(n);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ka})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){mi(n.userId);try{const{data:i,error:l}=await me(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteFactor(n){mi(n.userId),mi(n.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nv});if(v.error)throw v.error;const y=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);g[`${j}Page`]=C}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}}function av(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const gi={debug:!!(globalThis&&Kv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class rS extends Pv{}async function iS(a,n,i){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new rS(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(gi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function sS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qv(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function lS(a){return parseInt(a,16)}function oS(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function uS(a){var n;const{chainId:i,domain:l,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:v,uri:y,version:w}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const _=Qv(a.address),A=v?`${v}://${l}`:l,C=a.statement?`${a.statement}
`:"",j=`${A} wants you to sign in with your Ethereum account:
${_}

${C}`;let H=`URI: ${y}
Version: ${w}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(H+=`
Expiration Time: ${o.toISOString()}`),h&&(H+=`
Not Before: ${h.toISOString()}`),m&&(H+=`
Request ID: ${m}`),g){let q=`
Resources:`;for(const U of g){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);q+=`
- ${U}`}H+=q}return`${j}
${H}`}class gt extends Error{constructor({message:n,code:i,cause:l,name:o}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=o??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Uo extends gt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function cS({error:a,options:n}){var i,l,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new gt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Jv(f)){if(u.rp.id!==f)return new gt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function dS({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new gt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Jv(l)){if(i.rpId!==l)return new gt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class fS{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hS=new fS;function mS(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:l}=a,o=Zo(a,["challenge","user","excludeCredentials"]),u=xi(n).buffer,f=Object.assign(Object.assign({},i),{id:xi(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:f});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:xi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function gS(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,l=Zo(a,["challenge","allowCredentials"]),o=xi(n).buffer,u=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:xi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function pS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:br(new Uint8Array(a.response.attestationObject)),clientDataJSON:br(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function vS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,l=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:br(new Uint8Array(o.authenticatorData)),clientDataJSON:br(new Uint8Array(o.clientDataJSON)),signature:br(new Uint8Array(o.signature)),userHandle:o.userHandle?br(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jv(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function rv(){var a,n;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function yS(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",n)}:{data:null,error:new Uo("Empty credential response",n)}}catch(n){return{data:null,error:cS({error:n,options:a})}}}async function bS(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",n)}:{data:null,error:new Uo("Empty credential response",n)}}catch(n){return{data:null,error:dS({error:n,options:a})}}}const _S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lo(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of a)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))l[u]=f;else if(i(f))l[u]=f;else if(n(f)){const h=l[u];n(h)?l[u]=Lo(h,f):l[u]=Lo(f)}else l[u]=f}return l}function SS(a,n){return Lo(_S,a,n||{})}function ES(a,n){return Lo(wS,a,n||{})}class xS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:o},u){var f;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const g=o??hS.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const y=l;if(y)v.name=`${v.id}:${y}`;else{const _=(await this.client.getUser()).data.user,A=((f=_?.user_metadata)===null||f===void 0?void 0:f.name)||_?.email||_?.id||"User";v.name=`${v.id}:${A}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=SS(h.webauthn.credential_options.publicKey,u?.create),{data:y,error:w}=await yS({publicKey:v,signal:g});return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const v=ES(h.webauthn.credential_options.publicKey,u?.request),{data:y,error:w}=await bS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:g}));return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new yr("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!rv())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:u});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!rv())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in register",f)}}}}sS();const TS={url:ww,storageKey:Sw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ew,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function iv(a,n,i){return await i()}const pi={};class qs{get jwks(){var n,i;return(i=(n=pi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=pi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},TS),n);if(this.storageKey=u.storageKey,this.instanceID=(i=qs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,qs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ut()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new aS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Xv(u.fetch),this.lock=u.lock||iv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ut()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=iS:this.lock=iv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Kv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=av(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=av(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(Ut()&&(i=Lw(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),Ut()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Dw(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ae(i)?this._returnResult({error:i}):this._returnResult({error:new yr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,o;try{const u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Un}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,l,o;try{let u;if("email"in n){const{email:v,password:y,options:w}=n;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await hi(this.storage,this.storageKey)),u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:A},xform:Un})}else if("phone"in n){const{phone:v,password:y,options:w}=n;u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Un})}else throw new vo("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tv})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tv})}else throw new vo("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const u=new fi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,o,u,f,h,m,g,v,y,w;let _,A;if("message"in n)_=n.message,A=n.signature;else{const{chain:C,wallet:j,statement:H,options:q}=n;let U;if(Ut())if(typeof j=="object")U=j;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")U=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=j}const O=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),L=await U.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Qv(L[0]);let V=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!V){const F=await U.request({method:"eth_chainId"});V=lS(F)}const J={domain:O.host,address:G,statement:H,uri:O.href,version:"1",chainId:V,nonce:(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=q?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=q?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=uS(J),A=await U.request({method:"personal_sign",params:[oS(_),G]})}try{const{data:C,error:j}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:A},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Un});if(j)throw j;if(!C||!C.session||!C.user){const H=new fi;return this._returnResult({data:{user:null,session:null},error:H})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(ae(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var i,l,o,u,f,h,m,g,v,y,w,_;let A,C;if("message"in n)A=n.message,C=n.signature;else{const{chain:j,wallet:H,statement:q,options:U}=n;let O;if(Ut())if(typeof H=="object")O=H;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))O=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=H}const L=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in O&&O.signIn){const G=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),q?{statement:q}:null));let V;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")V=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)V=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)A=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),C=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${L.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((y=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...U.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const G=await O.signMessage(new TextEncoder().encode(A),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=G}}try{const{data:j,error:H}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:br(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Un});if(H)throw H;if(!j||!j.session||!j.user){const q=new fi;return this._returnResult({data:{user:null,session:null},error:q})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:H})}catch(j){if(ae(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const i=await gr(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Ow;const{data:u,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Un});if(await zt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:l,token:o,access_token:u,nonce:f}=n,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Un}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new fi;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,o,u,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await hi(this.storage,this.storageKey));const{error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new vo("You must provide either an email or phone number.")}catch(h){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,l;try{let o,u;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Un});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,l,o,u,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await hi(this.storage,this.storageKey));const g=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:eS});return!((u=g.data)===null||u===void 0)&&u.url&&Ut()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new dn;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:f}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:f,error:h}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new vo("You must provide either an email or phone number and a type")}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await gr(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Dd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Jw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ka}):await this._useSession(async i=>{var l,o,u;const{data:f,error:h}=i;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Ka})})}catch(i){if(ae(i))return Ad(i)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new dn;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await hi(this.storage,this.storageKey));const{data:g,error:v}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:Ka});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new dn;const i=Date.now()/1e3;let l=i,o=!0,u=null;const{payload:f}=bo(n.access_token);if(f.exp&&(l=f.exp,o=l<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new dn;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!Ut())throw new yo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new yo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Pp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Pp("No code detected.");const{data:q,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!u||!h||!f||!g)throw new yo("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let w=v+y;m&&(w=parseInt(m));const _=w-v;_*1e3<=_i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const A=w-y;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,v);const{data:C,error:j}=await this._getUser(u);if(j)throw j;const H={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:w,refresh_token:f,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u&&!Ad(u))return this._returnResult({error:u});const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Rw(h)&&(h.status===404||h.status===401||h.status===403)||Ad(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=Uw(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,o;try{const{data:{session:u},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await hi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:o}=await this._useSession(async u=>{var f,h,m,g,v;const{data:y,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Ut()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:v}=n,y=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Un}),{data:w,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new fi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:f}=i;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Iw(async o=>(o>0&&await Hw(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Un})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Rd(u)&&Date.now()+f-l<_i})}catch(l){if(this._debug(i,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),Ut()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await gr(this.storage,this.storageKey);if(o&&this.userStorage){let f=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await wi(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:Dd()}else if(o&&!o.user&&!o.user){const f=await gr(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await zt(this.storage,this.storageKey+"-user"),await wi(this.storage,this.storageKey,o)):o.user=Dd()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Td;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Td}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Rd(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new eu;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new dn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),ae(u)){const f={data:null,error:u};return Rd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await wi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=Wp(o);await wi(this.storage,this.storageKey,u)}else{const o=Wp(i);await wi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),_i);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/_i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_i}ms, refresh threshold is ${Zd} ticks`),o<=Zd&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Pv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,f]=await hi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await me(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?pS(n.webauthn.credential_response):vS(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:gS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,l,o,u;if(n)try{const{payload:_}=bo(n);let A=null;_.aal&&(A=_.aal);let C=A;const{data:{user:j},error:H}=await this.getUser(n);if(H)return this._returnResult({data:null,error:H});((l=(i=j?.factors)===null||i===void 0?void 0:i.filter(O=>O.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(C="aal2");const U=_.amr||[];return{data:{currentLevel:A,nextLevel:C,currentAuthenticationMethods:U},error:null}}catch(_){if(ae(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:f},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=bo(f.access_token);let g=null;m.aal&&(g=m.aal);let v=g;((u=(o=f.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(v="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new dn})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new dn});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ut()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new dn});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ut()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new dn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+Tw>o)return l;const{data:u,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:_,error:A}=await this.getSession();if(A||!_.session)return this._returnResult({data:null,error:A});l=_.session.access_token}const{header:o,payload:u,signature:f,raw:{header:h,payload:m}}=bo(l);i?.allowExpired||Xw(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:u,header:o,signature:f},error:null}}const v=Pw(o.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,f,kw(`${h}.${m}`)))throw new ef("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}}qs.nextInstanceID={};const AS=qs,RS="2.95.3";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const DS={"X-Client-Info":`supabase-js-${Ts}/${RS}`},OS={headers:DS},CS={schema:"public"},NS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jS={};function $s(a){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$s(a)}function MS(a,n){if($s(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if($s(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function kS(a){var n=MS(a,"string");return $s(n)=="symbol"?n:n+""}function zS(a,n,i){return(n=kS(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function sv(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function at(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?sv(Object(i),!0).forEach(function(l){zS(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):sv(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}const US=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),LS=()=>Headers,BS=(a,n,i)=>{const l=US(i),o=LS();return async(u,f)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,at(at({},f),{},{headers:g}))}};function HS(a){return a.endsWith("/")?a:a+"/"}function IS(a,n){var i,l;const{db:o,auth:u,realtime:f,global:h}=a,{db:m,auth:g,realtime:v,global:y}=n,w={db:at(at({},m),o),auth:at(at({},g),u),realtime:at(at({},v),f),storage:{},global:at(at(at({},y),h),{},{headers:at(at({},(i=y?.headers)!==null&&i!==void 0?i:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function qS(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HS(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $S=class extends AS{constructor(a){super(a)}},GS=class{constructor(a,n,i){var l,o;this.supabaseUrl=a,this.supabaseKey=n;const u=qS(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:CS,realtime:jS,auth:at(at({},NS),{},{storageKey:f}),global:OS},m=IS(i??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=BS(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new R_(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new _w(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new b_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,storageKey:u,flowType:f,lock:h,debug:m,throwOnError:g},v,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $S({url:this.authUrl.href,headers:at(at({},w),v),storageKey:u,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,flowType:f,lock:h,debug:m,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Y_(this.realtimeUrl.href,at(at({},a),{},{params:at(at({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const YS=(a,n,i)=>new GS(a,n,i);function VS(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}VS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KS="https://nebfkwfgjtqinrfiglva.supabase.co",XS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lYmZrd2ZnanRxaW5yZmlnbHZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExNDIzODcsImV4cCI6MjA4NjcxODM4N30.8hx_3VfKrxMy9hXD94PgU2OAGoZ1YNJtK8HRj2PCGDA",_o=YS(KS,XS);function We(a){const[n,i,l]=a.split("-").map(Number);return new Date(n,i-1,l)}function ct(a){const n=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`${n}-${i}-${l}`}function Er(a,n){const i=new Date(a);return i.setDate(i.getDate()+n),i}function Bo(a,n){return Math.round((a.getTime()-n.getTime())/864e5)}function Zv(a){const n=new Date(a),i=n.getDay(),l=i===0?-6:1-i;return n.setDate(n.getDate()+l),n}function PS(a){return new Date(a.getFullYear(),a.getMonth(),1)}function Rt(a,n,i){if(i==="week")return Bo(a,n)/7*df;{const l=(a.getFullYear()-n.getFullYear())*12+(a.getMonth()-n.getMonth()),o=a.getDate()-1,u=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return(l+o/u)*ff}}function In(a,n,i){if(i==="week"){const l=a/df*7;return Er(n,Math.round(l))}else{const l=a/ff,o=Math.floor(l),u=l-o,f=new Date(n.getFullYear(),n.getMonth()+o,1),h=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),m=Math.round(u*h);return new Date(f.getFullYear(),f.getMonth(),1+m)}}function QS(a,n,i){const l=[];let o=Zv(a);const u=n.getTime();for(;o.getTime()<=u;){const f=Rt(o,i,"week"),h=o.getDate(),m=o.toLocaleString("en",{month:"short"});l.push({label:`${h} ${m}`,x:f,width:df,date:new Date(o),month:o.getMonth()}),o=Er(o,7)}return l}function JS(a,n,i){const l=[];let o=PS(a);for(;o.getTime()<=n.getTime();){const u=Rt(o,i,"month"),f=o.toLocaleString("en",{month:"short"}),h=o.getFullYear(),m=Math.floor(o.getMonth()/3)+1;l.push({label:f,sublabel:`Q${m} ${h}`,x:u,width:ff,date:new Date(o),month:o.getMonth()}),o=new Date(o.getFullYear(),o.getMonth()+1,1)}return l}function xr(a){return We(a).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})}function gf(a,n){return Math.round(Bo(We(n),We(a))/7)}function vi(){return crypto.randomUUID()}function lv(){return{streams:[],dependencies:[],milestones:[],settings:{...kv}}}const re=wv()(l_((a,n)=>({currentRoadmapId:null,roadmapName:"New Roadmap",roadmap:lv(),roadmapList:[],isDirty:!1,isLoading:!1,saveStatus:"idle",setDirty:()=>a({isDirty:!0}),addStream:(i,l)=>{a(o=>{const u=o.roadmap.streams.length;o.roadmap.streams.push({id:vi(),name:i,color:l,collapsed:!1,order:u,items:[]}),o.isDirty=!0})},updateStream:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(f=>f.id===i);u&&(Object.assign(u,l),o.isDirty=!0)})},removeStream:i=>{a(l=>{l.roadmap.streams=l.roadmap.streams.filter(u=>u.id!==i);const o=new Set(l.roadmap.streams.filter(u=>u.id===i).flatMap(u=>u.items.map(f=>f.id)));l.roadmap.dependencies=l.roadmap.dependencies.filter(u=>!o.has(u.fromItemId)&&!o.has(u.toItemId)),l.roadmap.milestones=l.roadmap.milestones.filter(u=>u.streamId!==i),l.roadmap.streams.forEach((u,f)=>{u.order=f}),l.isDirty=!0})},reorderStreams:(i,l)=>{a(o=>{const u=o.roadmap.streams,f=u.findIndex(g=>g.id===i),h=u.findIndex(g=>g.id===l);if(f===-1||h===-1)return;const[m]=u.splice(f,1);u.splice(h,0,m),u.forEach((g,v)=>{g.order=v}),o.isDirty=!0})},toggleStreamCollapse:i=>{a(l=>{const o=l.roadmap.streams.find(u=>u.id===i);o&&(o.collapsed=!o.collapsed,l.isDirty=!0)})},addItem:i=>{a(l=>{const o=l.roadmap.streams.find(v=>v.id===i);if(!o)return;const u=new Date,f=new Date(u),h=f.getDay();f.setDate(f.getDate()+(h===0?1:8-h));const m=new Date(f);m.setDate(m.getDate()+28);const g={id:vi(),name:"New Item",lead:"",support:"",startDate:ct(f),endDate:ct(m),phase:"implementation-build",notes:"",order:o.items.length};o.items.push(g),l.isDirty=!0})},updateItem:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(m=>m.id===i);if(!f)return;const h=f.items.find(m=>m.id===l);h&&(Object.assign(h,o),u.isDirty=!0)})},removeItem:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(m=>m.id===i);if(!u)return;const f=u.items.find(m=>m.id===l),h=new Set([l]);if(f?.subItems)for(const m of f.subItems)h.add(m.id);u.items=u.items.filter(m=>m.id!==l),u.items.forEach((m,g)=>{m.order=g}),o.roadmap.dependencies=o.roadmap.dependencies.filter(m=>!h.has(m.fromItemId)&&!h.has(m.toItemId)),o.isDirty=!0})},moveItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===i);if(!h||ko(h.items,l,o,u))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=u,f.isDirty=!0)})},resizeItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===i);if(!h||ko(h.items,l,o,u))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=u,f.isDirty=!0)})},toggleItemExpanded:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(h=>h.id===i);if(!u)return;const f=u.items.find(h=>h.id===l);f&&(f.expanded=!f.expanded,f.subItems||(f.subItems=[]),o.isDirty=!0)})},addSubItem:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(y=>y.id===i);if(!u)return;const f=u.items.find(y=>y.id===l);if(!f)return;f.subItems||(f.subItems=[]);const h=f.startDate,m=new Date(h),g=new Date(m);g.setDate(g.getDate()+14);const v={id:vi(),name:"New Sub-task",lead:"",support:"",startDate:ct(m),endDate:ct(g),phase:f.phase,notes:"",order:f.subItems.length};f.subItems.push(v),f.expanded=!0,o.isDirty=!0})},removeSubItem:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(m=>m.id===i);if(!f)return;const h=f.items.find(m=>m.id===l);!h||!h.subItems||(h.subItems=h.subItems.filter(m=>m.id!==o),h.subItems.forEach((m,g)=>{m.order=g}),u.roadmap.dependencies=u.roadmap.dependencies.filter(m=>m.fromItemId!==o&&m.toItemId!==o),u.isDirty=!0)})},updateSubItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(v=>v.id===i);if(!h)return;const m=h.items.find(v=>v.id===l);if(!m||!m.subItems)return;const g=m.subItems.find(v=>v.id===o);g&&(Object.assign(g,u),f.isDirty=!0)})},moveSubItem:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(y=>y.id===i);if(!m)return;const g=m.items.find(y=>y.id===l);if(!g||!g.subItems)return;const v=g.subItems.find(y=>y.id===o);v&&(v.startDate=u,v.endDate=f,h.isDirty=!0)})},resizeSubItem:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(y=>y.id===i);if(!m)return;const g=m.items.find(y=>y.id===l);if(!g||!g.subItems)return;const v=g.subItems.find(y=>y.id===o);v&&(v.startDate=u,v.endDate=f,h.isDirty=!0)})},toggleSubItemPhasesExpanded:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(g=>g.id===i);if(!f)return;const h=f.items.find(g=>g.id===l);if(!h||!h.subItems)return;const m=h.subItems.find(g=>g.id===o);m&&(m.phasesExpanded=!m.phasesExpanded,m.phaseBars||(m.phaseBars=[]),u.isDirty=!0)})},addPhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(w=>w.id===i);if(!g)return;const v=g.items.find(w=>w.id===l);if(!v||!v.subItems)return;const y=v.subItems.find(w=>w.id===o);y&&(y.phaseBars||(y.phaseBars=[]),!Ei(y.phaseBars,"",u,f)&&(y.phaseBars.push({id:vi(),name:"New Phase",startDate:u,endDate:f,color:h||d_}),y.phasesExpanded=!0,m.isDirty=!0))})},removePhaseBar:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(v=>v.id===i);if(!h)return;const m=h.items.find(v=>v.id===l);if(!m||!m.subItems)return;const g=m.subItems.find(v=>v.id===o);!g||!g.phaseBars||(g.phaseBars=g.phaseBars.filter(v=>v.id!==u),f.isDirty=!0)})},updatePhaseBar:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(w=>w.id===i);if(!m)return;const g=m.items.find(w=>w.id===l);if(!g||!g.subItems)return;const v=g.subItems.find(w=>w.id===o);if(!v||!v.phaseBars)return;const y=v.phaseBars.find(w=>w.id===u);y&&(Object.assign(y,f),h.isDirty=!0)})},movePhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(_=>_.id===i);if(!g)return;const v=g.items.find(_=>_.id===l);if(!v||!v.subItems)return;const y=v.subItems.find(_=>_.id===o);if(!y||!y.phaseBars||Ei(y.phaseBars,u,f,h))return;const w=y.phaseBars.find(_=>_.id===u);w&&(w.startDate=f,w.endDate=h,m.isDirty=!0)})},resizePhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(_=>_.id===i);if(!g)return;const v=g.items.find(_=>_.id===l);if(!v||!v.subItems)return;const y=v.subItems.find(_=>_.id===o);if(!y||!y.phaseBars||Ei(y.phaseBars,u,f,h))return;const w=y.phaseBars.find(_=>_.id===u);w&&(w.startDate=f,w.endDate=h,m.isDirty=!0)})},addDependency:(i,l)=>{a(o=>{o.roadmap.dependencies.some(f=>f.fromItemId===i&&f.toItemId===l)||(o.roadmap.dependencies.push({id:vi(),fromItemId:i,toItemId:l}),o.isDirty=!0)})},removeDependency:i=>{a(l=>{l.roadmap.dependencies=l.roadmap.dependencies.filter(o=>o.id!==i),l.isDirty=!0})},addMilestone:(i,l,o)=>{a(u=>{u.roadmap.milestones.push({id:vi(),name:i,date:l,streamId:o}),u.isDirty=!0})},removeMilestone:i=>{a(l=>{l.roadmap.milestones=l.roadmap.milestones.filter(o=>o.id!==i),l.isDirty=!0})},moveMilestone:(i,l)=>{a(o=>{const u=o.roadmap.milestones.find(f=>f.id===i);u&&(u.date=l,o.isDirty=!0)})},fetchRoadmapList:async()=>{const{data:i,error:l}=await _o.from("roadmaps").select("id, name").order("updated_at",{ascending:!1});if(l){console.error("Failed to fetch roadmap list:",l);return}a({roadmapList:i||[]})},loadRoadmap:async i=>{a({isLoading:!0});const{data:l,error:o}=await _o.from("roadmaps").select("*").eq("id",i).single();if(o){console.error("Failed to load roadmap:",o),a({isLoading:!1});return}if(l){const u=l.data;a({currentRoadmapId:l.id,roadmapName:l.name,roadmap:{streams:u.streams||[],dependencies:u.dependencies||[],milestones:u.milestones||[],settings:u.settings||{...kv}},isDirty:!1,isLoading:!1})}},createRoadmap:async i=>{const l=lv(),{data:o,error:u}=await _o.from("roadmaps").insert({name:i,data:l}).select().single();return u?(console.error("Failed to create roadmap:",u),null):(a({currentRoadmapId:o.id,roadmapName:o.name,roadmap:l,isDirty:!1}),n().fetchRoadmapList(),o.id)},saveRoadmap:async()=>{const{currentRoadmapId:i,roadmap:l,roadmapName:o}=n();if(!i)return;a({saveStatus:"saving"});const{error:u}=await _o.from("roadmaps").update({data:l,name:o,updated_at:new Date().toISOString()}).eq("id",i);u?(console.error("Failed to save:",u),a({saveStatus:"error",isDirty:!0})):(a({isDirty:!1,saveStatus:"saved"}),setTimeout(()=>{a(f=>{f.saveStatus==="saved"&&(f.saveStatus="idle")})},2e3))},renameRoadmap:i=>{a({roadmapName:i,isDirty:!0})}}))),oe=wv(a=>({zoom:"week",selectedItemId:null,selectedStreamId:null,editPanelOpen:!1,isPanning:!1,dependencyMode:!1,dependencySourceItemId:null,showLeadColumn:!1,showSupportColumn:!1,showPhaseColumn:!1,showMonthColors:!0,setZoom:n=>a({zoom:n}),toggleZoom:()=>a(n=>({zoom:n.zoom==="week"?"month":"week"})),selectItem:(n,i=null)=>a({selectedItemId:n,selectedStreamId:i}),openEditPanel:()=>a({editPanelOpen:!0}),closeEditPanel:()=>a({editPanelOpen:!1,selectedItemId:null,selectedStreamId:null}),setPanning:n=>a({isPanning:n}),enterDependencyMode:n=>a({dependencyMode:!0,dependencySourceItemId:n}),exitDependencyMode:()=>a({dependencyMode:!1,dependencySourceItemId:null}),toggleLeadColumn:()=>a(n=>({showLeadColumn:!n.showLeadColumn})),toggleSupportColumn:()=>a(n=>({showSupportColumn:!n.showSupportColumn})),togglePhaseColumn:()=>a(n=>({showPhaseColumn:!n.showPhaseColumn})),toggleMonthColors:()=>a(n=>({showMonthColors:!n.showMonthColors}))}));function ZS(){const a=re(E=>E.roadmapName),n=re(E=>E.renameRoadmap),i=re(E=>E.roadmapList),l=re(E=>E.currentRoadmapId),o=re(E=>E.loadRoadmap),u=re(E=>E.createRoadmap),f=re(E=>E.saveStatus),h=re(E=>E.roadmap.streams),m=re(E=>E.addMilestone),g=oe(E=>E.zoom),v=oe(E=>E.setZoom),y=oe(E=>E.showMonthColors),w=oe(E=>E.toggleMonthColors),[_,A]=S.useState(!1),[C,j]=S.useState(a),[H,q]=S.useState(!1),[U,O]=S.useState(""),[L,G]=S.useState(ct(new Date)),[V,J]=S.useState(""),F=()=>{j(a),A(!0)},de=()=>{A(!1),C.trim()&&C!==a&&n(C.trim())},ue=E=>{E.key==="Enter"&&E.target.blur()},pe=E=>{const X=E.target.value;X&&o(X)},we=async()=>{const E=prompt("Enter roadmap name:");E?.trim()&&await u(E.trim())},Se=()=>{if(h.length===0){alert("Add a stream first before creating a milestone.");return}O(""),G(ct(new Date)),J(h[0].id),q(!0)},xe=()=>{U.trim()&&L&&V&&(m(U.trim(),L,V),q(!1))};return x.jsxs("div",{className:"flex items-center gap-4 px-4 border-b border-gray-200 bg-white relative",style:{height:52},children:[_?x.jsx("input",{className:"text-lg font-semibold px-2 py-1 border border-blue-400 rounded outline-none",value:C,onChange:E=>j(E.target.value),onBlur:de,onKeyDown:ue,autoFocus:!0}):x.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-blue-600 truncate max-w-64",onClick:F,title:"Click to rename",children:a}),x.jsx("div",{className:"h-6 w-px bg-gray-300"}),x.jsx("select",{className:"text-sm border border-gray-300 rounded px-2 py-1.5 bg-white",value:l||"",onChange:pe,children:i.map(E=>x.jsx("option",{value:E.id,children:E.name},E.id))}),x.jsx("button",{onClick:we,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none",children:"+ New"}),x.jsx("button",{onClick:Se,className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 border border-gray-300",title:"Add a milestone marker to a stream",children:"+ Milestone"}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"text-xs text-gray-400 w-16 text-right",children:[f==="saving"&&"Saving...",f==="saved"&&" Saved",f==="error"&&" Error"]}),x.jsx("button",{onClick:w,className:`text-sm px-3 py-1 rounded-md border transition-colors ${y?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200 hover:text-gray-700"}`,title:y?"Hide month colors":"Show month colors",children:"Colors"}),x.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[x.jsx("button",{onClick:()=>v("week"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="week"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),x.jsx("button",{onClick:()=>v("month"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="month"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Month"})]}),x.jsx("img",{src:"/logo.png",alt:"Roadmap Planner",className:"h-8 w-auto object-contain"}),H&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>q(!1)}),x.jsxs("div",{className:"absolute top-full left-64 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",style:{width:300},children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Milestone"}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",placeholder:"Milestone name...",value:U,onChange:E=>O(E.target.value),onKeyDown:E=>{E.key==="Enter"&&xe()},autoFocus:!0}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",value:L,onChange:E=>G(E.target.value)}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Stream"}),x.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 bg-white outline-none focus:border-blue-400",value:V,onChange:E=>J(E.target.value),children:h.map(E=>x.jsx("option",{value:E.id,children:E.name},E.id))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:xe,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none cursor-pointer",children:"Add"}),x.jsx("button",{onClick:()=>q(!1),className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 border-none cursor-pointer",children:"Cancel"})]})]})]})]})}var As=_v();function FS(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return S.useMemo(()=>l=>{n.forEach(o=>o(l))},n)}const tu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ci(a){const n=Object.prototype.toString.call(a);return n==="[object Window]"||n==="[object global]"}function pf(a){return"nodeType"in a}function tn(a){var n,i;return a?Ci(a)?a:pf(a)&&(n=(i=a.ownerDocument)==null?void 0:i.defaultView)!=null?n:window:window}function vf(a){const{Document:n}=tn(a);return a instanceof n}function Ps(a){return Ci(a)?!1:a instanceof tn(a).HTMLElement}function Fv(a){return a instanceof tn(a).SVGElement}function Ni(a){return a?Ci(a)?a.document:pf(a)?vf(a)?a:Ps(a)||Fv(a)?a.ownerDocument:document:document:document}const Pn=tu?S.useLayoutEffect:S.useEffect;function yf(a){const n=S.useRef(a);return Pn(()=>{n.current=a}),S.useCallback(function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return n.current==null?void 0:n.current(...l)},[])}function WS(){const a=S.useRef(null),n=S.useCallback((l,o)=>{a.current=setInterval(l,o)},[]),i=S.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[n,i]}function Gs(a,n){n===void 0&&(n=[a]);const i=S.useRef(a);return Pn(()=>{i.current!==a&&(i.current=a)},n),i}function Qs(a,n){const i=S.useRef();return S.useMemo(()=>{const l=a(i.current);return i.current=l,l},[...n])}function Ho(a){const n=yf(a),i=S.useRef(null),l=S.useCallback(o=>{o!==i.current&&n?.(o,i.current),i.current=o},[]);return[i,l]}function tf(a){const n=S.useRef();return S.useEffect(()=>{n.current=a},[a]),n.current}let Cd={};function Js(a,n){return S.useMemo(()=>{if(n)return n;const i=Cd[a]==null?0:Cd[a]+1;return Cd[a]=i,a+"-"+i},[a,n])}function Wv(a){return function(n){for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return l.reduce((u,f)=>{const h=Object.entries(f);for(const[m,g]of h){const v=u[m];v!=null&&(u[m]=v+a*g)}return u},{...n})}}const Ti=Wv(1),Io=Wv(-1);function eE(a){return"clientX"in a&&"clientY"in a}function bf(a){if(!a)return!1;const{KeyboardEvent:n}=tn(a.target);return n&&a instanceof n}function tE(a){if(!a)return!1;const{TouchEvent:n}=tn(a.target);return n&&a instanceof n}function nf(a){if(tE(a)){if(a.touches&&a.touches.length){const{clientX:n,clientY:i}=a.touches[0];return{x:n,y:i}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:n,clientY:i}=a.changedTouches[0];return{x:n,y:i}}}return eE(a)?{x:a.clientX,y:a.clientY}:null}const Ys=Object.freeze({Translate:{toString(a){if(!a)return;const{x:n,y:i}=a;return"translate3d("+(n?Math.round(n):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:n,scaleY:i}=a;return"scaleX("+n+") scaleY("+i+")"}},Transform:{toString(a){if(a)return[Ys.Translate.toString(a),Ys.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:n,duration:i,easing:l}=a;return n+" "+i+"ms "+l}}}),ov="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nE(a){return a.matches(ov)?a:a.querySelector(ov)}const aE={display:"none"};function rE(a){let{id:n,value:i}=a;return At.createElement("div",{id:n,style:aE},i)}function iE(a){let{id:n,announcement:i,ariaLiveType:l="assertive"}=a;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return At.createElement("div",{id:n,style:o,role:"status","aria-live":l,"aria-atomic":!0},i)}function sE(){const[a,n]=S.useState("");return{announce:S.useCallback(l=>{l!=null&&n(l)},[]),announcement:a}}const ey=S.createContext(null);function lE(a){const n=S.useContext(ey);S.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(a)},[a,n])}function oE(){const[a]=S.useState(()=>new Set),n=S.useCallback(l=>(a.add(l),()=>a.delete(l)),[a]);return[S.useCallback(l=>{let{type:o,event:u}=l;a.forEach(f=>{var h;return(h=f[o])==null?void 0:h.call(f,u)})},[a]),n]}const uE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cE={onDragStart(a){let{active:n}=a;return"Picked up draggable item "+n.id+"."},onDragOver(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was moved over droppable area "+i.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was dropped over droppable area "+i.id:"Draggable item "+n.id+" was dropped."},onDragCancel(a){let{active:n}=a;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function dE(a){let{announcements:n=cE,container:i,hiddenTextDescribedById:l,screenReaderInstructions:o=uE}=a;const{announce:u,announcement:f}=sE(),h=Js("DndLiveRegion"),[m,g]=S.useState(!1);if(S.useEffect(()=>{g(!0)},[]),lE(S.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:_}=y;n.onDragMove&&u(n.onDragMove({active:w,over:_}))},onDragOver(y){let{active:w,over:_}=y;u(n.onDragOver({active:w,over:_}))},onDragEnd(y){let{active:w,over:_}=y;u(n.onDragEnd({active:w,over:_}))},onDragCancel(y){let{active:w,over:_}=y;u(n.onDragCancel({active:w,over:_}))}}),[u,n])),!m)return null;const v=At.createElement(At.Fragment,null,At.createElement(rE,{id:l,value:o.draggable}),At.createElement(iE,{id:h,announcement:f}));return i?As.createPortal(v,i):v}var _t;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(_t||(_t={}));function qo(){}function fE(a,n){return S.useMemo(()=>({sensor:a,options:n??{}}),[a,n])}function hE(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return S.useMemo(()=>[...n].filter(l=>l!=null),[...n])}const $n=Object.freeze({x:0,y:0});function mE(a,n){return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))}function gE(a,n){let{data:{value:i}}=a,{data:{value:l}}=n;return i-l}function pE(a,n){let{data:{value:i}}=a,{data:{value:l}}=n;return l-i}function vE(a,n){if(!a||a.length===0)return null;const[i]=a;return i[n]}function uv(a,n,i){return n===void 0&&(n=a.left),i===void 0&&(i=a.top),{x:n+a.width*.5,y:i+a.height*.5}}const yE=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=a;const o=uv(n,n.left,n.top),u=[];for(const f of l){const{id:h}=f,m=i.get(h);if(m){const g=mE(uv(m),o);u.push({id:h,data:{droppableContainer:f,value:g}})}}return u.sort(gE)};function bE(a,n){const i=Math.max(n.top,a.top),l=Math.max(n.left,a.left),o=Math.min(n.left+n.width,a.left+a.width),u=Math.min(n.top+n.height,a.top+a.height),f=o-l,h=u-i;if(l<o&&i<u){const m=n.width*n.height,g=a.width*a.height,v=f*h,y=v/(m+g-v);return Number(y.toFixed(4))}return 0}const _E=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=a;const o=[];for(const u of l){const{id:f}=u,h=i.get(f);if(h){const m=bE(h,n);m>0&&o.push({id:f,data:{droppableContainer:u,value:m}})}}return o.sort(pE)};function wE(a,n,i){return{...a,scaleX:n&&i?n.width/i.width:1,scaleY:n&&i?n.height/i.height:1}}function ty(a,n){return a&&n?{x:a.left-n.left,y:a.top-n.top}:$n}function SE(a){return function(i){for(var l=arguments.length,o=new Array(l>1?l-1:0),u=1;u<l;u++)o[u-1]=arguments[u];return o.reduce((f,h)=>({...f,top:f.top+a*h.y,bottom:f.bottom+a*h.y,left:f.left+a*h.x,right:f.right+a*h.x}),{...i})}}const EE=SE(1);function xE(a){if(a.startsWith("matrix3d(")){const n=a.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(a.startsWith("matrix(")){const n=a.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function TE(a,n,i){const l=xE(n);if(!l)return a;const{scaleX:o,scaleY:u,x:f,y:h}=l,m=a.left-f-(1-o)*parseFloat(i),g=a.top-h-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),v=o?a.width/o:a.width,y=u?a.height/u:a.height;return{width:v,height:y,top:g,right:m+v,bottom:g+y,left:m}}const AE={ignoreTransform:!1};function ji(a,n){n===void 0&&(n=AE);let i=a.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:v}=tn(a).getComputedStyle(a);g&&(i=TE(i,g,v))}const{top:l,left:o,width:u,height:f,bottom:h,right:m}=i;return{top:l,left:o,width:u,height:f,bottom:h,right:m}}function cv(a){return ji(a,{ignoreTransform:!0})}function RE(a){const n=a.innerWidth,i=a.innerHeight;return{top:0,left:0,right:n,bottom:i,width:n,height:i}}function DE(a,n){return n===void 0&&(n=tn(a).getComputedStyle(a)),n.position==="fixed"}function OE(a,n){n===void 0&&(n=tn(a).getComputedStyle(a));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=n[o];return typeof u=="string"?i.test(u):!1})}function _f(a,n){const i=[];function l(o){if(n!=null&&i.length>=n||!o)return i;if(vf(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Ps(o)||Fv(o)||i.includes(o))return i;const u=tn(a).getComputedStyle(o);return o!==a&&OE(o,u)&&i.push(o),DE(o,u)?i:l(o.parentNode)}return a?l(a):i}function ny(a){const[n]=_f(a,1);return n??null}function Nd(a){return!tu||!a?null:Ci(a)?a:pf(a)?vf(a)||a===Ni(a).scrollingElement?window:Ps(a)?a:null:null}function ay(a){return Ci(a)?a.scrollX:a.scrollLeft}function ry(a){return Ci(a)?a.scrollY:a.scrollTop}function af(a){return{x:ay(a),y:ry(a)}}var Tt;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(Tt||(Tt={}));function iy(a){return!tu||!a?!1:a===document.scrollingElement}function sy(a){const n={x:0,y:0},i=iy(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},l={x:a.scrollWidth-i.width,y:a.scrollHeight-i.height},o=a.scrollTop<=n.y,u=a.scrollLeft<=n.x,f=a.scrollTop>=l.y,h=a.scrollLeft>=l.x;return{isTop:o,isLeft:u,isBottom:f,isRight:h,maxScroll:l,minScroll:n}}const CE={x:.2,y:.2};function NE(a,n,i,l,o){let{top:u,left:f,right:h,bottom:m}=i;l===void 0&&(l=10),o===void 0&&(o=CE);const{isTop:g,isBottom:v,isLeft:y,isRight:w}=sy(a),_={x:0,y:0},A={x:0,y:0},C={height:n.height*o.y,width:n.width*o.x};return!g&&u<=n.top+C.height?(_.y=Tt.Backward,A.y=l*Math.abs((n.top+C.height-u)/C.height)):!v&&m>=n.bottom-C.height&&(_.y=Tt.Forward,A.y=l*Math.abs((n.bottom-C.height-m)/C.height)),!w&&h>=n.right-C.width?(_.x=Tt.Forward,A.x=l*Math.abs((n.right-C.width-h)/C.width)):!y&&f<=n.left+C.width&&(_.x=Tt.Backward,A.x=l*Math.abs((n.left+C.width-f)/C.width)),{direction:_,speed:A}}function jE(a){if(a===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:i,right:l,bottom:o}=a.getBoundingClientRect();return{top:n,left:i,right:l,bottom:o,width:a.clientWidth,height:a.clientHeight}}function ly(a){return a.reduce((n,i)=>Ti(n,af(i)),$n)}function ME(a){return a.reduce((n,i)=>n+ay(i),0)}function kE(a){return a.reduce((n,i)=>n+ry(i),0)}function zE(a,n){if(n===void 0&&(n=ji),!a)return;const{top:i,left:l,bottom:o,right:u}=n(a);ny(a)&&(o<=0||u<=0||i>=window.innerHeight||l>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const UE=[["x",["left","right"],ME],["y",["top","bottom"],kE]];class wf{constructor(n,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=_f(i),o=ly(l);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,h]of UE)for(const m of f)Object.defineProperty(this,m,{get:()=>{const g=h(l),v=o[u]-g;return this.rect[m]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cs{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...i)})},this.target=n}add(n,i,l){var o;(o=this.target)==null||o.addEventListener(n,i,l),this.listeners.push([n,i,l])}}function LE(a){const{EventTarget:n}=tn(a);return a instanceof n?a:Ni(a)}function jd(a,n){const i=Math.abs(a.x),l=Math.abs(a.y);return typeof n=="number"?Math.sqrt(i**2+l**2)>n:"x"in n&&"y"in n?i>n.x&&l>n.y:"x"in n?i>n.x:"y"in n?l>n.y:!1}var On;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(On||(On={}));function dv(a){a.preventDefault()}function BE(a){a.stopPropagation()}var He;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(He||(He={}));const oy={start:[He.Space,He.Enter],cancel:[He.Esc],end:[He.Space,He.Enter,He.Tab]},HE=(a,n)=>{let{currentCoordinates:i}=n;switch(a.code){case He.Right:return{...i,x:i.x+25};case He.Left:return{...i,x:i.x-25};case He.Down:return{...i,y:i.y+25};case He.Up:return{...i,y:i.y-25}}};class uy{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:i}}=n;this.props=n,this.listeners=new Cs(Ni(i)),this.windowListeners=new Cs(tn(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:i}=this.props,l=n.node.current;l&&zE(l),i($n)}handleKeyDown(n){if(bf(n)){const{active:i,context:l,options:o}=this.props,{keyboardCodes:u=oy,coordinateGetter:f=HE,scrollBehavior:h="smooth"}=o,{code:m}=n;if(u.end.includes(m)){this.handleEnd(n);return}if(u.cancel.includes(m)){this.handleCancel(n);return}const{collisionRect:g}=l.current,v=g?{x:g.left,y:g.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=v);const y=f(n,{active:i,context:l.current,currentCoordinates:v});if(y){const w=Io(y,v),_={x:0,y:0},{scrollableAncestors:A}=l.current;for(const C of A){const j=n.code,{isTop:H,isRight:q,isLeft:U,isBottom:O,maxScroll:L,minScroll:G}=sy(C),V=jE(C),J={x:Math.min(j===He.Right?V.right-V.width/2:V.right,Math.max(j===He.Right?V.left:V.left+V.width/2,y.x)),y:Math.min(j===He.Down?V.bottom-V.height/2:V.bottom,Math.max(j===He.Down?V.top:V.top+V.height/2,y.y))},F=j===He.Right&&!q||j===He.Left&&!U,de=j===He.Down&&!O||j===He.Up&&!H;if(F&&J.x!==y.x){const ue=C.scrollLeft+w.x,pe=j===He.Right&&ue<=L.x||j===He.Left&&ue>=G.x;if(pe&&!w.y){C.scrollTo({left:ue,behavior:h});return}pe?_.x=C.scrollLeft-ue:_.x=j===He.Right?C.scrollLeft-L.x:C.scrollLeft-G.x,_.x&&C.scrollBy({left:-_.x,behavior:h});break}else if(de&&J.y!==y.y){const ue=C.scrollTop+w.y,pe=j===He.Down&&ue<=L.y||j===He.Up&&ue>=G.y;if(pe&&!w.x){C.scrollTo({top:ue,behavior:h});return}pe?_.y=C.scrollTop-ue:_.y=j===He.Down?C.scrollTop-L.y:C.scrollTop-G.y,_.y&&C.scrollBy({top:-_.y,behavior:h});break}}this.handleMove(n,Ti(Io(y,this.referenceCoordinates),_))}}}handleMove(n,i){const{onMove:l}=this.props;n.preventDefault(),l(i)}handleEnd(n){const{onEnd:i}=this.props;n.preventDefault(),this.detach(),i()}handleCancel(n){const{onCancel:i}=this.props;n.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uy.activators=[{eventName:"onKeyDown",handler:(a,n,i)=>{let{keyboardCodes:l=oy,onActivation:o}=n,{active:u}=i;const{code:f}=a.nativeEvent;if(l.start.includes(f)){const h=u.activatorNode.current;return h&&a.target!==h?!1:(a.preventDefault(),o?.({event:a.nativeEvent}),!0)}return!1}}];function fv(a){return!!(a&&"distance"in a)}function hv(a){return!!(a&&"delay"in a)}class Sf{constructor(n,i,l){var o;l===void 0&&(l=LE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=i;const{event:u}=n,{target:f}=u;this.props=n,this.events=i,this.document=Ni(f),this.documentListeners=new Cs(this.document),this.listeners=new Cs(l),this.windowListeners=new Cs(tn(f)),this.initialCoordinates=(o=nf(u))!=null?o:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:i,bypassActivationConstraint:l}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,dv),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,dv),this.documentListeners.add(On.Keydown,this.handleKeydown),i){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hv(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(fv(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,i){const{active:l,onPending:o}=this.props;o(l,n,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:n}=this,{onStart:i}=this.props;n&&(this.activated=!0,this.documentListeners.add(On.Click,BE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),i(n))}handleMove(n){var i;const{activated:l,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:h}}=u;if(!o)return;const m=(i=nf(n))!=null?i:$n,g=Io(o,m);if(!l&&h){if(fv(h)){if(h.tolerance!=null&&jd(g,h.tolerance))return this.handleCancel();if(jd(g,h.distance))return this.handleStart()}if(hv(h)&&jd(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}n.cancelable&&n.preventDefault(),f(m)}handleEnd(){const{onAbort:n,onEnd:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleCancel(){const{onAbort:n,onCancel:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleKeydown(n){n.code===He.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const IE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ef extends Sf{constructor(n){const{event:i}=n,l=Ni(i.target);super(n,IE,l)}}Ef.activators=[{eventName:"onPointerDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;return!i.isPrimary||i.button!==0?!1:(l?.({event:i}),!0)}}];const qE={move:{name:"mousemove"},end:{name:"mouseup"}};var rf;(function(a){a[a.RightClick=2]="RightClick"})(rf||(rf={}));class $E extends Sf{constructor(n){super(n,qE,Ni(n.event.target))}}$E.activators=[{eventName:"onMouseDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;return i.button===rf.RightClick?!1:(l?.({event:i}),!0)}}];const Md={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GE extends Sf{constructor(n){super(n,Md)}static setup(){return window.addEventListener(Md.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Md.move.name,n)};function n(){}}}GE.activators=[{eventName:"onTouchStart",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;const{touches:o}=i;return o.length>1?!1:(l?.({event:i}),!0)}}];var Ns;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(Ns||(Ns={}));var $o;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})($o||($o={}));function YE(a){let{acceleration:n,activator:i=Ns.Pointer,canScroll:l,draggingRect:o,enabled:u,interval:f=5,order:h=$o.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:v,delta:y,threshold:w}=a;const _=KE({delta:y,disabled:!u}),[A,C]=WS(),j=S.useRef({x:0,y:0}),H=S.useRef({x:0,y:0}),q=S.useMemo(()=>{switch(i){case Ns.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Ns.DraggableRect:return o}},[i,o,m]),U=S.useRef(null),O=S.useCallback(()=>{const G=U.current;if(!G)return;const V=j.current.x*H.current.x,J=j.current.y*H.current.y;G.scrollBy(V,J)},[]),L=S.useMemo(()=>h===$o.TreeOrder?[...g].reverse():g,[h,g]);S.useEffect(()=>{if(!u||!g.length||!q){C();return}for(const G of L){if(l?.(G)===!1)continue;const V=g.indexOf(G),J=v[V];if(!J)continue;const{direction:F,speed:de}=NE(G,J,q,n,w);for(const ue of["x","y"])_[ue][F[ue]]||(de[ue]=0,F[ue]=0);if(de.x>0||de.y>0){C(),U.current=G,A(O,f),j.current=de,H.current=F;return}}j.current={x:0,y:0},H.current={x:0,y:0},C()},[n,O,l,C,u,f,JSON.stringify(q),JSON.stringify(_),A,g,L,v,JSON.stringify(w)])}const VE={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function KE(a){let{delta:n,disabled:i}=a;const l=tf(n);return Qs(o=>{if(i||!l||!o)return VE;const u={x:Math.sign(n.x-l.x),y:Math.sign(n.y-l.y)};return{x:{[Tt.Backward]:o.x[Tt.Backward]||u.x===-1,[Tt.Forward]:o.x[Tt.Forward]||u.x===1},y:{[Tt.Backward]:o.y[Tt.Backward]||u.y===-1,[Tt.Forward]:o.y[Tt.Forward]||u.y===1}}},[i,n,l])}function XE(a,n){const i=n!=null?a.get(n):void 0,l=i?i.node.current:null;return Qs(o=>{var u;return n==null?null:(u=l??o)!=null?u:null},[l,n])}function PE(a,n){return S.useMemo(()=>a.reduce((i,l)=>{const{sensor:o}=l,u=o.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,l)}));return[...i,...u]},[]),[a,n])}var Vs;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Vs||(Vs={}));var sf;(function(a){a.Optimized="optimized"})(sf||(sf={}));const mv=new Map;function QE(a,n){let{dragging:i,dependencies:l,config:o}=n;const[u,f]=S.useState(null),{frequency:h,measure:m,strategy:g}=o,v=S.useRef(a),y=j(),w=Gs(y),_=S.useCallback(function(H){H===void 0&&(H=[]),!w.current&&f(q=>q===null?H:q.concat(H.filter(U=>!q.includes(U))))},[w]),A=S.useRef(null),C=Qs(H=>{if(y&&!i)return mv;if(!H||H===mv||v.current!==a||u!=null){const q=new Map;for(let U of a){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){q.set(U.id,U.rect.current);continue}const O=U.node.current,L=O?new wf(m(O),O):null;U.rect.current=L,L&&q.set(U.id,L)}return q}return H},[a,u,i,y,m]);return S.useEffect(()=>{v.current=a},[a]),S.useEffect(()=>{y||_()},[i,y]),S.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),S.useEffect(()=>{y||typeof h!="number"||A.current!==null||(A.current=setTimeout(()=>{_(),A.current=null},h))},[h,y,_,...l]),{droppableRects:C,measureDroppableContainers:_,measuringScheduled:u!=null};function j(){switch(g){case Vs.Always:return!1;case Vs.BeforeDragging:return i;default:return!i}}}function cy(a,n){return Qs(i=>a?i||(typeof n=="function"?n(a):a):null,[n,a])}function JE(a,n){return cy(a,n)}function ZE(a){let{callback:n,disabled:i}=a;const l=yf(n),o=S.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(l)},[l,i]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function nu(a){let{callback:n,disabled:i}=a;const l=yf(n),o=S.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(l)},[i]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function FE(a){return new wf(ji(a),a)}function gv(a,n,i){n===void 0&&(n=FE);const[l,o]=S.useState(null);function u(){o(m=>{if(!a)return null;if(a.isConnected===!1){var g;return(g=m??i)!=null?g:null}const v=n(a);return JSON.stringify(m)===JSON.stringify(v)?m:v})}const f=ZE({callback(m){if(a)for(const g of m){const{type:v,target:y}=g;if(v==="childList"&&y instanceof HTMLElement&&y.contains(a)){u();break}}}}),h=nu({callback:u});return Pn(()=>{u(),a?(h?.observe(a),f?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),f?.disconnect())},[a]),l}function WE(a){const n=cy(a);return ty(a,n)}const pv=[];function ex(a){const n=S.useRef(a),i=Qs(l=>a?l&&l!==pv&&a&&n.current&&a.parentNode===n.current.parentNode?l:_f(a):pv,[a]);return S.useEffect(()=>{n.current=a},[a]),i}function tx(a){const[n,i]=S.useState(null),l=S.useRef(a),o=S.useCallback(u=>{const f=Nd(u.target);f&&i(h=>h?(h.set(f,af(f)),new Map(h)):null)},[]);return S.useEffect(()=>{const u=l.current;if(a!==u){f(u);const h=a.map(m=>{const g=Nd(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,af(g)]):null}).filter(m=>m!=null);i(h.length?new Map(h):null),l.current=a}return()=>{f(a),f(u)};function f(h){h.forEach(m=>{const g=Nd(m);g?.removeEventListener("scroll",o)})}},[o,a]),S.useMemo(()=>a.length?n?Array.from(n.values()).reduce((u,f)=>Ti(u,f),$n):ly(a):$n,[a,n])}function vv(a,n){n===void 0&&(n=[]);const i=S.useRef(null);return S.useEffect(()=>{i.current=null},n),S.useEffect(()=>{const l=a!==$n;l&&!i.current&&(i.current=a),!l&&i.current&&(i.current=null)},[a]),i.current?Io(a,i.current):$n}function nx(a){S.useEffect(()=>{if(!tu)return;const n=a.map(i=>{let{sensor:l}=i;return l.setup==null?void 0:l.setup()});return()=>{for(const i of n)i?.()}},a.map(n=>{let{sensor:i}=n;return i}))}function ax(a,n){return S.useMemo(()=>a.reduce((i,l)=>{let{eventName:o,handler:u}=l;return i[o]=f=>{u(f,n)},i},{}),[a,n])}function dy(a){return S.useMemo(()=>a?RE(a):null,[a])}const yv=[];function rx(a,n){n===void 0&&(n=ji);const[i]=a,l=dy(i?tn(i):null),[o,u]=S.useState(yv);function f(){u(()=>a.length?a.map(m=>iy(m)?l:new wf(n(m),m)):yv)}const h=nu({callback:f});return Pn(()=>{h?.disconnect(),f(),a.forEach(m=>h?.observe(m))},[a]),o}function ix(a){if(!a)return null;if(a.children.length>1)return a;const n=a.children[0];return Ps(n)?n:a}function sx(a){let{measure:n}=a;const[i,l]=S.useState(null),o=S.useCallback(g=>{for(const{target:v}of g)if(Ps(v)){l(y=>{const w=n(v);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=nu({callback:o}),f=S.useCallback(g=>{const v=ix(g);u?.disconnect(),v&&u?.observe(v),l(v?n(v):null)},[n,u]),[h,m]=Ho(f);return S.useMemo(()=>({nodeRef:h,rect:i,setRef:m}),[i,h,m])}const lx=[{sensor:Ef,options:{}},{sensor:uy,options:{}}],ox={current:{}},To={draggable:{measure:cv},droppable:{measure:cv,strategy:Vs.WhileDragging,frequency:sf.Optimized},dragOverlay:{measure:ji}};class js extends Map{get(n){var i;return n!=null&&(i=super.get(n))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:i}=n;return!i})}getNodeFor(n){var i,l;return(i=(l=this.get(n))==null?void 0:l.node.current)!=null?i:void 0}}const ux={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new js,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:To,measureDroppableContainers:qo,windowRect:null,measuringScheduled:!1},cx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qo,draggableNodes:new Map,over:null,measureDroppableContainers:qo},au=S.createContext(cx),fy=S.createContext(ux);function dx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new js}}}function fx(a,n){switch(n.type){case _t.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case _t.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:n.coordinates.x-a.draggable.initialCoordinates.x,y:n.coordinates.y-a.draggable.initialCoordinates.y}}};case _t.DragEnd:case _t.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _t.RegisterDroppable:{const{element:i}=n,{id:l}=i,o=new js(a.droppable.containers);return o.set(l,i),{...a,droppable:{...a.droppable,containers:o}}}case _t.SetDroppableDisabled:{const{id:i,key:l,disabled:o}=n,u=a.droppable.containers.get(i);if(!u||l!==u.key)return a;const f=new js(a.droppable.containers);return f.set(i,{...u,disabled:o}),{...a,droppable:{...a.droppable,containers:f}}}case _t.UnregisterDroppable:{const{id:i,key:l}=n,o=a.droppable.containers.get(i);if(!o||l!==o.key)return a;const u=new js(a.droppable.containers);return u.delete(i),{...a,droppable:{...a.droppable,containers:u}}}default:return a}}function hx(a){let{disabled:n}=a;const{active:i,activatorEvent:l,draggableNodes:o}=S.useContext(au),u=tf(l),f=tf(i?.id);return S.useEffect(()=>{if(!n&&!l&&u&&f!=null){if(!bf(u)||document.activeElement===u.target)return;const h=o.get(f);if(!h)return;const{activatorNode:m,node:g}=h;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const v of[m.current,g.current]){if(!v)continue;const y=nE(v);if(y){y.focus();break}}})}},[l,n,o,f,u]),null}function mx(a,n){let{transform:i,...l}=n;return a!=null&&a.length?a.reduce((o,u)=>u({transform:o,...l}),i):i}function gx(a){return S.useMemo(()=>({draggable:{...To.draggable,...a?.draggable},droppable:{...To.droppable,...a?.droppable},dragOverlay:{...To.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function px(a){let{activeNode:n,measure:i,initialRect:l,config:o=!0}=a;const u=S.useRef(!1),{x:f,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Pn(()=>{if(!f&&!h||!n){u.current=!1;return}if(u.current||!l)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const v=i(g),y=ty(v,l);if(f||(y.x=0),h||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=ny(g);w&&w.scrollBy({top:y.y,left:y.x})}},[n,f,h,l,i])}const hy=S.createContext({...$n,scaleX:1,scaleY:1});var Va;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Va||(Va={}));const vx=S.memo(function(n){var i,l,o,u;let{id:f,accessibility:h,autoScroll:m=!0,children:g,sensors:v=lx,collisionDetection:y=_E,measuring:w,modifiers:_,...A}=n;const C=S.useReducer(fx,void 0,dx),[j,H]=C,[q,U]=oE(),[O,L]=S.useState(Va.Uninitialized),G=O===Va.Initialized,{draggable:{active:V,nodes:J,translate:F},droppable:{containers:de}}=j,ue=V!=null?J.get(V):null,pe=S.useRef({initial:null,translated:null}),we=S.useMemo(()=>{var st;return V!=null?{id:V,data:(st=ue?.data)!=null?st:ox,rect:pe}:null},[V,ue]),Se=S.useRef(null),[xe,E]=S.useState(null),[X,W]=S.useState(null),ce=Gs(A,Object.values(A)),ve=Js("DndDescribedBy",f),R=S.useMemo(()=>de.getEnabled(),[de]),I=gx(w),{droppableRects:P,measureDroppableContainers:Z,measuringScheduled:se}=QE(R,{dragging:G,dependencies:[F.x,F.y],config:I.droppable}),ie=XE(J,V),be=S.useMemo(()=>X?nf(X):null,[X]),Le=Ar(),Q=JE(ie,I.draggable.measure);px({activeNode:V!=null?J.get(V):null,config:Le.layoutShiftCompensation,initialRect:Q,measure:I.draggable.measure});const fe=gv(ie,I.draggable.measure,Q),Ve=gv(ie?ie.parentElement:null),je=S.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:J,draggingNode:null,draggingNodeRect:null,droppableContainers:de,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=de.getNodeFor((i=je.current.over)==null?void 0:i.id),Ce=sx({measure:I.dragOverlay.measure}),ee=(l=Ce.nodeRef.current)!=null?l:ie,Me=G?(o=Ce.rect)!=null?o:fe:null,Pe=!!(Ce.nodeRef.current&&Ce.rect),Ne=WE(Pe?null:fe),it=dy(ee?tn(ee):null),Ze=ex(G?rt??ie:null),et=rx(Ze),It=mx(_,{transform:{x:F.x-Ne.x,y:F.y-Ne.y,scaleX:1,scaleY:1},activatorEvent:X,active:we,activeNodeRect:fe,containerNodeRect:Ve,draggingNodeRect:Me,over:je.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:Ze,scrollableAncestorRects:et,windowRect:it}),mn=be?Ti(be,F):null,ke=tx(Ze),qt=vv(ke),wt=vv(ke,[fe]),Dt=Ti(It,qt),Lt=Me?EE(Me,It):null,Gn=we&&Lt?y({active:we,collisionRect:Lt,droppableRects:P,droppableContainers:R,pointerCoordinates:mn}):null,Qa=vE(Gn,"id"),[gn,Ja]=S.useState(null),Qn=Pe?It:Ti(It,wt),Ot=wE(Qn,(u=gn?.rect)!=null?u:null,fe),$t=S.useRef(null),pt=S.useCallback((st,lt)=>{let{sensor:St,options:Vt}=lt;if(Se.current==null)return;const Kt=J.get(Se.current);if(!Kt)return;const Bt=st.nativeEvent,Xt=new St({active:Se.current,activeNode:Kt,event:Bt,options:Vt,context:je,onAbort(vt){if(!J.get(vt))return;const{onDragAbort:nn}=ce.current,vn={id:vt};nn?.(vn),q({type:"onDragAbort",event:vn})},onPending(vt,Nn,nn,vn){if(!J.get(vt))return;const{onDragPending:Zn}=ce.current,jn={id:vt,constraint:Nn,initialCoordinates:nn,offset:vn};Zn?.(jn),q({type:"onDragPending",event:jn})},onStart(vt){const Nn=Se.current;if(Nn==null)return;const nn=J.get(Nn);if(!nn)return;const{onDragStart:vn}=ce.current,Jn={activatorEvent:Bt,active:{id:Nn,data:nn.data,rect:pe}};As.unstable_batchedUpdates(()=>{vn?.(Jn),L(Va.Initializing),H({type:_t.DragStart,initialCoordinates:vt,active:Nn}),q({type:"onDragStart",event:Jn}),E($t.current),W(Bt)})},onMove(vt){H({type:_t.DragMove,coordinates:vt})},onEnd:pn(_t.DragEnd),onCancel:pn(_t.DragCancel)});$t.current=Xt;function pn(vt){return async function(){const{active:nn,collisions:vn,over:Jn,scrollAdjustedTranslate:Zn}=je.current;let jn=null;if(nn&&Zn){const{cancelDrop:_a}=ce.current;jn={activatorEvent:Bt,active:nn,collisions:vn,delta:Zn,over:Jn},vt===_t.DragEnd&&typeof _a=="function"&&await Promise.resolve(_a(jn))&&(vt=_t.DragCancel)}Se.current=null,As.unstable_batchedUpdates(()=>{H({type:vt}),L(Va.Uninitialized),Ja(null),E(null),W(null),$t.current=null;const _a=vt===_t.DragEnd?"onDragEnd":"onDragCancel";if(jn){const yn=ce.current[_a];yn?.(jn),q({type:_a,event:jn})}})}}},[J]),ru=S.useCallback((st,lt)=>(St,Vt)=>{const Kt=St.nativeEvent,Bt=J.get(Vt);if(Se.current!==null||!Bt||Kt.dndKit||Kt.defaultPrevented)return;const Xt={active:Bt};st(St,lt.options,Xt)===!0&&(Kt.dndKit={capturedBy:lt.sensor},Se.current=Vt,pt(St,lt))},[J,pt]),Zs=PE(v,ru);nx(v),Pn(()=>{fe&&O===Va.Initializing&&L(Va.Initialized)},[fe,O]),S.useEffect(()=>{const{onDragMove:st}=ce.current,{active:lt,activatorEvent:St,collisions:Vt,over:Kt}=je.current;if(!lt||!St)return;const Bt={active:lt,activatorEvent:St,collisions:Vt,delta:{x:Dt.x,y:Dt.y},over:Kt};As.unstable_batchedUpdates(()=>{st?.(Bt),q({type:"onDragMove",event:Bt})})},[Dt.x,Dt.y]),S.useEffect(()=>{const{active:st,activatorEvent:lt,collisions:St,droppableContainers:Vt,scrollAdjustedTranslate:Kt}=je.current;if(!st||Se.current==null||!lt||!Kt)return;const{onDragOver:Bt}=ce.current,Xt=Vt.get(Qa),pn=Xt&&Xt.rect.current?{id:Xt.id,rect:Xt.rect.current,data:Xt.data,disabled:Xt.disabled}:null,vt={active:st,activatorEvent:lt,collisions:St,delta:{x:Kt.x,y:Kt.y},over:pn};As.unstable_batchedUpdates(()=>{Ja(pn),Bt?.(vt),q({type:"onDragOver",event:vt})})},[Qa]),Pn(()=>{je.current={activatorEvent:X,active:we,activeNode:ie,collisionRect:Lt,collisions:Gn,droppableRects:P,draggableNodes:J,draggingNode:ee,draggingNodeRect:Me,droppableContainers:de,over:gn,scrollableAncestors:Ze,scrollAdjustedTranslate:Dt},pe.current={initial:Me,translated:Lt}},[we,ie,Gn,Lt,J,ee,Me,P,de,gn,Ze,Dt]),YE({...Le,delta:F,draggingRect:Lt,pointerCoordinates:mn,scrollableAncestors:Ze,scrollableAncestorRects:et});const iu=S.useMemo(()=>({active:we,activeNode:ie,activeNodeRect:fe,activatorEvent:X,collisions:Gn,containerNodeRect:Ve,dragOverlay:Ce,draggableNodes:J,droppableContainers:de,droppableRects:P,over:gn,measureDroppableContainers:Z,scrollableAncestors:Ze,scrollableAncestorRects:et,measuringConfiguration:I,measuringScheduled:se,windowRect:it}),[we,ie,fe,X,Gn,Ve,Ce,J,de,P,gn,Z,Ze,et,I,se,it]),Tr=S.useMemo(()=>({activatorEvent:X,activators:Zs,active:we,activeNodeRect:fe,ariaDescribedById:{draggable:ve},dispatch:H,draggableNodes:J,over:gn,measureDroppableContainers:Z}),[X,Zs,we,fe,H,ve,J,gn,Z]);return At.createElement(ey.Provider,{value:U},At.createElement(au.Provider,{value:Tr},At.createElement(fy.Provider,{value:iu},At.createElement(hy.Provider,{value:Ot},g)),At.createElement(hx,{disabled:h?.restoreFocus===!1})),At.createElement(dE,{...h,hiddenTextDescribedById:ve}));function Ar(){const st=xe?.autoScrollEnabled===!1,lt=typeof m=="object"?m.enabled===!1:m===!1,St=G&&!st&&!lt;return typeof m=="object"?{...m,enabled:St}:{enabled:St}}}),yx=S.createContext(null),bv="button",bx="Draggable";function _x(a){let{id:n,data:i,disabled:l=!1,attributes:o}=a;const u=Js(bx),{activators:f,activatorEvent:h,active:m,activeNodeRect:g,ariaDescribedById:v,draggableNodes:y,over:w}=S.useContext(au),{role:_=bv,roleDescription:A="draggable",tabIndex:C=0}=o??{},j=m?.id===n,H=S.useContext(j?hy:yx),[q,U]=Ho(),[O,L]=Ho(),G=ax(f,n),V=Gs(i);Pn(()=>(y.set(n,{id:n,key:u,node:q,activatorNode:O,data:V}),()=>{const F=y.get(n);F&&F.key===u&&y.delete(n)}),[y,n]);const J=S.useMemo(()=>({role:_,tabIndex:C,"aria-disabled":l,"aria-pressed":j&&_===bv?!0:void 0,"aria-roledescription":A,"aria-describedby":v.draggable}),[l,_,C,j,A,v.draggable]);return{active:m,activatorEvent:h,activeNodeRect:g,attributes:J,isDragging:j,listeners:l?void 0:G,node:q,over:w,setNodeRef:U,setActivatorNodeRef:L,transform:H}}function wx(){return S.useContext(fy)}const Sx="Droppable",Ex={timeout:25};function xx(a){let{data:n,disabled:i=!1,id:l,resizeObserverConfig:o}=a;const u=Js(Sx),{active:f,dispatch:h,over:m,measureDroppableContainers:g}=S.useContext(au),v=S.useRef({disabled:i}),y=S.useRef(!1),w=S.useRef(null),_=S.useRef(null),{disabled:A,updateMeasurementsFor:C,timeout:j}={...Ex,...o},H=Gs(C??l),q=S.useCallback(()=>{if(!y.current){y.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{g(Array.isArray(H.current)?H.current:[H.current]),_.current=null},j)},[j]),U=nu({callback:q,disabled:A||!f}),O=S.useCallback((J,F)=>{U&&(F&&(U.unobserve(F),y.current=!1),J&&U.observe(J))},[U]),[L,G]=Ho(O),V=Gs(n);return S.useEffect(()=>{!U||!L.current||(U.disconnect(),y.current=!1,U.observe(L.current))},[L,U]),S.useEffect(()=>(h({type:_t.RegisterDroppable,element:{id:l,key:u,disabled:i,node:L,rect:w,data:V}}),()=>h({type:_t.UnregisterDroppable,key:u,id:l})),[l]),S.useEffect(()=>{i!==v.current.disabled&&(h({type:_t.SetDroppableDisabled,id:l,key:u,disabled:i}),v.current.disabled=i)},[l,u,i,h]),{active:f,rect:w,isOver:m?.id===l,node:L,over:m,setNodeRef:G}}function my(a,n,i){const l=a.slice();return l.splice(i<0?l.length+i:i,0,l.splice(n,1)[0]),l}function Tx(a,n){return a.reduce((i,l,o)=>{const u=n.get(l);return u&&(i[o]=u),i},Array(a.length))}function wo(a){return a!==null&&a>=0}function Ax(a,n){if(a===n)return!0;if(a.length!==n.length)return!1;for(let i=0;i<a.length;i++)if(a[i]!==n[i])return!1;return!0}function Rx(a){return typeof a=="boolean"?{draggable:a,droppable:a}:a}const gy=a=>{let{rects:n,activeIndex:i,overIndex:l,index:o}=a;const u=my(n,l,i),f=n[o],h=u[o];return!h||!f?null:{x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height}},So={scaleX:1,scaleY:1},Dx=a=>{var n;let{activeIndex:i,activeNodeRect:l,index:o,rects:u,overIndex:f}=a;const h=(n=u[i])!=null?n:l;if(!h)return null;if(o===i){const g=u[f];return g?{x:0,y:i<f?g.top+g.height-(h.top+h.height):g.top-h.top,...So}:null}const m=Ox(u,o,i);return o>i&&o<=f?{x:0,y:-h.height-m,...So}:o<i&&o>=f?{x:0,y:h.height+m,...So}:{x:0,y:0,...So}};function Ox(a,n,i){const l=a[n],o=a[n-1],u=a[n+1];return l?i<n?o?l.top-(o.top+o.height):u?u.top-(l.top+l.height):0:u?u.top-(l.top+l.height):o?l.top-(o.top+o.height):0:0}const py="Sortable",vy=At.createContext({activeIndex:-1,containerId:py,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gy,disabled:{draggable:!1,droppable:!1}});function Cx(a){let{children:n,id:i,items:l,strategy:o=gy,disabled:u=!1}=a;const{active:f,dragOverlay:h,droppableRects:m,over:g,measureDroppableContainers:v}=wx(),y=Js(py,i),w=h.rect!==null,_=S.useMemo(()=>l.map(G=>typeof G=="object"&&"id"in G?G.id:G),[l]),A=f!=null,C=f?_.indexOf(f.id):-1,j=g?_.indexOf(g.id):-1,H=S.useRef(_),q=!Ax(_,H.current),U=j!==-1&&C===-1||q,O=Rx(u);Pn(()=>{q&&A&&v(_)},[q,_,A,v]),S.useEffect(()=>{H.current=_},[_]);const L=S.useMemo(()=>({activeIndex:C,containerId:y,disabled:O,disableTransforms:U,items:_,overIndex:j,useDragOverlay:w,sortedRects:Tx(_,m),strategy:o}),[C,y,O.draggable,O.droppable,U,_,j,m,w,o]);return At.createElement(vy.Provider,{value:L},n)}const Nx=a=>{let{id:n,items:i,activeIndex:l,overIndex:o}=a;return my(i,l,o).indexOf(n)},jx=a=>{let{containerId:n,isSorting:i,wasDragging:l,index:o,items:u,newIndex:f,previousItems:h,previousContainerId:m,transition:g}=a;return!g||!l||h!==u&&o===f?!1:i?!0:f!==o&&n===m},Mx={duration:200,easing:"ease"},yy="transform",kx=Ys.Transition.toString({property:yy,duration:0,easing:"linear"}),zx={roleDescription:"sortable"};function Ux(a){let{disabled:n,index:i,node:l,rect:o}=a;const[u,f]=S.useState(null),h=S.useRef(i);return Pn(()=>{if(!n&&i!==h.current&&l.current){const m=o.current;if(m){const g=ji(l.current,{ignoreTransform:!0}),v={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(v.x||v.y)&&f(v)}}i!==h.current&&(h.current=i)},[n,i,l,o]),S.useEffect(()=>{u&&f(null)},[u]),u}function Lx(a){let{animateLayoutChanges:n=jx,attributes:i,disabled:l,data:o,getNewIndex:u=Nx,id:f,strategy:h,resizeObserverConfig:m,transition:g=Mx}=a;const{items:v,containerId:y,activeIndex:w,disabled:_,disableTransforms:A,sortedRects:C,overIndex:j,useDragOverlay:H,strategy:q}=S.useContext(vy),U=Bx(l,_),O=v.indexOf(f),L=S.useMemo(()=>({sortable:{containerId:y,index:O,items:v},...o}),[y,o,O,v]),G=S.useMemo(()=>v.slice(v.indexOf(f)),[v,f]),{rect:V,node:J,isOver:F,setNodeRef:de}=xx({id:f,data:L,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...m}}),{active:ue,activatorEvent:pe,activeNodeRect:we,attributes:Se,setNodeRef:xe,listeners:E,isDragging:X,over:W,setActivatorNodeRef:ce,transform:ve}=_x({id:f,data:L,attributes:{...zx,...i},disabled:U.draggable}),R=FS(de,xe),I=!!ue,P=I&&!A&&wo(w)&&wo(j),Z=!H&&X,se=Z&&P?ve:null,be=P?se??(h??q)({rects:C,activeNodeRect:we,activeIndex:w,overIndex:j,index:O}):null,Le=wo(w)&&wo(j)?u({id:f,items:v,activeIndex:w,overIndex:j}):O,Q=ue?.id,fe=S.useRef({activeId:Q,items:v,newIndex:Le,containerId:y}),Ve=v!==fe.current.items,je=n({active:ue,containerId:y,isDragging:X,isSorting:I,id:f,index:O,items:v,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:g,wasDragging:fe.current.activeId!=null}),rt=Ux({disabled:!je,index:O,node:J,rect:V});return S.useEffect(()=>{I&&fe.current.newIndex!==Le&&(fe.current.newIndex=Le),y!==fe.current.containerId&&(fe.current.containerId=y),v!==fe.current.items&&(fe.current.items=v)},[I,Le,y,v]),S.useEffect(()=>{if(Q===fe.current.activeId)return;if(Q!=null&&fe.current.activeId==null){fe.current.activeId=Q;return}const ee=setTimeout(()=>{fe.current.activeId=Q},50);return()=>clearTimeout(ee)},[Q]),{active:ue,activeIndex:w,attributes:Se,data:L,rect:V,index:O,newIndex:Le,items:v,isOver:F,isSorting:I,isDragging:X,listeners:E,node:J,overIndex:j,over:W,setNodeRef:R,setActivatorNodeRef:ce,setDroppableNodeRef:de,setDraggableNodeRef:xe,transform:rt??be,transition:Ce()};function Ce(){if(rt||Ve&&fe.current.newIndex===O)return kx;if(!(Z&&!bf(pe)||!g)&&(I||je))return Ys.Transition.toString({...g,property:yy})}}function Bx(a,n){var i,l;return typeof a=="boolean"?{draggable:a,droppable:!1}:{draggable:(i=a?.draggable)!=null?i:n.draggable,droppable:(l=a?.droppable)!=null?l:n.droppable}}He.Down,He.Right,He.Up,He.Left;const Hx=a=>{let{transform:n}=a;return{...n,x:0}};function Ix({value:a,onChange:n}){return x.jsx("div",{className:"flex gap-1 flex-wrap",children:Rs.map(i=>x.jsx("button",{className:"w-6 h-6 rounded border-2 cursor-pointer p-0",style:{backgroundColor:i,borderColor:a===i?"#1a1a2e":"transparent"},onClick:()=>n(i),title:i},i))})}function qx(){const a=re(E=>E.roadmap.streams),n=re(E=>E.addStream),i=re(E=>E.reorderStreams),l=re(E=>E.removeStream),o=re(E=>E.addItem),u=re(E=>E.addSubItem),f=re(E=>E.toggleStreamCollapse),h=re(E=>E.toggleItemExpanded),m=re(E=>E.toggleSubItemPhasesExpanded),g=oe(E=>E.selectItem),v=oe(E=>E.openEditPanel),y=oe(E=>E.selectedItemId),w=oe(E=>E.showLeadColumn),_=oe(E=>E.showSupportColumn),A=oe(E=>E.showPhaseColumn),C=oe(E=>E.toggleLeadColumn),j=oe(E=>E.toggleSupportColumn),H=oe(E=>E.togglePhaseColumn),[q,U]=S.useState(!1),[O,L]=S.useState(""),[G,V]=S.useState(Rs[0]),J=hE(fE(Ef,{activationConstraint:{distance:5}})),F=E=>{const{active:X,over:W}=E;W&&X.id!==W.id&&i(X.id,W.id)},de=()=>{O.trim()&&(n(O.trim(),G),L(""),V(Rs[(a.length+1)%Rs.length]),U(!1))},ue=E=>{E.key==="Enter"&&de(),E.key==="Escape"&&U(!1)},pe=(E,X)=>{g(E,X),v()},we=160,Se=we+(w?Cn:0)+(_?Cn:0)+(A?Cn:0),xe=a.map(E=>E.id);return x.jsxs("div",{className:"bg-white border-r border-gray-200 flex-shrink-0 overflow-x-hidden",style:{width:Se+20},children:[x.jsxs("div",{className:"border-b border-gray-200 flex items-end px-2 pb-1 gap-0",style:{height:Yd},children:[x.jsx("div",{className:"text-xs text-gray-400 font-medium",style:{width:we},children:"STREAMS"}),x.jsx(kd,{label:"Lead",active:w,onClick:C}),x.jsx(kd,{label:"Support",active:_,onClick:j}),x.jsx(kd,{label:"Phase",active:A,onClick:H})]}),(w||_||A)&&x.jsxs("div",{className:"flex items-center border-b border-gray-200 bg-gray-50 px-2",style:{height:24},children:[x.jsx("div",{style:{width:we}}),w&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Cn},children:"Lead"}),_&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Cn},children:"Support"}),A&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Cn},children:"Phase"})]}),x.jsx(vx,{sensors:J,collisionDetection:yE,modifiers:[Hx],onDragEnd:F,children:x.jsx(Cx,{items:xe,strategy:Dx,children:x.jsx("div",{children:a.map(E=>x.jsx($x,{stream:E,nameColumnWidth:we,selectedItemId:y,showLead:w,showSupport:_,showPhase:A,onToggleCollapse:f,onRemoveStream:l,onAddItem:o,onAddSubItem:u,onToggleItemExpanded:h,onToggleSubItemPhasesExpanded:m,onSelectItem:g,onDoubleClickItem:pe},E.id))})})}),q?x.jsxs("div",{className:"p-2 border-t border-gray-200",children:[x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1 mb-2 outline-none focus:border-blue-400",placeholder:"Stream name...",value:O,onChange:E=>L(E.target.value),onKeyDown:ue,autoFocus:!0}),x.jsx(Ix,{value:G,onChange:V}),x.jsxs("div",{className:"flex gap-1 mt-2",children:[x.jsx("button",{onClick:de,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded border-none cursor-pointer hover:bg-blue-600",children:"Add"}),x.jsx("button",{onClick:()=>U(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded border-none cursor-pointer hover:bg-gray-200",children:"Cancel"})]})]}):x.jsx("div",{className:"flex items-center px-3 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-t border-gray-200",style:{height:wr},onClick:()=>U(!0),children:"+ Add Stream"})]})}function $x({stream:a,nameColumnWidth:n,selectedItemId:i,showLead:l,showSupport:o,showPhase:u,onToggleCollapse:f,onRemoveStream:h,onAddItem:m,onAddSubItem:g,onToggleItemExpanded:v,onToggleSubItemPhasesExpanded:y,onSelectItem:w,onDoubleClickItem:_}){const{attributes:A,listeners:C,setNodeRef:j,transform:H,transition:q,isDragging:U}=Lx({id:a.id}),O={transform:Ys.Transform.toString(H),transition:q,opacity:U?.5:1,zIndex:U?50:void 0,position:"relative"};return x.jsxs("div",{ref:j,style:O,children:[x.jsxs("div",{className:"flex items-center gap-1 px-1 border-b border-gray-100 hover:bg-gray-50 group",style:{height:wr},children:[x.jsx("span",{className:"text-gray-300 hover:text-gray-500 cursor-grab active:cursor-grabbing flex-shrink-0 px-0.5 text-xs select-none",...A,...C,title:"Drag to reorder",children:""}),x.jsx("span",{className:"text-xs text-gray-400 w-4 flex-shrink-0 cursor-pointer",onClick:()=>f(a.id),children:a.collapsed?"":""}),x.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:a.color}}),x.jsx("span",{className:"text-sm font-medium truncate flex-1 cursor-pointer",onClick:()=>f(a.id),children:a.name}),x.jsx("button",{onClick:L=>{L.stopPropagation(),window.confirm(`Delete stream "${a.name}"?`)&&h(a.id)},className:"text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 border-none bg-transparent p-0 cursor-pointer",title:"Delete stream",children:""})]}),!a.collapsed&&x.jsxs(x.Fragment,{children:[a.items.map(L=>x.jsxs("div",{children:[x.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer group/item ${i===L.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-600"}`,style:{height:Pa},onClick:()=>w(L.id,a.id),onDoubleClick:()=>_(L.id,a.id),children:[x.jsx("span",{className:"text-[10px] text-gray-300 hover:text-gray-500 w-4 flex-shrink-0 cursor-pointer ml-4 mr-0.5",onClick:G=>{G.stopPropagation(),v(a.id,L.id)},title:L.expanded?"Collapse sub-tasks":"Expand sub-tasks",children:L.subItems&&L.subItems.length>0?L.expanded?"":"":x.jsx("span",{className:"opacity-0 group-hover/item:opacity-100",children:""})}),x.jsx("div",{className:"text-sm truncate",style:{width:n-24},children:L.name}),l&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Cn},title:L.lead||"",children:L.lead||""}),o&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Cn},title:L.support||"",children:L.support||""}),u&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Cn},title:fo[L.phase]||L.phase,children:fo[L.phase]||L.phase})]}),L.expanded&&L.subItems&&L.subItems.map(G=>{const V=G.phaseBars||[],J=V.length>0;return x.jsxs("div",{children:[x.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer group/sub ${i===G.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-500"}`,style:{height:Sr+(!G.phasesExpanded&&J?Mo:0)},onClick:()=>w(G.id,a.id),onDoubleClick:()=>_(G.id,a.id),children:[x.jsx("span",{className:"text-[8px] text-gray-300 hover:text-gray-500 w-3 flex-shrink-0 cursor-pointer ml-7 mr-0.5",onClick:F=>{F.stopPropagation(),y(a.id,L.id,G.id)},title:G.phasesExpanded?"Collapse phases":"Expand phases",children:J||G.phasesExpanded?G.phasesExpanded?"":"":x.jsx("span",{className:"opacity-0 group-hover/sub:opacity-100",children:""})}),x.jsx("div",{className:"text-xs truncate",style:{width:n-30},children:G.name}),l&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Cn},title:G.lead||"",children:G.lead||""}),o&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Cn},title:G.support||"",children:G.support||""}),u&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Cn},title:fo[G.phase]||G.phase,children:fo[G.phase]||G.phase})]}),G.phasesExpanded&&x.jsx("div",{className:"flex items-center px-2 pl-12 border-b border-gray-50 overflow-hidden",style:{height:Jo},children:J?x.jsx("div",{className:"flex items-center gap-1 overflow-hidden",children:V.map(F=>x.jsx("span",{className:"text-[9px] text-white px-1.5 py-0.5 rounded-sm truncate max-w-[80px]",style:{backgroundColor:F.color},title:F.name,children:F.name},F.id))}):x.jsx("span",{className:"text-[10px] text-gray-300 italic",children:"Click timeline to add phases"})})]},G.id)}),L.expanded&&x.jsx("div",{className:"flex items-center px-2 pl-12 text-xs text-gray-300 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Sr},onClick:()=>g(a.id,L.id),children:"+ Add Sub-task"})]},L.id)),x.jsx("div",{className:"flex items-center px-2 pl-8 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Pa},onClick:()=>m(a.id),children:"+ Add Item"})]})]})}function kd({label:a,active:n,onClick:i}){return x.jsx("button",{onClick:i,className:`text-[10px] px-1.5 py-0.5 rounded border cursor-pointer transition-colors ml-1 ${n?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-400 border-gray-200 hover:text-gray-600"}`,title:`${n?"Hide":"Show"} ${a} column`,children:a})}function Ri(a,n,i,l){const o=Rt(We(a),i,l),u=Rt(We(n),i,l);return{x:o,width:Math.max(u-o,10)}}function by(a){const n=[];let i=0;for(const l of a){const o=i;i+=wr;const u=[],f=[];if(!l.collapsed){for(const h of l.items){const m=i;u.push({itemId:h.id,y:i}),i+=Pa;const g=[];if(h.expanded&&h.subItems&&h.subItems.length>0){for(const v of h.subItems){const y=i;i+=Sr;const w=v.phaseBars&&v.phaseBars.length>0;!v.phasesExpanded&&w&&(i+=Mo);let _;v.phasesExpanded&&(_=i,i+=Jo),g.push({subItemId:v.id,y,phaseBarRowY:_})}i+=Sr}f.push({itemId:h.id,y:m,subItemYs:g})}i+=Pa}n.push({streamId:l.id,y:o,headerY:o,height:i-o,itemYs:u,itemLayouts:f})}return n}function xf(a,n,i){const l=We(a),o=We(n),u=Er(o,Up*7),f=Er(l,-Up*7);return i==="week"?QS(f,u,l):JS(f,u,l)}function Gx(a){if(a.length===0)return 0;const n=a[a.length-1];return n.x+n.width}function Yx(a){const n=by(a);if(n.length===0)return 200;const i=n[n.length-1];return i.y+i.height+Pa}function Vx(a){const n=oe(m=>m.isPanning),i=oe(m=>m.setPanning),l=S.useRef(!1),o=S.useRef({x:0,y:0}),u=S.useCallback(m=>{n&&(l.current=!0,o.current={x:m.clientX,y:m.clientY},m.preventDefault())},[n]),f=S.useCallback(m=>{if(!l.current||!a.current)return;const g=m.clientX-o.current.x,v=m.clientY-o.current.y;a.current.scrollLeft-=g,a.current.scrollTop-=v,o.current={x:m.clientX,y:m.clientY}},[a]),h=S.useCallback(()=>{l.current=!1},[]);S.useEffect(()=>{const m=v=>{v.code==="Space"&&!v.repeat&&!(v.target instanceof HTMLInputElement||v.target instanceof HTMLTextAreaElement)&&(v.preventDefault(),i(!0))},g=v=>{v.code==="Space"&&(i(!1),l.current=!1)};return window.addEventListener("keydown",m),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)}},[i]),S.useEffect(()=>{const m=a.current;if(m)return m.addEventListener("mousedown",u),window.addEventListener("mousemove",f),window.addEventListener("mouseup",h),()=>{m.removeEventListener("mousedown",u),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h)}},[u,f,h,a])}function Kx(){const a=re(u=>u.roadmap.settings),n=oe(u=>u.zoom),i=oe(u=>u.showMonthColors),l=S.useMemo(()=>xf(a.timelineStartDate,a.timelineEndDate,n),[a.timelineStartDate,a.timelineEndDate,n]),o=S.useMemo(()=>{if(n!=="month")return[];const u=[];let f=null;for(const h of l)h.sublabel&&(!f||f.label!==h.sublabel)?(f&&u.push(f),f={label:h.sublabel,x:h.x,width:h.width}):f&&h.sublabel===f.label&&(f.width+=h.width);return f&&u.push(f),u},[l,n]);return x.jsxs("div",{className:"sticky top-0 z-20 border-b border-gray-200",style:{height:Yd},children:[n==="month"&&x.jsx("div",{className:"relative h-5",children:o.map((u,f)=>x.jsx("div",{className:"absolute top-0 text-[10px] text-gray-400 font-medium text-center border-r border-gray-100",style:{left:u.x,width:u.width},children:u.label},f))}),x.jsx("div",{className:"relative",style:{height:n==="month"?30:Yd},children:l.map((u,f)=>x.jsx("div",{className:"absolute top-0 bottom-0 flex items-center justify-center text-xs text-gray-500 border-r border-gray-100",style:{left:u.x,width:u.width,backgroundColor:i?Mv[u.month]:void 0},children:u.label},f))})]})}function Xx({height:a}){const n=re(u=>u.roadmap.settings),i=oe(u=>u.zoom),l=oe(u=>u.showMonthColors),o=S.useMemo(()=>xf(n.timelineStartDate,n.timelineEndDate,i),[n.timelineStartDate,n.timelineEndDate,i]);return x.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{height:a},children:o.map((u,f)=>x.jsx("div",{className:"absolute top-0 border-r border-gray-100",style:{left:u.x,width:u.width,height:a,backgroundColor:l?Mv[u.month]:void 0}},f))})}function Px({height:a}){const n=re(o=>o.roadmap.settings),i=oe(o=>o.zoom),l=S.useMemo(()=>{const o=We(n.timelineStartDate);return Rt(new Date,o,i)},[n.timelineStartDate,i]);return x.jsx("div",{className:"absolute top-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:l,height:a},children:x.jsx("div",{className:"absolute -top-0 -left-1.5 w-3.5 h-3.5 bg-red-500 rounded-full"})})}function qn(a){const n=Zv(a),i=Er(n,7),l=Math.abs(Bo(a,n)),o=Math.abs(Bo(a,i));return l<=o?n:i}function Di({side:a,onResizeStart:n,onResize:i,onResizeEnd:l}){const o=S.useRef(0),u=S.useRef(0),f=S.useCallback(h=>{h.stopPropagation(),h.preventDefault(),o.current=h.clientX,u.current=0,n();const m=v=>{const y=v.clientX-o.current;u.current=y,i(y)},g=()=>{l(u.current),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",g)},[n,i,l]);return x.jsx("div",{className:`absolute top-0 bottom-0 w-3 cursor-col-resize z-10 hover:bg-white/30 ${a==="left"?"-left-1":"-right-1"}`,onMouseDown:f})}function Qx({item:a,streamId:n,streamColor:i,streamItems:l,originDate:o}){const u=re(ee=>ee.moveItem),f=re(ee=>ee.resizeItem),h=oe(ee=>ee.selectItem),m=oe(ee=>ee.openEditPanel),g=oe(ee=>ee.selectedItemId),v=oe(ee=>ee.isPanning),y=oe(ee=>ee.zoom),w=oe(ee=>ee.dependencyMode),_=oe(ee=>ee.dependencySourceItemId),A=oe(ee=>ee.enterDependencyMode),C=oe(ee=>ee.exitDependencyMode),j=re(ee=>ee.addDependency),[H,q]=S.useState(!1),[U,O]=S.useState(0),[L,G]=S.useState(!1),[V,J]=S.useState("right"),[F,de]=S.useState(0),[ue,pe]=S.useState(!1),we=S.useRef(null),Se=S.useRef(0),xe=S.useRef(!1),E=S.useRef(a);E.current=a;const X=S.useRef(n);X.current=n;const W=S.useRef(l);W.current=l;const ce=S.useRef(o);ce.current=o;const ve=S.useRef(y);ve.current=y;const R=g===a.id,I=S.useMemo(()=>Ri(a.startDate,a.endDate,o,y),[a.startDate,a.endDate,o,y]),P=L&&V==="left"?I.x+F:I.x+(H?U:0),Z=L?V==="left"?I.width-F:I.width+F:I.width,se=S.useCallback(ee=>{if(v||L)return;if(w){ee.stopPropagation(),_&&_!==a.id&&(j(_,a.id),C());return}Se.current=ee.clientX,xe.current=!1;const Me=ee.currentTarget.closest(".timeline-scroll"),Pe=Me?.scrollLeft||0,Ne=Ze=>{const et=Ze.clientX-Se.current;Math.abs(et)>3&&(xe.current=!0,q(!0),O(et))},it=Ze=>{if(window.removeEventListener("mousemove",Ne),window.removeEventListener("mouseup",it),xe.current){const et=Ze.clientX-Se.current,It=(Me?.scrollLeft||0)-Pe,mn=et+It,ke=E.current,qt=ce.current,wt=ve.current,Dt=W.current,Lt=X.current,Gn=We(ke.startDate),Qa=We(ke.endDate),gn=In(Rt(Gn,qt,wt)+mn,qt,wt),Ja=qn(gn),Qn=Qa.getTime()-Gn.getTime(),Ot=new Date(Ja.getTime()+Qn),$t=ct(Ja),pt=ct(Ot);ko(Dt,ke.id,$t,pt)||u(Lt,ke.id,$t,pt)}else h(E.current.id,X.current);q(!1),O(0)};window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",it)},[v,L,w,_,a.id,u,h,j,C]),ie=S.useCallback(ee=>{ee.stopPropagation(),h(a.id,n),m()},[a.id,n,h,m]),be=S.useCallback(ee=>{G(!0),J(ee),de(0)},[]),Le=S.useCallback(ee=>{de(ee)},[]),Q=S.useCallback(ee=>{const Me=E.current,Pe=ce.current,Ne=ve.current,it=W.current,Ze=X.current,et=We(Me.startDate),It=We(Me.endDate),mn=fe.current;let ke,qt;if(mn==="left"){const wt=In(Rt(et,Pe,Ne)+ee,Pe,Ne);ke=qn(wt),qt=It}else{ke=et;const wt=In(Rt(It,Pe,Ne)+ee,Pe,Ne);qt=qn(wt)}if(qt.getTime()-ke.getTime()>=7*864e5){const wt=ct(ke),Dt=ct(qt);ko(it,Me.id,wt,Dt)||f(Ze,Me.id,wt,Dt)}G(!1),de(0)},[f]),fe=S.useRef("right"),Ve=S.useCallback(ee=>{fe.current=ee,be(ee)},[be]),je=()=>{we.current=setTimeout(()=>pe(!0),500)},rt=()=>{we.current&&clearTimeout(we.current),pe(!1)},Ce=ee=>{ee.stopPropagation(),A(a.id)};return x.jsxs("div",{className:`absolute rounded-md shadow-sm cursor-pointer group select-none ${R?"ring-2 ring-blue-500 ring-offset-1":""} ${H?"opacity-80 shadow-md":""} ${w?"cursor-crosshair":""}`,style:{left:P,width:Math.max(Z,20),top:Gd,height:jo,backgroundColor:i,zIndex:H||L?30:5},onMouseDown:se,onDoubleClick:ie,onMouseEnter:je,onMouseLeave:rt,children:[x.jsx("div",{className:"px-2 text-xs text-white font-medium leading-[30px] truncate pointer-events-none",children:a.name}),!v&&!w&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>Ve("left"),onResize:Le,onResizeEnd:Q}),x.jsx(Di,{side:"right",onResizeStart:()=>Ve("right"),onResize:Le,onResizeEnd:Q})]}),!w&&x.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white border-2 border-gray-400 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer hover:border-blue-500 hover:bg-blue-100 z-20",onClick:Ce,title:"Create dependency"}),ue&&!H&&!L&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]}),a.lead&&x.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function Jx({subItem:a,parentItemId:n,streamId:i,streamColor:l,originDate:o}){const u=re(Q=>Q.moveSubItem),f=re(Q=>Q.resizeSubItem),h=oe(Q=>Q.selectItem),m=oe(Q=>Q.openEditPanel),g=oe(Q=>Q.selectedItemId),v=oe(Q=>Q.isPanning),y=oe(Q=>Q.zoom),[w,_]=S.useState(!1),[A,C]=S.useState(0),[j,H]=S.useState(!1),[q,U]=S.useState("right"),[O,L]=S.useState(0),[G,V]=S.useState(!1),J=S.useRef(null),F=S.useRef(0),de=S.useRef(!1),ue=S.useRef(a);ue.current=a;const pe=S.useRef(o);pe.current=o;const we=S.useRef(y);we.current=y;const Se=S.useRef(i);Se.current=i;const xe=S.useRef(n);xe.current=n;const E=S.useRef("right"),X=g===a.id,W=S.useMemo(()=>Ri(a.startDate,a.endDate,o,y),[a.startDate,a.endDate,o,y]),ce=j&&q==="left"?W.x+O:W.x+(w?A:0),ve=j?q==="left"?W.width-O:W.width+O:W.width,R=l+"99",I=S.useCallback(Q=>{if(v||j)return;F.current=Q.clientX,de.current=!1;const fe=Q.currentTarget.closest(".timeline-scroll"),Ve=fe?.scrollLeft||0,je=Ce=>{const ee=Ce.clientX-F.current;Math.abs(ee)>3&&(de.current=!0,_(!0),C(ee))},rt=Ce=>{if(window.removeEventListener("mousemove",je),window.removeEventListener("mouseup",rt),de.current){const ee=Ce.clientX-F.current,Me=(fe?.scrollLeft||0)-Ve,Pe=ee+Me,Ne=ue.current,it=pe.current,Ze=we.current,et=We(Ne.startDate),It=We(Ne.endDate),mn=In(Rt(et,it,Ze)+Pe,it,Ze),ke=qn(mn),qt=It.getTime()-et.getTime(),wt=new Date(ke.getTime()+qt);u(Se.current,xe.current,Ne.id,ct(ke),ct(wt))}else h(ue.current.id,Se.current);_(!1),C(0)};window.addEventListener("mousemove",je),window.addEventListener("mouseup",rt)},[v,j,u,h]),P=S.useCallback(Q=>{Q.stopPropagation(),h(a.id,i),m()},[a.id,i,h,m]),Z=S.useCallback(Q=>{E.current=Q,H(!0),U(Q),L(0)},[]),se=S.useCallback(Q=>{L(Q)},[]),ie=S.useCallback(Q=>{const fe=ue.current,Ve=pe.current,je=we.current,rt=E.current,Ce=We(fe.startDate),ee=We(fe.endDate);let Me,Pe;if(rt==="left"){const Ne=In(Rt(Ce,Ve,je)+Q,Ve,je);Me=qn(Ne),Pe=ee}else{Me=Ce;const Ne=In(Rt(ee,Ve,je)+Q,Ve,je);Pe=qn(Ne)}Pe.getTime()-Me.getTime()>=7*864e5&&f(Se.current,xe.current,fe.id,ct(Me),ct(Pe)),H(!1),L(0)},[f]),be=()=>{J.current=setTimeout(()=>V(!0),500)},Le=()=>{J.current&&clearTimeout(J.current),V(!1)};return x.jsxs("div",{className:`absolute rounded cursor-pointer group select-none ${X?"ring-2 ring-blue-500 ring-offset-1":""} ${w?"opacity-80 shadow-md":""}`,style:{left:ce,width:Math.max(ve,16),top:o_,height:Nv,backgroundColor:R,zIndex:w||j?30:5},onMouseDown:I,onDoubleClick:P,onMouseEnter:be,onMouseLeave:Le,children:[x.jsx("div",{className:"px-1.5 text-[10px] text-white font-medium leading-[20px] truncate pointer-events-none",children:a.name}),!v&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>Z("left"),onResize:se,onResizeEnd:ie}),x.jsx(Di,{side:"right",onResizeStart:()=>Z("right"),onResize:se,onResizeEnd:ie})]}),G&&!w&&!j&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]}),a.lead&&x.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function Zx({bar:a,allBars:n,subItemId:i,parentItemId:l,streamId:o,originDate:u}){const f=re(Q=>Q.movePhaseBar),h=re(Q=>Q.resizePhaseBar),m=oe(Q=>Q.selectItem),g=oe(Q=>Q.openEditPanel),v=oe(Q=>Q.isPanning),y=oe(Q=>Q.zoom),[w,_]=S.useState(!1),[A,C]=S.useState(0),[j,H]=S.useState(!1),[q,U]=S.useState("right"),[O,L]=S.useState(0),[G,V]=S.useState(!1),J=S.useRef(null),F=S.useRef(0),de=S.useRef(!1),ue=S.useRef(a);ue.current=a;const pe=S.useRef(n);pe.current=n;const we=S.useRef(u);we.current=u;const Se=S.useRef(y);Se.current=y;const xe=S.useRef(o);xe.current=o;const E=S.useRef(l);E.current=l;const X=S.useRef(i);X.current=i;const W=S.useRef("right"),ce=S.useMemo(()=>Ri(a.startDate,a.endDate,u,y),[a.startDate,a.endDate,u,y]),ve=j&&q==="left"?ce.x+O:ce.x+(w?A:0),R=j?q==="left"?ce.width-O:ce.width+O:ce.width,I=S.useCallback(Q=>{if(Q.stopPropagation(),v||j)return;F.current=Q.clientX,de.current=!1;const fe=Q.currentTarget.closest(".timeline-scroll"),Ve=fe?.scrollLeft||0,je=Ce=>{const ee=Ce.clientX-F.current;Math.abs(ee)>3&&(de.current=!0,_(!0),C(ee))},rt=Ce=>{if(window.removeEventListener("mousemove",je),window.removeEventListener("mouseup",rt),de.current){const ee=Ce.clientX-F.current,Me=(fe?.scrollLeft||0)-Ve,Pe=ee+Me,Ne=ue.current,it=we.current,Ze=Se.current,et=We(Ne.startDate),It=We(Ne.endDate),mn=In(Rt(et,it,Ze)+Pe,it,Ze),ke=qn(mn),qt=It.getTime()-et.getTime(),wt=new Date(ke.getTime()+qt),Dt=ct(ke),Lt=ct(wt);Ei(pe.current,Ne.id,Dt,Lt)||f(xe.current,E.current,X.current,Ne.id,Dt,Lt)}else m(X.current,xe.current);_(!1),C(0)};window.addEventListener("mousemove",je),window.addEventListener("mouseup",rt)},[v,j,f,m]),P=S.useCallback(Q=>{Q.stopPropagation(),m(i,o),g()},[i,o,m,g]),Z=S.useCallback(Q=>{W.current=Q,H(!0),U(Q),L(0)},[]),se=S.useCallback(Q=>{L(Q)},[]),ie=S.useCallback(Q=>{const fe=ue.current,Ve=we.current,je=Se.current,rt=W.current,Ce=We(fe.startDate),ee=We(fe.endDate);let Me,Pe;if(rt==="left"){const Ne=In(Rt(Ce,Ve,je)+Q,Ve,je);Me=qn(Ne),Pe=ee}else{Me=Ce;const Ne=In(Rt(ee,Ve,je)+Q,Ve,je);Pe=qn(Ne)}if(Pe.getTime()-Me.getTime()>=7*864e5){const Ne=ct(Me),it=ct(Pe);Ei(pe.current,fe.id,Ne,it)||h(xe.current,E.current,X.current,fe.id,Ne,it)}H(!1),L(0)},[h]),be=()=>{J.current=setTimeout(()=>V(!0),500)},Le=()=>{J.current&&clearTimeout(J.current),V(!1)};return x.jsxs("div",{className:`absolute rounded-sm cursor-pointer group select-none ${w?"opacity-80 shadow-md":""}`,style:{left:ve,width:Math.max(R,12),top:u_,height:jv,backgroundColor:a.color,zIndex:w||j?30:5},onMouseDown:I,onDoubleClick:P,onMouseEnter:be,onMouseLeave:Le,children:[x.jsx("div",{className:"px-1 text-[9px] text-white font-medium leading-[16px] truncate pointer-events-none",children:a.name}),!v&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>Z("left"),onResize:se,onResizeEnd:ie}),x.jsx(Di,{side:"right",onResizeStart:()=>Z("right"),onResize:se,onResizeEnd:ie})]}),G&&!w&&!j&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-sm flex-shrink-0",style:{backgroundColor:a.color}}),x.jsx("span",{className:"font-medium",children:a.name})]}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]})]})]})}function Fx({milestone:a,x:n,streamColor:i,originDate:l,zoom:o}){const u=re(F=>F.removeMilestone),f=re(F=>F.moveMilestone),[h,m]=S.useState(!1),[g,v]=S.useState(!1),[y,w]=S.useState(!1),[_,A]=S.useState(0),C=S.useRef(0),j=S.useRef(!1),H=S.useRef(null),q=S.useRef(a);q.current=a;const U=S.useRef(l);U.current=l;const O=S.useRef(o);O.current=o;const L=18,G=wr/2;S.useEffect(()=>{if(!g)return;const F=de=>{(de.key==="Delete"||de.key==="Backspace")&&(de.preventDefault(),u(a.id)),de.key==="Escape"&&v(!1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[g,a.id,u]),S.useEffect(()=>{if(!g)return;const F=ue=>{H.current&&!H.current.contains(ue.target)&&v(!1)},de=setTimeout(()=>{window.addEventListener("mousedown",F)},0);return()=>{clearTimeout(de),window.removeEventListener("mousedown",F)}},[g]);const V=S.useCallback(F=>{F.stopPropagation(),C.current=F.clientX,j.current=!1;const de=F.currentTarget.closest(".timeline-scroll"),ue=de?.scrollLeft||0,pe=Se=>{const xe=Se.clientX-C.current;Math.abs(xe)>3&&(j.current=!0,w(!0),A(xe))},we=Se=>{if(window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",we),j.current){const xe=Se.clientX-C.current,E=(de?.scrollLeft||0)-ue,X=xe+E,W=q.current,ce=U.current,ve=O.current,R=We(W.date),I=Rt(R,ce,ve),P=In(I+X,ce,ve),Z=qn(P);f(W.id,ct(Z))}else v(!0);w(!1),A(0)};window.addEventListener("mousemove",pe),window.addEventListener("mouseup",we)},[f]),J=n+(y?_:0);return x.jsxs("div",{ref:H,className:"absolute",style:{left:J-L/2,top:0,width:L+8,height:wr,zIndex:y?30:6,cursor:y?"grabbing":"pointer"},onMouseDown:V,onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1)},children:[x.jsx("div",{className:"absolute",style:{left:L/2+4,top:4,bottom:4,width:1,backgroundColor:i,opacity:.4,transform:"translateX(-50%)"}}),x.jsx("div",{className:"absolute",style:{left:(L+8)/2,top:G,width:L,height:L,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:i,border:g?"2px solid #3B82F6":"2px solid white",boxShadow:g?"0 0 0 2px #3B82F6, 0 1px 3px rgba(0,0,0,0.2)":"0 1px 3px rgba(0,0,0,0.2)",opacity:y?.8:1}}),h&&!y&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-auto z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsx("div",{className:"text-gray-300 mt-0.5",children:xr(a.date)}),g&&x.jsx("div",{className:"text-gray-400 mt-1 text-[10px]",children:"Press Delete to remove"})]})]})}function Wx({stream:a,originDate:n}){const i=oe(g=>g.zoom),l=oe(g=>g.isPanning),o=re(g=>g.roadmap.milestones),u=re(g=>g.addPhaseBar),f=S.useMemo(()=>o.filter(g=>g.streamId===a.id),[o,a.id]),h=S.useMemo(()=>{if(a.items.length===0)return null;let g=a.items[0].startDate,v=a.items[0].endDate;for(const y of a.items)y.startDate<g&&(g=y.startDate),y.endDate>v&&(v=y.endDate);return Ri(g,v,n,i)},[a.items,n,i]),m=a.color+"4D";return x.jsxs("div",{children:[x.jsxs("div",{className:"relative border-b border-gray-200",style:{height:wr,backgroundColor:`${a.color}08`,zIndex:2},children:[h&&x.jsx("div",{className:"absolute rounded-sm",style:{left:h.x,width:h.width,top:8,height:wr-16,backgroundColor:m,border:`1px solid ${a.color}33`}}),f.map(g=>x.jsx(Fx,{milestone:g,x:Rt(We(g.date),n,i),streamColor:a.color,originDate:n,zoom:i},g.id))]}),!a.collapsed&&a.items.map(g=>x.jsxs("div",{children:[x.jsx("div",{className:"relative border-b border-gray-50",style:{height:Pa},children:x.jsx(Qx,{item:g,streamId:a.id,streamColor:a.color,streamItems:a.items,originDate:n})}),g.expanded&&g.subItems&&g.subItems.map(v=>{const y=v.phaseBars||[],w=y.length>0,_=A=>{if(l||A.target!==A.currentTarget)return;const C=A.currentTarget.getBoundingClientRect(),j=A.clientX-C.left,q=A.currentTarget.closest(".timeline-scroll")?.scrollLeft||0,U=j+q,O=In(U,n,i),L=qn(O),G=new Date(L.getTime()+c_*864e5),V=ct(L),J=ct(G);Ei(y,"",V,J)||u(a.id,g.id,v.id,V,J)};return x.jsxs("div",{children:[x.jsxs("div",{className:"relative border-b border-gray-50",style:{height:Sr,backgroundColor:`${a.color}06`},children:[x.jsx(Jx,{subItem:v,parentItemId:g.id,streamId:a.id,streamColor:a.color,originDate:n}),!v.phasesExpanded&&w&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0",style:{height:Mo},children:y.map(A=>{const C=Ri(A.startDate,A.endDate,n,i);return x.jsx("div",{className:"absolute rounded-sm",style:{left:C.x,width:C.width,top:0,height:Mo,backgroundColor:A.color,opacity:.7}},A.id)})})]}),v.phasesExpanded&&x.jsx("div",{className:"relative border-b border-gray-50 cursor-crosshair",style:{height:Jo,backgroundColor:`${a.color}04`},onClick:_,children:y.map(A=>x.jsx(Zx,{bar:A,allBars:y,subItemId:v.id,parentItemId:g.id,streamId:a.id,originDate:n},A.id))})]},v.id)}),g.expanded&&g.subItems&&g.subItems.length>=0&&x.jsx("div",{className:"border-b border-gray-50",style:{height:Sr}})]},g.id)),!a.collapsed&&x.jsx("div",{className:"border-b border-gray-50",style:{height:Pa}})]})}function eT(a,n,i,l){const u=l-n,f=i-a,h=40;if(Math.abs(u)<2&&f>0)return`M ${a} ${n} L ${i} ${l}`;const m=u>0?1:-1,g=Math.abs(u);if(f<h){const w=Math.max(a,i)+30,_=i-30,A=n+u/2,C=Math.abs(u)/2,j=Math.min(8,C/2);return[`M ${a} ${n}`,`L ${w-j} ${n}`,`Q ${w} ${n}, ${w} ${n+m*j}`,`L ${w} ${A-m*j}`,`Q ${w} ${A}, ${w-j} ${A}`,`L ${_+j} ${A}`,`Q ${_} ${A}, ${_} ${A+m*j}`,`L ${_} ${l-m*j}`,`Q ${_} ${l}, ${_+j} ${l}`,`L ${i} ${l}`].join(" ")}const v=a+f/2,y=Math.min(8,g/2,Math.abs(v-a),Math.abs(i-v));return[`M ${a} ${n}`,`L ${v-y} ${n}`,`Q ${v} ${n}, ${v} ${n+m*y}`,`L ${v} ${l-m*y}`,`Q ${v} ${l}, ${v+y} ${l}`,`L ${i} ${l}`].join(" ")}function tT({fromX:a,fromY:n,toX:i,toY:l,color:o="#94A3B8"}){const u=eT(a,n,i,l);return x.jsx("g",{children:x.jsx("path",{d:u,fill:"none",stroke:o,strokeWidth:1.5,strokeDasharray:"none",markerEnd:"url(#arrowhead)"})})}function nT({originDate:a,totalHeight:n,timelineWidth:i}){const l=re(h=>h.roadmap.streams),o=re(h=>h.roadmap.dependencies),u=oe(h=>h.zoom),f=S.useMemo(()=>{if(o.length===0)return[];const h=by(l),m=new Map;for(const g of l){const v=h.find(y=>y.streamId===g.id);if(v)for(const y of g.items){const w=v.itemYs.find(A=>A.itemId===y.id);if(!w)continue;const _=Ri(y.startDate,y.endDate,a,u);m.set(y.id,{rect:_,y:w.y})}}return o.map(g=>{const v=m.get(g.fromItemId),y=m.get(g.toItemId);return!v||!y?null:{id:g.id,fromX:v.rect.x+v.rect.width,fromY:v.y+Gd+jo/2,toX:y.rect.x,toY:y.y+Gd+jo/2}}).filter(Boolean)},[l,o,a,u]);return f.length===0?null:x.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:i,height:n,zIndex:8},children:[x.jsx("defs",{children:x.jsx("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:x.jsx("polygon",{points:"0 0, 8 3, 0 6",fill:"#94A3B8"})})}),f.map(h=>x.jsx(tT,{fromX:h.fromX,fromY:h.fromY,toX:h.toX,toY:h.toY},h.id))]})}function aT(){const a=re(A=>A.roadmap.streams),n=re(A=>A.roadmap.settings),i=re(A=>A.currentRoadmapId),l=oe(A=>A.zoom),o=oe(A=>A.isPanning),u=oe(A=>A.dependencyMode),f=oe(A=>A.exitDependencyMode),h=S.useRef(null),m=S.useRef(null);Vx(h);const g=S.useMemo(()=>xf(n.timelineStartDate,n.timelineEndDate,l),[n.timelineStartDate,n.timelineEndDate,l]),v=S.useMemo(()=>Gx(g),[g]),y=S.useMemo(()=>Yx(a),[a]),w=S.useMemo(()=>We(n.timelineStartDate),[n.timelineStartDate]);S.useEffect(()=>{if(!h.current||!i||m.current===i)return;m.current=i;const j=Er(new Date,l==="week"?-7:-30),H=Rt(j,w,l);h.current.scrollLeft=Math.max(0,H)},[i,w,l]),S.useEffect(()=>{if(!h.current||!i)return;const j=Er(new Date,l==="week"?-7:-30),H=Rt(j,w,l);h.current.scrollLeft=Math.max(0,H)},[l,w,i]);const _=()=>{u&&f()};return x.jsx("div",{ref:h,className:`flex-1 overflow-auto timeline-scroll relative ${o?u?"":"cursor-grab-all":""} ${u?"cursor-crosshair":""}`,onClick:_,children:x.jsxs("div",{style:{width:v,minHeight:"100%"},children:[x.jsx(Kx,{}),x.jsxs("div",{className:"relative",style:{height:y},children:[x.jsx(Xx,{height:y}),x.jsx(Px,{height:y}),x.jsx(nT,{originDate:w,totalHeight:y,timelineWidth:v}),a.map(A=>x.jsx(Wx,{stream:A,originDate:w},A.id))]})]})})}function rT(){const a=oe(O=>O.editPanelOpen),n=oe(O=>O.selectedItemId),i=oe(O=>O.selectedStreamId),l=oe(O=>O.closeEditPanel),o=re(O=>O.roadmap.streams),u=re(O=>O.roadmap.dependencies),f=re(O=>O.updateItem),h=re(O=>O.removeItem),m=re(O=>O.updateSubItem),g=re(O=>O.removeSubItem),v=re(O=>O.removeDependency),y=re(O=>O.updatePhaseBar),w=re(O=>O.removePhaseBar),{item:_,parentItemId:A}=S.useMemo(()=>{if(!i||!n)return{item:null,parentItemId:null};const O=o.find(G=>G.id===i);if(!O)return{item:null,parentItemId:null};const L=O.items.find(G=>G.id===n);if(L)return{item:L,parentItemId:null};for(const G of O.items)if(G.subItems){const V=G.subItems.find(J=>J.id===n);if(V)return{item:V,parentItemId:G.id}}return{item:null,parentItemId:null}},[o,i,n]),C=S.useMemo(()=>n?u.filter(O=>O.fromItemId===n||O.toItemId===n):[],[u,n]),j=O=>{for(const L of o)for(const G of L.items){if(G.id===O)return G.name;if(G.subItems){const V=G.subItems.find(J=>J.id===O);if(V)return V.name}}return"Unknown"},H=A!==null;if(!a||!_||!i)return null;const q=(O,L)=>{H?m(i,A,_.id,{[O]:L}):f(i,_.id,{[O]:L})},U=()=>{window.confirm(`Delete "${_.name}"?`)&&(H?g(i,A,_.id):h(i,_.id),l())};return x.jsxs("div",{className:"fixed right-0 top-0 bottom-0 bg-white border-l border-gray-200 shadow-lg z-40 overflow-y-auto",style:{width:h_},children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[x.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:H?"Edit Sub-task":"Edit Item"}),x.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 text-lg border-none bg-transparent cursor-pointer p-0",children:""})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.name,onChange:O=>q("name",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Lead"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.lead,onChange:O=>q("lead",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Support"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.support,onChange:O=>q("support",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phase"}),x.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 bg-white",value:_.phase,onChange:O=>q("phase",O.target.value),children:Object.entries(g_).map(([O,L])=>x.jsx("option",{value:O,children:L},O))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.startDate,onChange:O=>q("startDate",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.endDate,onChange:O=>q("endDate",O.target.value)})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Notes"}),x.jsx("textarea",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 min-h-20 resize-y",value:_.notes,onChange:O=>q("notes",O.target.value),rows:3})]}),H&&_.phaseBars&&_.phaseBars.length>0&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phase Bars"}),x.jsx("div",{className:"space-y-2",children:_.phaseBars.map(O=>x.jsxs("div",{className:"bg-gray-50 rounded px-2 py-2 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("input",{className:"flex-1 text-xs border border-gray-300 rounded px-2 py-1 outline-none focus:border-blue-400",value:O.name,onChange:L=>y(i,A,_.id,O.id,{name:L.target.value})}),x.jsx("button",{onClick:()=>{window.confirm(`Delete phase "${O.name}"?`)&&w(i,A,_.id,O.id)},className:"text-gray-400 hover:text-red-500 border-none bg-transparent cursor-pointer p-0 text-xs flex-shrink-0",title:"Delete phase bar",children:""})]}),x.jsx("div",{className:"flex gap-0.5 flex-wrap",children:Rs.map(L=>x.jsx("button",{className:"w-4 h-4 rounded-sm border cursor-pointer p-0",style:{backgroundColor:L,borderColor:O.color===L?"#1a1a2e":"transparent",borderWidth:O.color===L?2:1},onClick:()=>y(i,A,_.id,O.id,{color:L}),title:L},L))}),x.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[x.jsx("input",{type:"date",className:"text-[10px] border border-gray-300 rounded px-1.5 py-0.5 outline-none focus:border-blue-400",value:O.startDate,onChange:L=>y(i,A,_.id,O.id,{startDate:L.target.value})}),x.jsx("input",{type:"date",className:"text-[10px] border border-gray-300 rounded px-1.5 py-0.5 outline-none focus:border-blue-400",value:O.endDate,onChange:L=>y(i,A,_.id,O.id,{endDate:L.target.value})})]})]},O.id))})]}),C.length>0&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Dependencies"}),x.jsx("div",{className:"space-y-1",children:C.map(O=>x.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded px-2 py-1.5",children:[x.jsxs("span",{className:"text-gray-600",children:[O.fromItemId===_.id?" ":" ",j(O.fromItemId===_.id?O.toItemId:O.fromItemId)]}),x.jsx("button",{onClick:()=>v(O.id),className:"text-gray-400 hover:text-red-500 border-none bg-transparent cursor-pointer p-0 text-xs",children:""})]},O.id))})]}),x.jsx("div",{className:"pt-4 border-t border-gray-200",children:x.jsx("button",{onClick:U,className:"w-full text-sm px-3 py-2 bg-red-50 text-red-600 rounded border border-red-200 cursor-pointer hover:bg-red-100",children:"Delete Item"})})]})]})}function iT(){const a=re(u=>u.fetchRoadmapList),n=re(u=>u.loadRoadmap),i=re(u=>u.roadmapList),l=re(u=>u.currentRoadmapId),o=re(u=>u.isLoading);S.useEffect(()=>{a()},[a]),S.useEffect(()=>{!l&&i.length>0&&!o&&n(i[0].id)},[i,l,n,o])}function sT(){const a=re(o=>o.isDirty),n=re(o=>o.saveRoadmap),i=re(o=>o.currentRoadmapId),l=S.useRef(null);S.useEffect(()=>{if(!(!a||!i))return l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{n()},m_),()=>{l.current&&clearTimeout(l.current)}},[a,i,n])}function lT(){const a=oe(h=>h.closeEditPanel),n=oe(h=>h.exitDependencyMode),i=oe(h=>h.setZoom),l=oe(h=>h.selectedItemId),o=oe(h=>h.selectedStreamId),u=oe(h=>h.dependencyMode),f=re(h=>h.removeItem);S.useEffect(()=>{const h=m=>{m.target instanceof HTMLInputElement||m.target instanceof HTMLTextAreaElement||(m.key==="Escape"&&(u?n():a()),(m.key==="Delete"||m.key==="Backspace")&&l&&o&&(m.preventDefault(),window.confirm("Delete this item?")&&(f(o,l),a())),m.key==="1"&&i("week"),m.key==="2"&&i("month"))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[a,n,i,l,o,u,f])}function oT(){iT(),sT(),lT();const a=re(l=>l.isLoading),n=re(l=>l.currentRoadmapId),i=re(l=>l.roadmapList);return x.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[x.jsx(ZS,{}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",style:{height:`calc(100vh - ${f_}px)`},children:[x.jsx(qx,{}),x.jsx(aT,{}),x.jsx(rT,{})]}),a&&x.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:x.jsx("div",{className:"text-gray-500 text-sm",children:"Loading roadmap..."})}),!a&&!n&&i.length===0&&x.jsx(uT,{})]})}function uT(){const a=re(i=>i.createRoadmap),n=async()=>{await a("My Roadmap")};return x.jsx("div",{className:"fixed inset-0 bg-white/90 flex items-center justify-center z-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Roadmaps Yet"}),x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create your first roadmap to get started."}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 border-none cursor-pointer text-sm",children:"Create Roadmap"})]})})}Ib.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(oT,{})}));
