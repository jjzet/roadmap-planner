(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Rb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var fd={exports:{}},ys={};var dv;function Ob(){if(dv)return ys;dv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:a,type:l,key:f,ref:o!==void 0?o:null,props:c}}return ys.Fragment=n,ys.jsx=r,ys.jsxs=r,ys}var fv;function Db(){return fv||(fv=1,fd.exports=Ob()),fd.exports}var A=Db(),hd={exports:{}},ye={};var hv;function Cb(){if(hv)return ye;hv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function H(T,q,X){this.props=T,this.context=q,this.refs=j,this.updater=X||O}H.prototype.isReactComponent={},H.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function D(){}D.prototype=H.prototype;function U(T,q,X){this.props=T,this.context=q,this.refs=j,this.updater=X||O}var B=U.prototype=new D;B.constructor=U,N(B,H.prototype),B.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(T,q,X){var Z=X.ref;return{$$typeof:a,type:T,key:q,ref:Z!==void 0?Z:null,props:X}}function me(T,q){return F(T.type,q,T.props)}function ce(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function pe(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return q[X]})}var De=/\/+/g;function Ee(T,q){return typeof T=="object"&&T!==null&&T.key!=null?pe(""+T.key):q.toString(36)}function J(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Q,Q):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function R(T,q,X,Z,le){var re=typeof T;(re==="undefined"||re==="boolean")&&(T=null);var Se=!1;if(T===null)Se=!0;else switch(re){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(T.$$typeof){case a:case n:Se=!0;break;case y:return Se=T._init,R(Se(T._payload),q,X,Z,le)}}if(Se)return le=le(T),Se=Z===""?"."+Ee(T,0):Z,Y(le)?(X="",Se!=null&&(X=Se.replace(De,"$&/")+"/"),R(le,q,X,"",function(ve){return ve})):le!=null&&(ce(le)&&(le=me(le,X+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(De,"$&/")+"/")+Se)),q.push(le)),1;Se=0;var ke=Z===""?".":Z+":";if(Y(T))for(var te=0;te<T.length;te++)Z=T[te],re=ke+Ee(Z,te),Se+=R(Z,q,X,re,le);else if(te=w(T),typeof te=="function")for(T=te.call(T),te=0;!(Z=T.next()).done;)Z=Z.value,re=ke+Ee(Z,te++),Se+=R(Z,q,X,re,le);else if(re==="object"){if(typeof T.then=="function")return R(J(T),q,X,Z,le);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Se}function V(T,q,X){if(T==null)return T;var Z=[],le=0;return R(T,Z,"","",function(re){return q.call(X,re,le++)}),Z}function W(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var ge=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},be={map:V,forEach:function(T,q,X){V(T,function(){q.apply(this,arguments)},X)},count:function(T){var q=0;return V(T,function(){q++}),q},toArray:function(T){return V(T,function(q){return q})||[]},only:function(T){if(!ce(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ye.Activity=b,ye.Children=be,ye.Component=H,ye.Fragment=r,ye.Profiler=o,ye.PureComponent=U,ye.StrictMode=l,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ye.__COMPILER_RUNTIME={__proto__:null,c:function(T){return K.H.useMemoCache(T)}},ye.cache=function(T){return function(){return T.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(T,q,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Z=N({},T.props),le=T.key;if(q!=null)for(re in q.key!==void 0&&(le=""+q.key),q)!P.call(q,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&q.ref===void 0||(Z[re]=q[re]);var re=arguments.length-2;if(re===1)Z.children=X;else if(1<re){for(var Se=Array(re),ke=0;ke<re;ke++)Se[ke]=arguments[ke+2];Z.children=Se}return F(T.type,le,Z)},ye.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},ye.createElement=function(T,q,X){var Z,le={},re=null;if(q!=null)for(Z in q.key!==void 0&&(re=""+q.key),q)P.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=q[Z]);var Se=arguments.length-2;if(Se===1)le.children=X;else if(1<Se){for(var ke=Array(Se),te=0;te<Se;te++)ke[te]=arguments[te+2];le.children=ke}if(T&&T.defaultProps)for(Z in Se=T.defaultProps,Se)le[Z]===void 0&&(le[Z]=Se[Z]);return F(T,re,le)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(T){return{$$typeof:h,render:T}},ye.isValidElement=ce,ye.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:W}},ye.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},ye.startTransition=function(T){var q=K.T,X={};K.T=X;try{var Z=T(),le=K.S;le!==null&&le(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Q,ge)}catch(re){ge(re)}finally{q!==null&&X.types!==null&&(q.types=X.types),K.T=q}},ye.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ye.use=function(T){return K.H.use(T)},ye.useActionState=function(T,q,X){return K.H.useActionState(T,q,X)},ye.useCallback=function(T,q){return K.H.useCallback(T,q)},ye.useContext=function(T){return K.H.useContext(T)},ye.useDebugValue=function(){},ye.useDeferredValue=function(T,q){return K.H.useDeferredValue(T,q)},ye.useEffect=function(T,q){return K.H.useEffect(T,q)},ye.useEffectEvent=function(T){return K.H.useEffectEvent(T)},ye.useId=function(){return K.H.useId()},ye.useImperativeHandle=function(T,q,X){return K.H.useImperativeHandle(T,q,X)},ye.useInsertionEffect=function(T,q){return K.H.useInsertionEffect(T,q)},ye.useLayoutEffect=function(T,q){return K.H.useLayoutEffect(T,q)},ye.useMemo=function(T,q){return K.H.useMemo(T,q)},ye.useOptimistic=function(T,q){return K.H.useOptimistic(T,q)},ye.useReducer=function(T,q,X){return K.H.useReducer(T,q,X)},ye.useRef=function(T){return K.H.useRef(T)},ye.useState=function(T){return K.H.useState(T)},ye.useSyncExternalStore=function(T,q,X){return K.H.useSyncExternalStore(T,q,X)},ye.useTransition=function(){return K.H.useTransition()},ye.version="19.2.4",ye}var mv;function af(){return mv||(mv=1,hd.exports=Cb()),hd.exports}var E=af();const St=Rb(E);var md={exports:{}},ps={},gd={exports:{}},vd={};var gv;function Nb(){return gv||(gv=1,(function(a){function n(R,V){var W=R.length;R.push(V);e:for(;0<W;){var ge=W-1>>>1,be=R[ge];if(0<o(be,V))R[ge]=V,R[W]=be,W=ge;else break e}}function r(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var V=R[0],W=R.pop();if(W!==V){R[0]=W;e:for(var ge=0,be=R.length,T=be>>>1;ge<T;){var q=2*(ge+1)-1,X=R[q],Z=q+1,le=R[Z];if(0>o(X,W))Z<be&&0>o(le,X)?(R[ge]=le,R[Z]=W,ge=Z):(R[ge]=X,R[q]=W,ge=q);else if(Z<be&&0>o(le,W))R[ge]=le,R[Z]=W,ge=Z;else break e}}return V}function o(R,V){var W=R.sortIndex-V.sortIndex;return W!==0?W:R.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],g=[],y=1,b=null,_=3,w=!1,O=!1,N=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function B(R){for(var V=r(g);V!==null;){if(V.callback===null)l(g);else if(V.startTime<=R)l(g),V.sortIndex=V.expirationTime,n(m,V);else break;V=r(g)}}function Y(R){if(N=!1,B(R),!O)if(r(m)!==null)O=!0,Q||(Q=!0,pe());else{var V=r(g);V!==null&&J(Y,V.startTime-R)}}var Q=!1,K=-1,P=5,F=-1;function me(){return j?!0:!(a.unstable_now()-F<P)}function ce(){if(j=!1,Q){var R=a.unstable_now();F=R;var V=!0;try{e:{O=!1,N&&(N=!1,D(K),K=-1),w=!0;var W=_;try{t:{for(B(R),b=r(m);b!==null&&!(b.expirationTime>R&&me());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,_=b.priorityLevel;var be=ge(b.expirationTime<=R);if(R=a.unstable_now(),typeof be=="function"){b.callback=be,B(R),V=!0;break t}b===r(m)&&l(m),B(R)}else l(m);b=r(m)}if(b!==null)V=!0;else{var T=r(g);T!==null&&J(Y,T.startTime-R),V=!1}}break e}finally{b=null,_=W,w=!1}V=void 0}}finally{V?pe():Q=!1}}}var pe;if(typeof U=="function")pe=function(){U(ce)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ee=De.port2;De.port1.onmessage=ce,pe=function(){Ee.postMessage(null)}}else pe=function(){H(ce,0)};function J(R,V){K=H(function(){R(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(R){switch(_){case 1:case 2:case 3:var V=3;break;default:V=_}var W=_;_=V;try{return R()}finally{_=W}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=_;_=R;try{return V()}finally{_=W}},a.unstable_scheduleCallback=function(R,V,W){var ge=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ge+W:ge):W=ge,R){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=W+be,R={id:y++,callback:V,priorityLevel:R,startTime:W,expirationTime:be,sortIndex:-1},W>ge?(R.sortIndex=W,n(g,R),r(m)===null&&R===r(g)&&(N?(D(K),K=-1):N=!0,J(Y,W-ge))):(R.sortIndex=be,n(m,R),O||w||(O=!0,Q||(Q=!0,pe()))),R},a.unstable_shouldYield=me,a.unstable_wrapCallback=function(R){var V=_;return function(){var W=_;_=V;try{return R.apply(this,arguments)}finally{_=W}}}})(vd)),vd}var vv;function jb(){return vv||(vv=1,gd.exports=Nb()),gd.exports}var yd={exports:{}},kt={};var yv;function Mb(){if(yv)return kt;yv=1;var a=af();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,kt.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(m,g,null,y)},kt.flushSync=function(m){var g=f.T,y=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=y,l.d.f()}},kt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},kt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},kt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):y==="script"&&l.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},kt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);l.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kt.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},kt.requestFormReset=function(m){l.d.r(m)},kt.unstable_batchedUpdates=function(m,g){return m(g)},kt.useFormState=function(m,g,y){return f.H.useFormState(m,g,y)},kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},kt.version="19.2.4",kt}var pv;function vy(){if(pv)return yd.exports;pv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),yd.exports=Mb(),yd.exports}var bv;function kb(){if(bv)return ps;bv=1;var a=jb(),n=af(),r=vy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,s=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return m(u),e;if(d===s)return m(u),t;d=d.sibling}throw Error(l(188))}if(i.return!==s.return)i=u,s=d;else{for(var v=!1,p=u.child;p;){if(p===i){v=!0,i=u,s=d;break}if(p===s){v=!0,s=u,i=d;break}p=p.sibling}if(!v){for(p=d.child;p;){if(p===i){v=!0,i=d,s=u;break}if(p===s){v=!0,s=d,i=u;break}p=p.sibling}if(!v)throw Error(l(189))}}if(i.alternate!==s)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case U:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var J=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ge=[],be=-1;function T(e){return{current:e}}function q(e){0>be||(e.current=ge[be],ge[be]=null,be--)}function X(e,t){be++,ge[be]=e.current,e.current=t}var Z=T(null),le=T(null),re=T(null),Se=T(null);function ke(e,t){switch(X(re,t),X(le,e),X(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kg(t),e=zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(Z),X(Z,e)}function te(){q(Z),q(le),q(re)}function ve(e){e.memoizedState!==null&&X(Se,e);var t=Z.current,i=zg(t,e.type);t!==i&&(X(le,e),X(Z,i))}function it(e){le.current===e&&(q(Z),q(le)),Se.current===e&&(q(Se),hs._currentValue=W)}var Xe,Nt;function $e(e){if(Xe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Nt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+e+Nt}var ae=!1;function Ye(e,t){if(!e||ae)return"";ae=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var z=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){z=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){z=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&z&&typeof L.stack=="string")return[L.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),v=d[0],p=d[1];if(v&&p){var S=v.split(`
`),k=p.split(`
`);for(u=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(s===S.length||u===k.length)for(s=S.length-1,u=k.length-1;1<=s&&0<=u&&S[s]!==k[u];)u--;for(;1<=s&&0<=u;s--,u--)if(S[s]!==k[u]){if(s!==1||u!==1)do if(s--,u--,0>u||S[s]!==k[u]){var I=`
`+S[s].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=s&&0<=u);break}}}finally{ae=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?$e(i):""}function yt(e,t){switch(e.tag){case 26:case 27:case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return e.child!==t&&t!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Ye(e.type,!1);case 11:return Ye(e.type.render,!1);case 1:return Ye(e.type,!0);case 31:return $e("Activity");default:return""}}function Fe(e){try{var t="",i=null;do t+=yt(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var zt=Object.prototype.hasOwnProperty,We=a.unstable_scheduleCallback,ct=a.unstable_cancelCallback,Wt=a.unstable_shouldYield,Hn=a.unstable_requestPaint,ze=a.unstable_now,en=a.unstable_getCurrentPriorityLevel,jt=a.unstable_ImmediatePriority,It=a.unstable_UserBlockingPriority,tn=a.unstable_NormalPriority,In=a.unstable_LowPriority,Xa=a.unstable_IdlePriority,mn=a.log,Qa=a.unstable_setDisableYieldValue,Xn=null,Et=null;function Ut(e){if(typeof mn=="function"&&Qa(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Xn,e)}catch{}}var dt=Math.clz32?Math.clz32:nu,tu=Math.log,Xs=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(tu(e)/Xs|0)|0}var Ti=256,xi=262144,et=4194304;function tt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pt(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var u=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~d,s!==0?u=tt(s):(v&=p,v!==0?u=tt(v):i||(i=p&~e,i!==0&&(u=tt(i))))):(p=s&~d,p!==0?u=tt(p):v!==0?u=tt(v):i||(i=s&~e,i!==0&&(u=tt(i)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:u}function $t(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var e=et;return et<<=1,(et&62914560)===0&&(et=4194304),e}function Yt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ft(e,t,i,s,u,d){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,k=e.hiddenUpdates;for(i=v&~i;0<i;){var I=31-dt(i),G=1<<I;p[I]=0,S[I]=-1;var z=k[I];if(z!==null)for(k[I]=null,I=0;I<z.length;I++){var L=z[I];L!==null&&(L.lane&=-536870913)}i&=~G}s!==0&&Cn(e,s,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function Cn(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function nn(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-dt(i),u=1<<s;u&t|e[s]&t&&(e[s]|=t),i&=~u}}function vn(e,t){var i=t&-t;return i=(i&42)!==0?1:Qn(i),(i&(e.suspendedLanes|t))!==0?0:i}function Qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nn(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:iv(e.type))}function pa(e,t){var i=V.p;try{return V.p=e,t()}finally{V.p=i}}var yn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+yn,Vt="__reactProps$"+yn,Ai="__reactContainer$"+yn,au="__reactEvents$"+yn,vp="__reactListeners$"+yn,yp="__reactHandles$"+yn,wf="__reactResources$"+yn,Or="__reactMarker$"+yn;function iu(e){delete e[Tt],delete e[Vt],delete e[au],delete e[vp],delete e[yp]}function Ri(e){var t=e[Tt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ai]||i[Tt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=$g(e);e!==null;){if(i=e[Tt])return i;e=$g(e)}return t}e=i,i=e.parentNode}return null}function Oi(e){if(e=e[Tt]||e[Ai]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Dr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Di(e){var t=e[wf];return t||(t=e[wf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[Or]=!0}var Sf=new Set,Ef={};function Ja(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(Ef[e]=t,e=0;e<t.length;e++)Sf.add(t[e])}var pp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},xf={};function bp(e){return zt.call(xf,e)?!0:zt.call(Tf,e)?!1:pp.test(e)?xf[e]=!0:(Tf[e]=!0,!1)}function Qs(e,t,i){if(bp(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Js(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Zn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _p(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){i=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){if(!e._valueTracker){var t=Af(e)?"checked":"value";e._valueTracker=_p(e,t,""+e[t])}}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Af(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wp=/[\n"\\]/g;function bn(e){return e.replace(wp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function su(e,t,i,s,u,d,v,p){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?lu(e,v,pn(t)):i!=null?lu(e,v,pn(i)):s!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+pn(p):e.removeAttribute("name")}function Of(e,t,i,s,u,d,v,p){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ru(e);return}i=i!=null?""+pn(i):"",t=t!=null?""+pn(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ru(e)}function lu(e,t,i){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ni(e,t,i,s){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+pn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Df(e,t,i){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+pn(i):""}function Cf(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(l(92));if(J(s)){if(1<s.length)throw Error(l(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=pn(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),ru(e)}function ji(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Sp.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function jf(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&i[u]!==s&&Nf(e,u,s)}else for(var d in t)t.hasOwnProperty(d)&&Nf(e,d,t[d])}function ou(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(e){return Tp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var uu=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,ki=null;function Mf(e){var t=Oi(e);if(t&&(e=t.stateNode)){var i=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(su(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var u=s[Vt]||null;if(!u)throw Error(l(90));su(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Rf(s)}break e;case"textarea":Df(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ni(e,!!i.multiple,t,!1)}}}var du=!1;function kf(e,t,i){if(du)return e(t,i);du=!0;try{var s=e(t);return s}finally{if(du=!1,(Mi!==null||ki!==null)&&(Bl(),Mi&&(t=Mi,e=ki,ki=Mi=null,Mf(t),e)))for(t=0;t<e.length;t++)Mf(e[t])}}function Cr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[Vt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(Fn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){fu=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{fu=!1}var ba=null,hu=null,Fs=null;function zf(){if(Fs)return Fs;var e,t=hu,i=t.length,s,u="value"in ba?ba.value:ba.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var v=i-e;for(s=1;s<=v&&t[i-s]===u[d-s];s++);return Fs=u.slice(e,1<s?1-s:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function Uf(){return!1}function Kt(e){function t(i,s,u,d,v){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(d):d[p]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?el:Uf,this.isPropagationStopped=Uf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Kt(Za),jr=b({},Za,{view:0,detail:0}),xp=Kt(jr),mu,gu,Mr,nl=b({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(mu=e.screenX-Mr.screenX,gu=e.screenY-Mr.screenY):gu=mu=0,Mr=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),Lf=Kt(nl),Ap=b({},nl,{dataTransfer:0}),Rp=Kt(Ap),Op=b({},jr,{relatedTarget:0}),vu=Kt(Op),Dp=b({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=Kt(Dp),Np=b({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Kt(Np),Mp=b({},Za,{data:0}),Bf=Kt(Mp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function yu(){return Lp}var Bp=b({},jr,{key:function(e){if(e.key){var t=kp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qp=Kt(Bp),Hp=b({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=Kt(Hp),Ip=b({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),$p=Kt(Ip),Gp=b({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yp=Kt(Gp),Vp=b({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=Kt(Vp),Xp=b({},Za,{newState:0,oldState:0}),Qp=Kt(Xp),Jp=[9,13,27,32],pu=Fn&&"CompositionEvent"in window,kr=null;Fn&&"documentMode"in document&&(kr=document.documentMode);var Zp=Fn&&"TextEvent"in window&&!kr,Hf=Fn&&(!pu||kr&&8<kr&&11>=kr),If=" ",$f=!1;function Gf(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function Pp(e,t){switch(e){case"compositionend":return Yf(t);case"keypress":return t.which!==32?null:($f=!0,If);case"textInput":return e=t.data,e===If&&$f?null:e;default:return null}}function Fp(e,t){if(zi)return e==="compositionend"||!pu&&Gf(e,t)?(e=zf(),Fs=hu=ba=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function Kf(e,t,i,s){Mi?ki?ki.push(s):ki=[s]:Mi=s,t=Vl(t,"onChange"),0<t.length&&(i=new tl("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var zr=null,Ur=null;function e0(e){Og(e,0)}function al(e){var t=Dr(e);if(Rf(t))return e}function Xf(e,t){if(e==="change")return t}var Qf=!1;if(Fn){var bu;if(Fn){var _u="oninput"in document;if(!_u){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),_u=typeof Jf.oninput=="function"}bu=_u}else bu=!1;Qf=bu&&(!document.documentMode||9<document.documentMode)}function Zf(){zr&&(zr.detachEvent("onpropertychange",Pf),Ur=zr=null)}function Pf(e){if(e.propertyName==="value"&&al(Ur)){var t=[];Kf(t,Ur,e,cu(e)),kf(e0,t)}}function t0(e,t,i){e==="focusin"?(Zf(),zr=t,Ur=i,zr.attachEvent("onpropertychange",Pf)):e==="focusout"&&Zf()}function n0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Ur)}function a0(e,t){if(e==="click")return al(t)}function i0(e,t){if(e==="input"||e==="change")return al(t)}function r0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:r0;function Lr(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!zt.call(t,u)||!an(e[u],t[u]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wf(e,t){var i=Ff(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ff(i)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Zs(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var s0=Fn&&"documentMode"in document&&11>=document.documentMode,Ui=null,Su=null,Br=null,Eu=!1;function nh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Eu||Ui==null||Ui!==Zs(s)||(s=Ui,"selectionStart"in s&&wu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Br&&Lr(Br,s)||(Br=s,s=Vl(Su,"onSelect"),0<s.length&&(t=new tl("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ui)))}function Pa(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Li={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Tu={},ah={};Fn&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Fa(e){if(Tu[e])return Tu[e];if(!Li[e])return e;var t=Li[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ah)return Tu[e]=t[i];return e}var ih=Fa("animationend"),rh=Fa("animationiteration"),sh=Fa("animationstart"),l0=Fa("transitionrun"),o0=Fa("transitionstart"),u0=Fa("transitioncancel"),lh=Fa("transitionend"),oh=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function jn(e,t){oh.set(e,t),Ja(t,[e])}var il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],Bi=0,Au=0;function rl(){for(var e=Bi,t=Au=Bi=0;t<e;){var i=_n[t];_n[t++]=null;var s=_n[t];_n[t++]=null;var u=_n[t];_n[t++]=null;var d=_n[t];if(_n[t++]=null,s!==null&&u!==null){var v=s.pending;v===null?u.next=u:(u.next=v.next,v.next=u),s.pending=u}d!==0&&uh(i,u,d)}}function sl(e,t,i,s){_n[Bi++]=e,_n[Bi++]=t,_n[Bi++]=i,_n[Bi++]=s,Au|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ru(e,t,i,s){return sl(e,t,i,s),ll(e)}function Wa(e,t){return sl(e,null,null,t),ll(e)}function uh(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var u=!1,d=e.return;d!==null;)d.childLanes|=i,s=d.alternate,s!==null&&(s.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-dt(i),e=d.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=i|536870912),d):null}function ll(e){if(50<ss)throw ss=0,Uc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qi={};function c0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,i,s){return new c0(e,t,i,s)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var i=e.alternate;return i===null?(i=rn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ch(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ol(e,t,i,s,u,d){var v=0;if(s=e,typeof e=="function")Ou(e)&&(v=1);else if(typeof e=="string")v=gb(e,i,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=rn(31,i,t,u),e.elementType=F,e.lanes=d,e;case N:return ei(i.children,u,d,t);case j:v=8,u|=24;break;case H:return e=rn(12,i,t,u|2),e.elementType=H,e.lanes=d,e;case Y:return e=rn(13,i,t,u),e.elementType=Y,e.lanes=d,e;case Q:return e=rn(19,i,t,u),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:v=10;break e;case D:v=9;break e;case B:v=11;break e;case K:v=14;break e;case P:v=16,s=null;break e}v=29,i=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=rn(v,i,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function ei(e,t,i,s){return e=rn(7,e,s,t),e.lanes=i,e}function Du(e,t,i){return e=rn(6,e,null,t),e.lanes=i,e}function dh(e){var t=rn(18,null,null,0);return t.stateNode=e,t}function Cu(e,t,i){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fh=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var i=fh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Fe(t)},fh.set(e,t),t)}return{value:e,source:t,stack:Fe(t)}}var Hi=[],Ii=0,ul=null,qr=0,Sn=[],En=0,_a=null,$n=1,Gn="";function ea(e,t){Hi[Ii++]=qr,Hi[Ii++]=ul,ul=e,qr=t}function hh(e,t,i){Sn[En++]=$n,Sn[En++]=Gn,Sn[En++]=_a,_a=e;var s=$n;e=Gn;var u=32-dt(s)-1;s&=~(1<<u),i+=1;var d=32-dt(t)+u;if(30<d){var v=u-u%5;d=(s&(1<<v)-1).toString(32),s>>=v,u-=v,$n=1<<32-dt(t)+u|i<<u|s,Gn=d+e}else $n=1<<d|i<<u|s,Gn=e}function Nu(e){e.return!==null&&(ea(e,1),hh(e,1,0))}function ju(e){for(;e===ul;)ul=Hi[--Ii],Hi[Ii]=null,qr=Hi[--Ii],Hi[Ii]=null;for(;e===_a;)_a=Sn[--En],Sn[En]=null,Gn=Sn[--En],Sn[En]=null,$n=Sn[--En],Sn[En]=null}function mh(e,t){Sn[En++]=$n,Sn[En++]=Gn,Sn[En++]=_a,$n=t.id,Gn=t.overflow,_a=e}var xt=null,Ve=null,Oe=!1,wa=null,Tn=!1,Mu=Error(l(519));function Sa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hr(wn(t,e)),Mu}function gh(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[Tt]=e,t[Vt]=s,i){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(i=0;i<os.length;i++)xe(os[i],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Of(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Cf(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||jg(t.textContent,i)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||Sa(e,!0)}function vh(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:xt=xt.return}}function $i(e){if(e!==xt)return!1;if(!Oe)return vh(e),Oe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Pc(e.type,e.memoizedProps)),i=!i),i&&Ve&&Sa(e),vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=Ig(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=Ig(e)}else t===27?(t=Ve,Ua(e.type)?(e=nd,nd=null,Ve=e):Ve=t):Ve=xt?An(e.stateNode.nextSibling):null;return!0}function ti(){Ve=xt=null,Oe=!1}function ku(){var e=wa;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),wa=null),e}function Hr(e){wa===null?wa=[e]:wa.push(e)}var zu=T(null),ni=null,ta=null;function Ea(e,t,i){X(zu,t._currentValue),t._currentValue=i}function na(e){e._currentValue=zu.current,q(zu)}function Uu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Lu(e,t,i,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var p=d;d=u;for(var S=0;S<t.length;S++)if(p.context===t[S]){d.lanes|=i,p=d.alternate,p!==null&&(p.lanes|=i),Uu(d.return,i,e),s||(v=null);break e}d=p.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(l(341));v.lanes|=i,d=v.alternate,d!==null&&(d.lanes|=i),Uu(v,i,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function Gi(e,t,i,s){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var p=u.type;an(u.pendingProps.value,v.value)||(e!==null?e.push(p):e=[p])}}else if(u===Se.current){if(v=u.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(hs):e=[hs])}u=u.return}e!==null&&Lu(t,e,i,s),t.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ai(e){ni=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return yh(ni,e)}function dl(e,t){return ni===null&&ai(e),yh(e,t)}function yh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ta===null){if(e===null)throw Error(l(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return i}var d0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},f0=a.unstable_scheduleCallback,h0=a.unstable_NormalPriority,rt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new d0,data:new Map,refCount:0}}function Ir(e){e.refCount--,e.refCount===0&&f0(h0,function(){e.controller.abort()})}var $r=null,qu=0,Yi=0,Vi=null;function m0(e,t){if($r===null){var i=$r=[];qu=0,Yi=$c(),Vi={status:"pending",value:void 0,then:function(s){i.push(s)}}}return qu++,t.then(ph,ph),t}function ph(){if(--qu===0&&$r!==null){Vi!==null&&(Vi.status="fulfilled");var e=$r;$r=null,Yi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function g0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var bh=R.S;R.S=function(e,t){ng=ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&m0(e,t),bh!==null&&bh(e,t)};var ii=T(null);function Hu(){var e=ii.current;return e!==null?e:Ie.pooledCache}function fl(e,t){t===null?X(ii,ii.current):X(ii,t.pool)}function _h(){var e=Hu();return e===null?null:{parent:rt._currentValue,pool:e}}var Ki=Error(l(460)),Iu=Error(l(474)),hl=Error(l(542)),ml={then:function(){}};function wh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Pn,Pn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Th(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Th(e),e}throw si=t,Ki}}function ri(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(si=i,Ki):i}}var si=null;function Eh(){if(si===null)throw Error(l(459));var e=si;return si=null,e}function Th(e){if(e===Ki||e===hl)throw Error(l(483))}var Xi=null,Gr=0;function gl(e){var t=Gr;return Gr+=1,Xi===null&&(Xi=[]),Sh(Xi,e,t)}function Yr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vl(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xh(e){function t(C,x){if(e){var M=C.deletions;M===null?(C.deletions=[x],C.flags|=16):M.push(x)}}function i(C,x){if(!e)return null;for(;x!==null;)t(C,x),x=x.sibling;return null}function s(C){for(var x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function u(C,x){return C=Wn(C,x),C.index=0,C.sibling=null,C}function d(C,x,M){return C.index=M,e?(M=C.alternate,M!==null?(M=M.index,M<x?(C.flags|=67108866,x):M):(C.flags|=67108866,x)):(C.flags|=1048576,x)}function v(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function p(C,x,M,$){return x===null||x.tag!==6?(x=Du(M,C.mode,$),x.return=C,x):(x=u(x,M),x.return=C,x)}function S(C,x,M,$){var se=M.type;return se===N?I(C,x,M.props.children,$,M.key):x!==null&&(x.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===P&&ri(se)===x.type)?(x=u(x,M.props),Yr(x,M),x.return=C,x):(x=ol(M.type,M.key,M.props,null,C.mode,$),Yr(x,M),x.return=C,x)}function k(C,x,M,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==M.containerInfo||x.stateNode.implementation!==M.implementation?(x=Cu(M,C.mode,$),x.return=C,x):(x=u(x,M.children||[]),x.return=C,x)}function I(C,x,M,$,se){return x===null||x.tag!==7?(x=ei(M,C.mode,$,se),x.return=C,x):(x=u(x,M),x.return=C,x)}function G(C,x,M){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Du(""+x,C.mode,M),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return M=ol(x.type,x.key,x.props,null,C.mode,M),Yr(M,x),M.return=C,M;case O:return x=Cu(x,C.mode,M),x.return=C,x;case P:return x=ri(x),G(C,x,M)}if(J(x)||pe(x))return x=ei(x,C.mode,M,null),x.return=C,x;if(typeof x.then=="function")return G(C,gl(x),M);if(x.$$typeof===U)return G(C,dl(C,x),M);vl(C,x)}return null}function z(C,x,M,$){var se=x!==null?x.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return se!==null?null:p(C,x,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return M.key===se?S(C,x,M,$):null;case O:return M.key===se?k(C,x,M,$):null;case P:return M=ri(M),z(C,x,M,$)}if(J(M)||pe(M))return se!==null?null:I(C,x,M,$,null);if(typeof M.then=="function")return z(C,x,gl(M),$);if(M.$$typeof===U)return z(C,x,dl(C,M),$);vl(C,M)}return null}function L(C,x,M,$,se){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return C=C.get(M)||null,p(x,C,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return C=C.get($.key===null?M:$.key)||null,S(x,C,$,se);case O:return C=C.get($.key===null?M:$.key)||null,k(x,C,$,se);case P:return $=ri($),L(C,x,M,$,se)}if(J($)||pe($))return C=C.get(M)||null,I(x,C,$,se,null);if(typeof $.then=="function")return L(C,x,M,gl($),se);if($.$$typeof===U)return L(C,x,M,dl(x,$),se);vl(x,$)}return null}function ee(C,x,M,$){for(var se=null,Ce=null,ne=x,we=x=0,Re=null;ne!==null&&we<M.length;we++){ne.index>we?(Re=ne,ne=null):Re=ne.sibling;var Ne=z(C,ne,M[we],$);if(Ne===null){ne===null&&(ne=Re);break}e&&ne&&Ne.alternate===null&&t(C,ne),x=d(Ne,x,we),Ce===null?se=Ne:Ce.sibling=Ne,Ce=Ne,ne=Re}if(we===M.length)return i(C,ne),Oe&&ea(C,we),se;if(ne===null){for(;we<M.length;we++)ne=G(C,M[we],$),ne!==null&&(x=d(ne,x,we),Ce===null?se=ne:Ce.sibling=ne,Ce=ne);return Oe&&ea(C,we),se}for(ne=s(ne);we<M.length;we++)Re=L(ne,C,we,M[we],$),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?we:Re.key),x=d(Re,x,we),Ce===null?se=Re:Ce.sibling=Re,Ce=Re);return e&&ne.forEach(function(Ia){return t(C,Ia)}),Oe&&ea(C,we),se}function ue(C,x,M,$){if(M==null)throw Error(l(151));for(var se=null,Ce=null,ne=x,we=x=0,Re=null,Ne=M.next();ne!==null&&!Ne.done;we++,Ne=M.next()){ne.index>we?(Re=ne,ne=null):Re=ne.sibling;var Ia=z(C,ne,Ne.value,$);if(Ia===null){ne===null&&(ne=Re);break}e&&ne&&Ia.alternate===null&&t(C,ne),x=d(Ia,x,we),Ce===null?se=Ia:Ce.sibling=Ia,Ce=Ia,ne=Re}if(Ne.done)return i(C,ne),Oe&&ea(C,we),se;if(ne===null){for(;!Ne.done;we++,Ne=M.next())Ne=G(C,Ne.value,$),Ne!==null&&(x=d(Ne,x,we),Ce===null?se=Ne:Ce.sibling=Ne,Ce=Ne);return Oe&&ea(C,we),se}for(ne=s(ne);!Ne.done;we++,Ne=M.next())Ne=L(ne,C,we,Ne.value,$),Ne!==null&&(e&&Ne.alternate!==null&&ne.delete(Ne.key===null?we:Ne.key),x=d(Ne,x,we),Ce===null?se=Ne:Ce.sibling=Ne,Ce=Ne);return e&&ne.forEach(function(Ab){return t(C,Ab)}),Oe&&ea(C,we),se}function He(C,x,M,$){if(typeof M=="object"&&M!==null&&M.type===N&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case w:e:{for(var se=M.key;x!==null;){if(x.key===se){if(se=M.type,se===N){if(x.tag===7){i(C,x.sibling),$=u(x,M.props.children),$.return=C,C=$;break e}}else if(x.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===P&&ri(se)===x.type){i(C,x.sibling),$=u(x,M.props),Yr($,M),$.return=C,C=$;break e}i(C,x);break}else t(C,x);x=x.sibling}M.type===N?($=ei(M.props.children,C.mode,$,M.key),$.return=C,C=$):($=ol(M.type,M.key,M.props,null,C.mode,$),Yr($,M),$.return=C,C=$)}return v(C);case O:e:{for(se=M.key;x!==null;){if(x.key===se)if(x.tag===4&&x.stateNode.containerInfo===M.containerInfo&&x.stateNode.implementation===M.implementation){i(C,x.sibling),$=u(x,M.children||[]),$.return=C,C=$;break e}else{i(C,x);break}else t(C,x);x=x.sibling}$=Cu(M,C.mode,$),$.return=C,C=$}return v(C);case P:return M=ri(M),He(C,x,M,$)}if(J(M))return ee(C,x,M,$);if(pe(M)){if(se=pe(M),typeof se!="function")throw Error(l(150));return M=se.call(M),ue(C,x,M,$)}if(typeof M.then=="function")return He(C,x,gl(M),$);if(M.$$typeof===U)return He(C,x,dl(C,M),$);vl(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,x!==null&&x.tag===6?(i(C,x.sibling),$=u(x,M),$.return=C,C=$):(i(C,x),$=Du(M,C.mode,$),$.return=C,C=$),v(C)):i(C,x)}return function(C,x,M,$){try{Gr=0;var se=He(C,x,M,$);return Xi=null,se}catch(ne){if(ne===Ki||ne===hl)throw ne;var Ce=rn(29,ne,null,C.mode);return Ce.lanes=$,Ce.return=C,Ce}}}var li=xh(!0),Ah=xh(!1),Ta=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=ll(e),uh(e,null,i),t}return sl(e,s,t,i),ll(e)}function Vr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,nn(e,i)}}function Yu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Vu=!1;function Kr(){if(Vu){var e=Vi;if(e!==null)throw e}}function Xr(e,t,i,s){Vu=!1;var u=e.updateQueue;Ta=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var S=p,k=S.next;S.next=null,v===null?d=k:v.next=k,v=S;var I=e.alternate;I!==null&&(I=I.updateQueue,p=I.lastBaseUpdate,p!==v&&(p===null?I.firstBaseUpdate=k:p.next=k,I.lastBaseUpdate=S))}if(d!==null){var G=u.baseState;v=0,I=k=S=null,p=d;do{var z=p.lane&-536870913,L=z!==p.lane;if(L?(Ae&z)===z:(s&z)===z){z!==0&&z===Yi&&(Vu=!0),I!==null&&(I=I.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ee=e,ue=p;z=t;var He=i;switch(ue.tag){case 1:if(ee=ue.payload,typeof ee=="function"){G=ee.call(He,G,z);break e}G=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ue.payload,z=typeof ee=="function"?ee.call(He,G,z):ee,z==null)break e;G=b({},G,z);break e;case 2:Ta=!0}}z=p.callback,z!==null&&(e.flags|=64,L&&(e.flags|=8192),L=u.callbacks,L===null?u.callbacks=[z]:L.push(z))}else L={lane:z,tag:p.tag,payload:p.payload,callback:p.callback,next:null},I===null?(k=I=L,S=G):I=I.next=L,v|=z;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;L=p,p=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);I===null&&(S=G),u.baseState=S,u.firstBaseUpdate=k,u.lastBaseUpdate=I,d===null&&(u.shared.lanes=0),Na|=v,e.lanes=v,e.memoizedState=G}}function Rh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Oh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Rh(i[e],t)}var Qi=T(null),yl=T(0);function Dh(e,t){e=da,X(yl,e),X(Qi,t),da=e|t.baseLanes}function Ku(){X(yl,da),X(Qi,Qi.current)}function Xu(){da=yl.current,q(Qi),q(yl)}var sn=T(null),xn=null;function Ra(e){var t=e.alternate;X(nt,nt.current&1),X(sn,e),xn===null&&(t===null||Qi.current!==null||t.memoizedState!==null)&&(xn=e)}function Qu(e){X(nt,nt.current),X(sn,e),xn===null&&(xn=e)}function Ch(e){e.tag===22?(X(nt,nt.current),X(sn,e),xn===null&&(xn=e)):Oa()}function Oa(){X(nt,nt.current),X(sn,sn.current)}function ln(e){q(sn),xn===e&&(xn=null),q(nt)}var nt=T(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ed(i)||td(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=0,_e=null,Be=null,st=null,bl=!1,Ji=!1,oi=!1,_l=0,Qr=0,Zi=null,v0=0;function Je(){throw Error(l(321))}function Ju(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function Zu(e,t,i,s,u,d){return aa=d,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?hm:dc,oi=!1,d=i(s,u),oi=!1,Ji&&(d=jh(t,i,s,u)),Nh(e),d}function Nh(e){R.H=Pr;var t=Be!==null&&Be.next!==null;if(aa=0,st=Be=_e=null,bl=!1,Qr=0,Zi=null,t)throw Error(l(300));e===null||lt||(e=e.dependencies,e!==null&&cl(e)&&(lt=!0))}function jh(e,t,i,s){_e=e;var u=0;do{if(Ji&&(Zi=null),Qr=0,Ji=!1,25<=u)throw Error(l(301));if(u+=1,st=Be=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=mm,d=t(i,s)}while(Ji);return d}function y0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Jr(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(_e.flags|=1024),t}function Pu(){var e=_l!==0;return _l=0,e}function Fu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Wu(e){if(bl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bl=!1}aa=0,st=Be=_e=null,Ji=!1,Qr=_l=0,Zi=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?_e.memoizedState=st=e:st=st.next=e,st}function at(){if(Be===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=st===null?_e.memoizedState:st.next;if(t!==null)st=t,Be=e;else{if(e===null)throw _e.alternate===null?Error(l(467)):Error(l(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},st===null?_e.memoizedState=st=e:st=st.next=e}return st}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jr(e){var t=Qr;return Qr+=1,Zi===null&&(Zi=[]),e=Sh(Zi,e,t),t=_e,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?hm:dc),e}function Sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jr(e);if(e.$$typeof===U)return At(e)}throw Error(l(438,String(e)))}function ec(e){var t=null,i=_e.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=_e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=wl(),_e.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=me;return t.index++,i}function ia(e,t){return typeof t=="function"?t(e):t}function El(e){var t=at();return tc(t,Be,e)}function tc(e,t,i){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=i;var u=e.baseQueue,d=s.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}t.baseQueue=u=d,s.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var p=v=null,S=null,k=t,I=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(Ae&G)===G:(aa&G)===G){var z=k.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===Yi&&(I=!0);else if((aa&z)===z){k=k.next,z===Yi&&(I=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(p=S=G,v=d):S=S.next=G,_e.lanes|=z,Na|=z;G=k.action,oi&&i(d,G),d=k.hasEagerState?k.eagerState:i(d,G)}else z={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(p=S=z,v=d):S=S.next=z,_e.lanes|=G,Na|=G;k=k.next}while(k!==null&&k!==t);if(S===null?v=d:S.next=p,!an(d,e.memoizedState)&&(lt=!0,I&&(i=Vi,i!==null)))throw i;e.memoizedState=d,e.baseState=v,e.baseQueue=S,s.lastRenderedState=d}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function nc(e){var t=at(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var v=u=u.next;do d=e(d,v.action),v=v.next;while(v!==u);an(d,t.memoizedState)||(lt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,s]}function Mh(e,t,i){var s=_e,u=at(),d=Oe;if(d){if(i===void 0)throw Error(l(407));i=i()}else i=t();var v=!an((Be||u).memoizedState,i);if(v&&(u.memoizedState=i,lt=!0),u=u.queue,rc(Uh.bind(null,s,u,e),[e]),u.getSnapshot!==t||v||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Pi(9,{destroy:void 0},zh.bind(null,s,u,i,t),null),Ie===null)throw Error(l(349));d||(aa&127)!==0||kh(s,t,i)}return i}function kh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=_e.updateQueue,t===null?(t=wl(),_e.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function zh(e,t,i,s){t.value=i,t.getSnapshot=s,Lh(t)&&Bh(e)}function Uh(e,t,i){return i(function(){Lh(t)&&Bh(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch{return!0}}function Bh(e){var t=Wa(e,2);t!==null&&Pt(t,e,2)}function ac(e){var t=Lt();if(typeof e=="function"){var i=e;if(e=i(),oi){Ut(!0);try{i()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function qh(e,t,i,s){return e.baseState=i,tc(e,Be,typeof s=="function"?s:ia)}function p0(e,t,i,s,u){if(Al(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};R.T!==null?i(!0):d.isTransition=!1,s(d),i=t.pending,i===null?(d.next=t.pending=d,Hh(t,d)):(d.next=i.next,t.pending=i.next=d)}}function Hh(e,t){var i=t.action,s=t.payload,u=e.state;if(t.isTransition){var d=R.T,v={};R.T=v;try{var p=i(u,s),S=R.S;S!==null&&S(v,p),Ih(e,t,p)}catch(k){ic(e,t,k)}finally{d!==null&&v.types!==null&&(d.types=v.types),R.T=d}}else try{d=i(u,s),Ih(e,t,d)}catch(k){ic(e,t,k)}}function Ih(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){$h(e,t,s)},function(s){return ic(e,t,s)}):$h(e,t,i)}function $h(e,t,i){t.status="fulfilled",t.value=i,Gh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Hh(e,i)))}function ic(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Gh(t),t=t.next;while(t!==s)}e.action=null}function Gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yh(e,t){return t}function Vh(e,t){if(Oe){var i=Ie.formState;if(i!==null){e:{var s=_e;if(Oe){if(Ve){t:{for(var u=Ve,d=Tn;u.nodeType!==8;){if(!d){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Ve=An(u.nextSibling),s=u.data==="F!";break e}}Sa(s)}s=!1}s&&(t=i[0])}}return i=Lt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},i.queue=s,i=cm.bind(null,_e,s),s.dispatch=i,s=ac(!1),d=cc.bind(null,_e,!1,s.queue),s=Lt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,i=p0.bind(null,_e,u,d,i),u.dispatch=i,s.memoizedState=e,[t,i,!1]}function Kh(e){var t=at();return Xh(t,Be,e)}function Xh(e,t,i){if(t=tc(e,t,Yh)[0],e=El(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Jr(t)}catch(v){throw v===Ki?hl:v}else s=t;t=at();var u=t.queue,d=u.dispatch;return i!==t.memoizedState&&(_e.flags|=2048,Pi(9,{destroy:void 0},b0.bind(null,u,i),null)),[s,d,e]}function b0(e,t){e.action=t}function Qh(e){var t=at(),i=Be;if(i!==null)return Xh(t,i,e);at(),t=t.memoizedState,i=at();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Pi(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=_e.updateQueue,t===null&&(t=wl(),_e.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Jh(){return at().memoizedState}function Tl(e,t,i,s){var u=Lt();_e.flags|=e,u.memoizedState=Pi(1|t,{destroy:void 0},i,s===void 0?null:s)}function xl(e,t,i,s){var u=at();s=s===void 0?null:s;var d=u.memoizedState.inst;Be!==null&&s!==null&&Ju(s,Be.memoizedState.deps)?u.memoizedState=Pi(t,d,i,s):(_e.flags|=e,u.memoizedState=Pi(1|t,d,i,s))}function Zh(e,t){Tl(8390656,8,e,t)}function rc(e,t){xl(2048,8,e,t)}function _0(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=wl(),_e.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Ph(e){var t=at().memoizedState;return _0({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Fh(e,t){return xl(4,2,e,t)}function Wh(e,t){return xl(4,4,e,t)}function em(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,i){i=i!=null?i.concat([e]):null,xl(4,4,em.bind(null,t,e),i)}function sc(){}function nm(e,t){var i=at();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Ju(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function am(e,t){var i=at();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Ju(t,s[1]))return s[0];if(s=e(),oi){Ut(!0);try{e()}finally{Ut(!1)}}return i.memoizedState=[s,t],s}function lc(e,t,i){return i===void 0||(aa&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=ig(),_e.lanes|=e,Na|=e,i)}function im(e,t,i,s){return an(i,t)?i:Qi.current!==null?(e=lc(e,i,s),an(e,t)||(lt=!0),e):(aa&42)===0||(aa&1073741824)!==0&&(Ae&261930)===0?(lt=!0,e.memoizedState=i):(e=ig(),_e.lanes|=e,Na|=e,t)}function rm(e,t,i,s,u){var d=V.p;V.p=d!==0&&8>d?d:8;var v=R.T,p={};R.T=p,cc(e,!1,t,i);try{var S=u(),k=R.S;if(k!==null&&k(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=g0(S,s);Zr(e,t,I,cn(e))}else Zr(e,t,s,cn(e))}catch(G){Zr(e,t,{then:function(){},status:"rejected",reason:G},cn())}finally{V.p=d,v!==null&&p.types!==null&&(v.types=p.types),R.T=v}}function w0(){}function oc(e,t,i,s){if(e.tag!==5)throw Error(l(476));var u=sm(e).queue;rm(e,u,t,W,i===null?w0:function(){return lm(e),i(s)})}function sm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lm(e){var t=sm(e);t.next===null&&(t=e.alternate.memoizedState),Zr(e,t.next.queue,{},cn())}function uc(){return At(hs)}function om(){return at().memoizedState}function um(){return at().memoizedState}function S0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=cn();e=xa(i);var s=Aa(t,e,i);s!==null&&(Pt(s,t,i),Vr(s,t,i)),t={cache:Bu()},e.payload=t;return}t=t.return}}function E0(e,t,i){var s=cn();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Al(e)?dm(t,i):(i=Ru(e,t,i,s),i!==null&&(Pt(i,e,s),fm(i,t,s)))}function cm(e,t,i){var s=cn();Zr(e,t,i,s)}function Zr(e,t,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Al(e))dm(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,p=d(v,i);if(u.hasEagerState=!0,u.eagerState=p,an(p,v))return sl(e,t,u,0),Ie===null&&rl(),!1}catch{}if(i=Ru(e,t,u,s),i!==null)return Pt(i,e,s),fm(i,t,s),!0}return!1}function cc(e,t,i,s){if(s={lane:2,revertLane:$c(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Al(e)){if(t)throw Error(l(479))}else t=Ru(e,i,s,2),t!==null&&Pt(t,e,2)}function Al(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function dm(e,t){Ji=bl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function fm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,nn(e,i)}}var Pr={readContext:At,use:Sl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Pr.useEffectEvent=Je;var hm={readContext:At,use:Sl,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Zh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Tl(4194308,4,em.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){Tl(4,2,e,t)},useMemo:function(e,t){var i=Lt();t=t===void 0?null:t;var s=e();if(oi){Ut(!0);try{e()}finally{Ut(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Lt();if(i!==void 0){var u=i(t);if(oi){Ut(!0);try{i(t)}finally{Ut(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=E0.bind(null,_e,e),[s.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=ac(e);var t=e.queue,i=cm.bind(null,_e,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:sc,useDeferredValue:function(e,t){var i=Lt();return lc(i,e,t)},useTransition:function(){var e=ac(!1);return e=rm.bind(null,_e,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=_e,u=Lt();if(Oe){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),Ie===null)throw Error(l(349));(Ae&127)!==0||kh(s,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Zh(Uh.bind(null,s,d,e),[e]),s.flags|=2048,Pi(9,{destroy:void 0},zh.bind(null,s,d,i,t),null),i},useId:function(){var e=Lt(),t=Ie.identifierPrefix;if(Oe){var i=Gn,s=$n;i=(s&~(1<<32-dt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=_l++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=v0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uc,useFormState:Vh,useActionState:Vh,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=cc.bind(null,_e,!0,i),i.dispatch=t,[e,t]},useMemoCache:ec,useCacheRefresh:function(){return Lt().memoizedState=S0.bind(null,_e)},useEffectEvent:function(e){var t=Lt(),i={impl:e};return t.memoizedState=i,function(){if((je&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},dc={readContext:At,use:Sl,useCallback:nm,useContext:At,useEffect:rc,useImperativeHandle:tm,useInsertionEffect:Fh,useLayoutEffect:Wh,useMemo:am,useReducer:El,useRef:Jh,useState:function(){return El(ia)},useDebugValue:sc,useDeferredValue:function(e,t){var i=at();return im(i,Be.memoizedState,e,t)},useTransition:function(){var e=El(ia)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Jr(e),t]},useSyncExternalStore:Mh,useId:om,useHostTransitionStatus:uc,useFormState:Kh,useActionState:Kh,useOptimistic:function(e,t){var i=at();return qh(i,Be,e,t)},useMemoCache:ec,useCacheRefresh:um};dc.useEffectEvent=Ph;var mm={readContext:At,use:Sl,useCallback:nm,useContext:At,useEffect:rc,useImperativeHandle:tm,useInsertionEffect:Fh,useLayoutEffect:Wh,useMemo:am,useReducer:nc,useRef:Jh,useState:function(){return nc(ia)},useDebugValue:sc,useDeferredValue:function(e,t){var i=at();return Be===null?lc(i,e,t):im(i,Be.memoizedState,e,t)},useTransition:function(){var e=nc(ia)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Jr(e),t]},useSyncExternalStore:Mh,useId:om,useHostTransitionStatus:uc,useFormState:Qh,useActionState:Qh,useOptimistic:function(e,t){var i=at();return Be!==null?qh(i,Be,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ec,useCacheRefresh:um};mm.useEffectEvent=Ph;function fc(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hc={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=cn(),u=xa(s);u.payload=t,i!=null&&(u.callback=i),t=Aa(e,u,s),t!==null&&(Pt(t,e,s),Vr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=cn(),u=xa(s);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Aa(e,u,s),t!==null&&(Pt(t,e,s),Vr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=cn(),s=xa(i);s.tag=2,t!=null&&(s.callback=t),t=Aa(e,s,i),t!==null&&(Pt(t,e,i),Vr(t,e,i))}};function gm(e,t,i,s,u,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,v):t.prototype&&t.prototype.isPureReactComponent?!Lr(i,s)||!Lr(u,d):!0}function vm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&hc.enqueueReplaceState(t,t.state,null)}function ui(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function ym(e){il(e)}function pm(e){console.error(e)}function bm(e){il(e)}function Rl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function _m(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mc(e,t,i){return i=xa(i),i.tag=3,i.payload={element:null},i.callback=function(){Rl(e,t)},i}function wm(e){return e=xa(e),e.tag=3,e}function Sm(e,t,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;e.payload=function(){return u(d)},e.callback=function(){_m(t,i,s)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){_m(t,i,s),typeof u!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function T0(e,t,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Gi(t,i,u,!0),i=sn.current,i!==null){switch(i.tag){case 31:case 13:return xn===null?ql():i.alternate===null&&Ze===0&&(Ze=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===ml?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),qc(e,s,u)),!1;case 22:return i.flags|=65536,s===ml?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),qc(e,s,u)),!1}throw Error(l(435,i.tag))}return qc(e,s,u),ql(),!1}if(Oe)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Mu&&(e=Error(l(422),{cause:s}),Hr(wn(e,i)))):(s!==Mu&&(t=Error(l(423),{cause:s}),Hr(wn(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=wn(s,i),u=mc(e.stateNode,s,u),Yu(e,u),Ze!==4&&(Ze=2)),!1;var d=Error(l(520),{cause:s});if(d=wn(d,i),rs===null?rs=[d]:rs.push(d),Ze!==4&&(Ze=2),t===null)return!0;s=wn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=mc(i.stateNode,s,e),Yu(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ja===null||!ja.has(d))))return i.flags|=65536,u&=-u,i.lanes|=u,u=wm(u),Sm(u,e,i,s),Yu(i,u),!1}i=i.return}while(i!==null);return!1}var gc=Error(l(461)),lt=!1;function Rt(e,t,i,s){t.child=e===null?Ah(t,null,i,s):li(t,e.child,i,s)}function Em(e,t,i,s,u){i=i.render;var d=t.ref;if("ref"in s){var v={};for(var p in s)p!=="ref"&&(v[p]=s[p])}else v=s;return ai(t),s=Zu(e,t,i,v,d,u),p=Pu(),e!==null&&!lt?(Fu(e,t,u),ra(e,t,u)):(Oe&&p&&Nu(t),t.flags|=1,Rt(e,t,s,u),t.child)}function Tm(e,t,i,s,u){if(e===null){var d=i.type;return typeof d=="function"&&!Ou(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,xm(e,t,d,s,u)):(e=ol(i.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ec(e,u)){var v=d.memoizedProps;if(i=i.compare,i=i!==null?i:Lr,i(v,s)&&e.ref===t.ref)return ra(e,t,u)}return t.flags|=1,e=Wn(d,s),e.ref=t.ref,e.return=t,t.child=e}function xm(e,t,i,s,u){if(e!==null){var d=e.memoizedProps;if(Lr(d,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=d,Ec(e,u))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,ra(e,t,u)}return vc(e,t,i,s,u)}function Am(e,t,i,s){var u=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~d}else s=0,t.child=null;return Rm(e,t,d,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fl(t,d!==null?d.cachePool:null),d!==null?Dh(t,d):Ku(),Ch(t);else return s=t.lanes=536870912,Rm(e,t,d!==null?d.baseLanes|i:i,i,s)}else d!==null?(fl(t,d.cachePool),Dh(t,d),Oa(),t.memoizedState=null):(e!==null&&fl(t,null),Ku(),Oa());return Rt(e,t,u,i),t.child}function Fr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rm(e,t,i,s,u){var d=Hu();return d=d===null?null:{parent:rt._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&fl(t,null),Ku(),Ch(t),e!==null&&Gi(e,t,s,!0),t.childLanes=u,null}function Ol(e,t){return t=Cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Om(e,t,i){return li(t,e.child,null,i),e=Ol(t,t.pendingProps),e.flags|=2,ln(t),t.memoizedState=null,e}function x0(e,t,i){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(s.mode==="hidden")return e=Ol(t,s),t.lanes=536870912,Fr(null,e);if(Qu(t),(e=Ve)?(e=Hg(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_a!==null?{id:$n,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},i=dh(e),i.return=t,t.child=i,xt=t,Ve=null)):e=null,e===null)throw Sa(t);return t.lanes=536870912,null}return Ol(t,s)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Qu(t),u)if(t.flags&256)t.flags&=-257,t=Om(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(lt||Gi(e,t,i,!1),u=(i&e.childLanes)!==0,lt||u){if(s=Ie,s!==null&&(v=vn(s,i),v!==0&&v!==d.retryLane))throw d.retryLane=v,Wa(e,v),Pt(s,e,v),gc;ql(),t=Om(e,t,i)}else e=d.treeContext,Ve=An(v.nextSibling),xt=t,Oe=!0,wa=null,Tn=!1,e!==null&&mh(t,e),t=Ol(t,s),t.flags|=4096;return t}return e=Wn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Dl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function vc(e,t,i,s,u){return ai(t),i=Zu(e,t,i,s,void 0,u),s=Pu(),e!==null&&!lt?(Fu(e,t,u),ra(e,t,u)):(Oe&&s&&Nu(t),t.flags|=1,Rt(e,t,i,u),t.child)}function Dm(e,t,i,s,u,d){return ai(t),t.updateQueue=null,i=jh(t,s,i,u),Nh(e),s=Pu(),e!==null&&!lt?(Fu(e,t,d),ra(e,t,d)):(Oe&&s&&Nu(t),t.flags|=1,Rt(e,t,i,d),t.child)}function Cm(e,t,i,s,u){if(ai(t),t.stateNode===null){var d=qi,v=i.contextType;typeof v=="object"&&v!==null&&(d=At(v)),d=new i(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},$u(t),v=i.contextType,d.context=typeof v=="object"&&v!==null?At(v):qi,d.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(fc(t,i,v,s),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hc.enqueueReplaceState(d,d.state,null),Xr(t,s,d,u),Kr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var p=t.memoizedProps,S=ui(i,p);d.props=S;var k=d.context,I=i.contextType;v=qi,typeof I=="object"&&I!==null&&(v=At(I));var G=i.getDerivedStateFromProps;I=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p||k!==v)&&vm(t,d,s,v),Ta=!1;var z=t.memoizedState;d.state=z,Xr(t,s,d,u),Kr(),k=t.memoizedState,p||z!==k||Ta?(typeof G=="function"&&(fc(t,i,G,s),k=t.memoizedState),(S=Ta||gm(t,i,S,s,z,k,v))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),d.props=s,d.state=k,d.context=v,s=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Gu(e,t),v=t.memoizedProps,I=ui(i,v),d.props=I,G=t.pendingProps,z=d.context,k=i.contextType,S=qi,typeof k=="object"&&k!==null&&(S=At(k)),p=i.getDerivedStateFromProps,(k=typeof p=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==G||z!==S)&&vm(t,d,s,S),Ta=!1,z=t.memoizedState,d.state=z,Xr(t,s,d,u),Kr();var L=t.memoizedState;v!==G||z!==L||Ta||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof p=="function"&&(fc(t,i,p,s),L=t.memoizedState),(I=Ta||gm(t,i,I,s,z,L,S)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,L,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,L,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),d.props=s,d.state=L,d.context=S,s=I):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Dl(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=li(t,e.child,null,u),t.child=li(t,null,i,u)):Rt(e,t,i,u),t.memoizedState=d.state,e=t.child):e=ra(e,t,u),e}function Nm(e,t,i,s){return ti(),t.flags|=256,Rt(e,t,i,s),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(e){return{baseLanes:e,cachePool:_h()}}function bc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=un),e}function jm(e,t,i){var s=t.pendingProps,u=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(u?Ra(t):Oa(),(e=Ve)?(e=Hg(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_a!==null?{id:$n,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},i=dh(e),i.return=t,t.child=i,xt=t,Ve=null)):e=null,e===null)throw Sa(t);return td(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,u?(Oa(),u=t.mode,p=Cl({mode:"hidden",children:p},u),s=ei(s,u,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=pc(i),s.childLanes=bc(e,v,i),t.memoizedState=yc,Fr(null,s)):(Ra(t),_c(t,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(d)t.flags&256?(Ra(t),t.flags&=-257,t=wc(e,t,i)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),p=s.fallback,u=t.mode,s=Cl({mode:"visible",children:s.children},u),p=ei(p,u,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,li(t,e.child,null,i),s=t.child,s.memoizedState=pc(i),s.childLanes=bc(e,v,i),t.memoizedState=yc,t=Fr(null,s));else if(Ra(t),td(p)){if(v=p.nextSibling&&p.nextSibling.dataset,v)var k=v.dgst;v=k,s=Error(l(419)),s.stack="",s.digest=v,Hr({value:s,source:null,stack:null}),t=wc(e,t,i)}else if(lt||Gi(e,t,i,!1),v=(i&e.childLanes)!==0,lt||v){if(v=Ie,v!==null&&(s=vn(v,i),s!==0&&s!==S.retryLane))throw S.retryLane=s,Wa(e,s),Pt(v,e,s),gc;ed(p)||ql(),t=wc(e,t,i)}else ed(p)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ve=An(p.nextSibling),xt=t,Oe=!0,wa=null,Tn=!1,e!==null&&mh(t,e),t=_c(t,s.children),t.flags|=4096);return t}return u?(Oa(),p=s.fallback,u=t.mode,S=e.child,k=S.sibling,s=Wn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,k!==null?p=Wn(k,p):(p=ei(p,u,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Fr(null,s),s=t.child,p=e.child.memoizedState,p===null?p=pc(i):(u=p.cachePool,u!==null?(S=rt._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=_h(),p={baseLanes:p.baseLanes|i,cachePool:u}),s.memoizedState=p,s.childLanes=bc(e,v,i),t.memoizedState=yc,Fr(e.child,s)):(Ra(t),i=e.child,e=i.sibling,i=Wn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=i,t.memoizedState=null,i)}function _c(e,t){return t=Cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cl(e,t){return e=rn(22,e,null,t),e.lanes=0,e}function wc(e,t,i){return li(t,e.child,null,i),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Uu(e.return,t,i)}function Sc(e,t,i,s,u,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=i,v.tailMode=u,v.treeForkCount=d)}function km(e,t,i){var s=t.pendingProps,u=s.revealOrder,d=s.tail;s=s.children;var v=nt.current,p=(v&2)!==0;if(p?(v=v&1|2,t.flags|=128):v&=1,X(nt,v),Rt(e,t,s,i),s=Oe?qr:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mm(e,i,t);else if(e.tag===19)Mm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&pl(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Sc(t,!1,u,i,d,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&pl(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Sc(t,!0,i,null,d,s);break;case"together":Sc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ra(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Gi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=Wn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Wn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function A0(e,t,i){switch(t.tag){case 3:ke(t,t.stateNode.containerInfo),Ea(t,rt,e.memoizedState.cache),ti();break;case 27:case 5:ve(t);break;case 4:ke(t,t.stateNode.containerInfo);break;case 10:Ea(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ra(t),t.flags|=128,null):(i&t.child.childLanes)!==0?jm(e,t,i):(Ra(t),e=ra(e,t,i),e!==null?e.sibling:null);Ra(t);break;case 19:var u=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Gi(e,t,i,!1),s=(i&t.childLanes)!==0),u){if(s)return km(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(nt,nt.current),s)break;return null;case 22:return t.lanes=0,Am(e,t,i,t.pendingProps);case 24:Ea(t,rt,e.memoizedState.cache)}return ra(e,t,i)}function zm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!Ec(e,i)&&(t.flags&128)===0)return lt=!1,A0(e,t,i);lt=(e.flags&131072)!==0}else lt=!1,Oe&&(t.flags&1048576)!==0&&hh(t,qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ri(t.elementType),t.type=e,typeof e=="function")Ou(e)?(s=ui(e,s),t.tag=1,t=Cm(null,t,e,s,i)):(t.tag=0,t=vc(null,t,e,s,i));else{if(e!=null){var u=e.$$typeof;if(u===B){t.tag=11,t=Em(null,t,e,s,i);break e}else if(u===K){t.tag=14,t=Tm(null,t,e,s,i);break e}}throw t=Ee(e)||e,Error(l(306,t,""))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,u=ui(s,t.pendingProps),Cm(e,t,s,u,i);case 3:e:{if(ke(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;u=d.element,Gu(e,t),Xr(t,s,null,i);var v=t.memoizedState;if(s=v.cache,Ea(t,rt,s),s!==d.cache&&Lu(t,[rt],i,!0),Kr(),s=v.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Nm(e,t,s,i);break e}else if(s!==u){u=wn(Error(l(424)),t),Hr(u),t=Nm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ve=An(e.firstChild),xt=t,Oe=!0,wa=null,Tn=!0,i=Ah(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ti(),s===u){t=ra(e,t,i);break e}Rt(e,t,s,i)}t=t.child}return t;case 26:return Dl(e,t),e===null?(i=Kg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Oe||(i=t.type,e=t.pendingProps,s=Kl(re.current).createElement(i),s[Tt]=t,s[Vt]=e,Ot(s,i,e),bt(s),t.stateNode=s):t.memoizedState=Kg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Oe&&(s=t.stateNode=Gg(t.type,t.pendingProps,re.current),xt=t,Tn=!0,u=Ve,Ua(t.type)?(nd=u,Ve=An(s.firstChild)):Ve=u),Rt(e,t,t.pendingProps.children,i),Dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((u=s=Ve)&&(s=nb(s,t.type,t.pendingProps,Tn),s!==null?(t.stateNode=s,xt=t,Ve=An(s.firstChild),Tn=!1,u=!0):u=!1),u||Sa(t)),ve(t),u=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,s=d.children,Pc(u,d)?s=null:v!==null&&Pc(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Zu(e,t,y0,null,null,i),hs._currentValue=u),Dl(e,t),Rt(e,t,s,i),t.child;case 6:return e===null&&Oe&&((e=i=Ve)&&(i=ab(i,t.pendingProps,Tn),i!==null?(t.stateNode=i,xt=t,Ve=null,e=!0):e=!1),e||Sa(t)),null;case 13:return jm(e,t,i);case 4:return ke(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=li(t,null,s,i):Rt(e,t,s,i),t.child;case 11:return Em(e,t,t.type,t.pendingProps,i);case 7:return Rt(e,t,t.pendingProps,i),t.child;case 8:return Rt(e,t,t.pendingProps.children,i),t.child;case 12:return Rt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Ea(t,t.type,s.value),Rt(e,t,s.children,i),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,ai(t),u=At(u),s=s(u),t.flags|=1,Rt(e,t,s,i),t.child;case 14:return Tm(e,t,t.type,t.pendingProps,i);case 15:return xm(e,t,t.type,t.pendingProps,i);case 19:return km(e,t,i);case 31:return x0(e,t,i);case 22:return Am(e,t,i,t.pendingProps);case 24:return ai(t),s=At(rt),e===null?(u=Hu(),u===null&&(u=Ie,d=Bu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=i),u=d),t.memoizedState={parent:s,cache:u},$u(t),Ea(t,rt,u)):((e.lanes&i)!==0&&(Gu(e,t),Xr(t,null,null,i),Kr()),u=e.memoizedState,d=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ea(t,rt,s)):(s=d.cache,Ea(t,rt,s),s!==u.cache&&Lu(t,[rt],i,!0))),Rt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function sa(e){e.flags|=4}function Tc(e,t,i,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw si=ml,Iu}else e.flags&=-16777217}function Um(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pg(t))if(og())e.flags|=8192;else throw si=ml,Iu}function Nl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mt():536870912,e.lanes|=t,tr|=t)}function Wr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function R0(e,t,i){var s=t.pendingProps;switch(ju(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(rt),te(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($i(t)?sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ku())),Ke(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(sa(t),d!==null?(Ke(t),Um(t,d)):(Ke(t),Tc(t,u,null,s,i))):d?d!==e.memoizedState?(sa(t),Ke(t),Um(t,d)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&sa(t),Ke(t),Tc(t,u,e,s,i)),null;case 27:if(it(t),i=re.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&sa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ke(t),null}e=Z.current,$i(t)?gh(t):(e=Gg(u,s,i),t.stateNode=e,sa(t))}return Ke(t),null;case 5:if(it(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&sa(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ke(t),null}if(d=Z.current,$i(t))gh(t);else{var v=Kl(re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?v.createElement(u,{is:s.is}):v.createElement(u)}}d[Tt]=t,d[Vt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(Ot(d,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sa(t)}}return Ke(t),Tc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&sa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=re.current,$i(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,u=xt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||jg(e.nodeValue,i)),e||Sa(t,!0)}else e=Kl(e).createTextNode(s),e[Tt]=t,t.stateNode=e}return Ke(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=$i(t),i!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Tt]=t}else ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else i=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(ln(t),t):(ln(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ke(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=$i(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[Tt]=t}else ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),u=!1}else u=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ln(t),t):(ln(t),null)}return ln(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Nl(t,t.updateQueue),Ke(t),null);case 4:return te(),e===null&&Kc(t.stateNode.containerInfo),Ke(t),null;case 10:return na(t.type),Ke(t),null;case 19:if(q(nt),s=t.memoizedState,s===null)return Ke(t),null;if(u=(t.flags&128)!==0,d=s.rendering,d===null)if(u)Wr(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=pl(e),d!==null){for(t.flags|=128,Wr(s,!1),e=d.updateQueue,t.updateQueue=e,Nl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)ch(i,e),i=i.sibling;return X(nt,nt.current&1|2),Oe&&ea(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ze()>Ul&&(t.flags|=128,u=!0,Wr(s,!1),t.lanes=4194304)}else{if(!u)if(e=pl(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Nl(t,e),Wr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Oe)return Ke(t),null}else 2*ze()-s.renderingStartTime>Ul&&i!==536870912&&(t.flags|=128,u=!0,Wr(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,i=nt.current,X(nt,u?i&1|2:i&1),Oe&&ea(t,s.treeForkCount),e):(Ke(t),null);case 22:case 23:return ln(t),Xu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),i=t.updateQueue,i!==null&&Nl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&q(ii),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),na(rt),Ke(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function O0(e,t){switch(ju(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(rt),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return it(t),null;case 31:if(t.memoizedState!==null){if(ln(t),t.alternate===null)throw Error(l(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(nt),null;case 4:return te(),null;case 10:return na(t.type),null;case 22:case 23:return ln(t),Xu(),e!==null&&q(ii),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(rt),null;case 25:return null;default:return null}}function Lm(e,t){switch(ju(t),t.tag){case 3:na(rt),te();break;case 26:case 27:case 5:it(t);break;case 4:te();break;case 31:t.memoizedState!==null&&ln(t);break;case 13:ln(t);break;case 19:q(nt);break;case 10:na(t.type);break;case 22:case 23:ln(t),Xu(),e!==null&&q(ii);break;case 24:na(rt)}}function es(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&e)===e){s=void 0;var d=i.create,v=i.inst;s=d(),v.destroy=s}i=i.next}while(i!==u)}}catch(p){Le(t,t.return,p)}}function Da(e,t,i){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&e)===e){var v=s.inst,p=v.destroy;if(p!==void 0){v.destroy=void 0,u=t;var S=i,k=p;try{k()}catch(I){Le(u,S,I)}}}s=s.next}while(s!==d)}}catch(I){Le(t,t.return,I)}}function Bm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Oh(t,i)}catch(s){Le(e,e.return,s)}}}function qm(e,t,i){i.props=ui(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Le(e,t,s)}}function ts(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(u){Le(e,t,u)}}function Yn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){Le(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Le(e,t,u)}else i.current=null}function Hm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){Le(e,e.return,u)}}function xc(e,t,i){try{var s=e.stateNode;Z0(s,e.type,i,t),s[Vt]=t}catch(u){Le(e,e.return,u)}}function Im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Pn));else if(s!==4&&(s===27&&Ua(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,i),e=e.sibling;e!==null;)Rc(e,t,i),e=e.sibling}function jl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ua(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(jl(e,t,i),e=e.sibling;e!==null;)jl(e,t,i),e=e.sibling}function $m(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,s,i),t[Tt]=e,t[Vt]=i}catch(d){Le(e,e.return,d)}}var la=!1,ot=!1,Oc=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,_t=null;function D0(e,t){if(e=e.containerInfo,Jc=Wl,e=th(e),wu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var v=0,p=-1,S=-1,k=0,I=0,G=e,z=null;t:for(;;){for(var L;G!==i||u!==0&&G.nodeType!==3||(p=v+u),G!==d||s!==0&&G.nodeType!==3||(S=v+s),G.nodeType===3&&(v+=G.nodeValue.length),(L=G.firstChild)!==null;)z=G,G=L;for(;;){if(G===e)break t;if(z===i&&++k===u&&(p=v),z===d&&++I===s&&(S=v),(L=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=L}i=p===-1||S===-1?null:{start:p,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zc={focusedElem:e,selectionRange:i},Wl=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,u=d.memoizedProps,d=d.memoizedState,s=i.stateNode;try{var ee=ui(i.type,u);e=s.getSnapshotBeforeUpdate(ee,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){Le(i,i.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Wc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function Ym(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:ua(e,i),s&4&&es(5,i);break;case 1:if(ua(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(v){Le(i,i.return,v)}else{var u=ui(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Le(i,i.return,v)}}s&64&&Bm(i),s&512&&ts(i,i.return);break;case 3:if(ua(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Oh(e,t)}catch(v){Le(i,i.return,v)}}break;case 27:t===null&&s&4&&$m(i);case 26:case 5:ua(e,i),t===null&&s&4&&Hm(i),s&512&&ts(i,i.return);break;case 12:ua(e,i);break;case 31:ua(e,i),s&4&&Xm(e,i);break;case 13:ua(e,i),s&4&&Qm(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=B0.bind(null,i),ib(e,i))));break;case 22:if(s=i.memoizedState!==null||la,!s){t=t!==null&&t.memoizedState!==null||ot,u=la;var d=ot;la=s,(ot=t)&&!d?ca(e,i,(i.subtreeFlags&8772)!==0):ua(e,i),la=u,ot=d}break;case 30:break;default:ua(e,i)}}function Vm(e){var t=e.alternate;t!==null&&(e.alternate=null,Vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&iu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Xt=!1;function oa(e,t,i){for(i=i.child;i!==null;)Km(e,t,i),i=i.sibling}function Km(e,t,i){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Xn,i)}catch{}switch(i.tag){case 26:ot||Yn(i,t),oa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ot||Yn(i,t);var s=Qe,u=Xt;Ua(i.type)&&(Qe=i.stateNode,Xt=!1),oa(e,t,i),cs(i.stateNode),Qe=s,Xt=u;break;case 5:ot||Yn(i,t);case 6:if(s=Qe,u=Xt,Qe=null,oa(e,t,i),Qe=s,Xt=u,Qe!==null)if(Xt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(i.stateNode)}catch(d){Le(i,t,d)}else try{Qe.removeChild(i.stateNode)}catch(d){Le(i,t,d)}break;case 18:Qe!==null&&(Xt?(e=Qe,Bg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ur(e)):Bg(Qe,i.stateNode));break;case 4:s=Qe,u=Xt,Qe=i.stateNode.containerInfo,Xt=!0,oa(e,t,i),Qe=s,Xt=u;break;case 0:case 11:case 14:case 15:Da(2,i,t),ot||Da(4,i,t),oa(e,t,i);break;case 1:ot||(Yn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&qm(i,t,s)),oa(e,t,i);break;case 21:oa(e,t,i);break;case 22:ot=(s=ot)||i.memoizedState!==null,oa(e,t,i),ot=s;break;default:oa(e,t,i)}}function Xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ur(e)}catch(i){Le(t,t.return,i)}}}function Qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ur(e)}catch(i){Le(t,t.return,i)}}function C0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gm),t;default:throw Error(l(435,e.tag))}}function Ml(e,t){var i=C0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var u=q0.bind(null,e,s);s.then(u,u)}})}function Qt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],d=e,v=t,p=v;e:for(;p!==null;){switch(p.tag){case 27:if(Ua(p.type)){Qe=p.stateNode,Xt=!1;break e}break;case 5:Qe=p.stateNode,Xt=!1;break e;case 3:case 4:Qe=p.stateNode.containerInfo,Xt=!0;break e}p=p.return}if(Qe===null)throw Error(l(160));Km(d,v,u),Qe=null,Xt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Jm(t,e),t=t.sibling}var Mn=null;function Jm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Jt(e),s&4&&(Da(3,e,e.return),es(3,e),Da(5,e,e.return));break;case 1:Qt(t,e),Jt(e),s&512&&(ot||i===null||Yn(i,i.return)),s&64&&la&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Mn;if(Qt(t,e),Jt(e),s&512&&(ot||i===null||Yn(i,i.return)),s&4){var d=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Or]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(s),u.head.insertBefore(d,u.querySelector("head > title"))),Ot(d,s,i),d[Tt]=e,bt(d),s=d;break e;case"link":var v=Jg("link","href",u).get(s+(i.href||""));if(v){for(var p=0;p<v.length;p++)if(d=v[p],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(p,1);break t}}d=u.createElement(s),Ot(d,s,i),u.head.appendChild(d);break;case"meta":if(v=Jg("meta","content",u).get(s+(i.content||""))){for(p=0;p<v.length;p++)if(d=v[p],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(p,1);break t}}d=u.createElement(s),Ot(d,s,i),u.head.appendChild(d);break;default:throw Error(l(468,s))}d[Tt]=e,bt(d),s=d}e.stateNode=s}else Zg(u,e.type,e.stateNode);else e.stateNode=Qg(u,s,e.memoizedProps);else d!==s?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,s===null?Zg(u,e.type,e.stateNode):Qg(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xc(e,e.memoizedProps,i.memoizedProps)}break;case 27:Qt(t,e),Jt(e),s&512&&(ot||i===null||Yn(i,i.return)),i!==null&&s&4&&xc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Qt(t,e),Jt(e),s&512&&(ot||i===null||Yn(i,i.return)),e.flags&32){u=e.stateNode;try{ji(u,"")}catch(ee){Le(e,e.return,ee)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,xc(e,u,i!==null?i.memoizedProps:u)),s&1024&&(Oc=!0);break;case 6:if(Qt(t,e),Jt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(ee){Le(e,e.return,ee)}}break;case 3:if(Jl=null,u=Mn,Mn=Xl(t.containerInfo),Qt(t,e),Mn=u,Jt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(ee){Le(e,e.return,ee)}Oc&&(Oc=!1,Zm(e));break;case 4:s=Mn,Mn=Xl(e.stateNode.containerInfo),Qt(t,e),Jt(e),Mn=s;break;case 12:Qt(t,e),Jt(e);break;case 31:Qt(t,e),Jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ml(e,s)));break;case 13:Qt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(zl=ze()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ml(e,s)));break;case 22:u=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,k=la,I=ot;if(la=k||u,ot=I||S,Qt(t,e),ot=I,la=k,Jt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||S||la||ot||ci(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(d=S.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{p=S.stateNode;var G=S.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;p.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ee){Le(S,S.return,ee)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(ee){Le(S,S.return,ee)}}}else if(t.tag===18){if(i===null){S=t;try{var L=S.stateNode;u?qg(L,!0):qg(S.stateNode,!1)}catch(ee){Le(S,S.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Ml(e,i))));break;case 19:Qt(t,e),Jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ml(e,s)));break;case 30:break;case 21:break;default:Qt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Im(s)){i=s;break}s=s.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var u=i.stateNode,d=Ac(e);jl(e,d,u);break;case 5:var v=i.stateNode;i.flags&32&&(ji(v,""),i.flags&=-33);var p=Ac(e);jl(e,p,v);break;case 3:case 4:var S=i.stateNode.containerInfo,k=Ac(e);Rc(e,k,S);break;default:throw Error(l(161))}}catch(I){Le(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ym(e,t.alternate,t),t=t.sibling}function ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),ci(t);break;case 1:Yn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&qm(t,t.return,i),ci(t);break;case 27:cs(t.stateNode);case 26:case 5:Yn(t,t.return),ci(t);break;case 22:t.memoizedState===null&&ci(t);break;case 30:ci(t);break;default:ci(t)}e=e.sibling}}function ca(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:ca(u,d,i),es(4,d);break;case 1:if(ca(u,d,i),s=d,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Le(s,s.return,k)}if(s=d,u=s.updateQueue,u!==null){var p=s.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Rh(S[u],p)}catch(k){Le(s,s.return,k)}}i&&v&64&&Bm(d),ts(d,d.return);break;case 27:$m(d);case 26:case 5:ca(u,d,i),i&&s===null&&v&4&&Hm(d),ts(d,d.return);break;case 12:ca(u,d,i);break;case 31:ca(u,d,i),i&&v&4&&Xm(u,d);break;case 13:ca(u,d,i),i&&v&4&&Qm(u,d);break;case 22:d.memoizedState===null&&ca(u,d,i),ts(d,d.return);break;case 30:break;default:ca(u,d,i)}t=t.sibling}}function Dc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ir(i))}function Cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ir(e))}function kn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pm(e,t,i,s),t=t.sibling}function Pm(e,t,i,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:kn(e,t,i,s),u&2048&&es(9,t);break;case 1:kn(e,t,i,s);break;case 3:kn(e,t,i,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ir(e)));break;case 12:if(u&2048){kn(e,t,i,s),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,p=d.onPostCommit;typeof p=="function"&&p(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Le(t,t.return,S)}}else kn(e,t,i,s);break;case 31:kn(e,t,i,s);break;case 13:kn(e,t,i,s);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?kn(e,t,i,s):ns(e,t):d._visibility&2?kn(e,t,i,s):(d._visibility|=2,Fi(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Dc(v,t);break;case 24:kn(e,t,i,s),u&2048&&Cc(t.alternate,t);break;default:kn(e,t,i,s)}}function Fi(e,t,i,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,p=i,S=s,k=v.flags;switch(v.tag){case 0:case 11:case 15:Fi(d,v,p,S,u),es(8,v);break;case 23:break;case 22:var I=v.stateNode;v.memoizedState!==null?I._visibility&2?Fi(d,v,p,S,u):ns(d,v):(I._visibility|=2,Fi(d,v,p,S,u)),u&&k&2048&&Dc(v.alternate,v);break;case 24:Fi(d,v,p,S,u),u&&k&2048&&Cc(v.alternate,v);break;default:Fi(d,v,p,S,u)}t=t.sibling}}function ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,u=s.flags;switch(s.tag){case 22:ns(i,s),u&2048&&Dc(s.alternate,s);break;case 24:ns(i,s),u&2048&&Cc(s.alternate,s);break;default:ns(i,s)}t=t.sibling}}var as=8192;function Wi(e,t,i){if(e.subtreeFlags&as)for(e=e.child;e!==null;)Fm(e,t,i),e=e.sibling}function Fm(e,t,i){switch(e.tag){case 26:Wi(e,t,i),e.flags&as&&e.memoizedState!==null&&vb(i,Mn,e.memoizedState,e.memoizedProps);break;case 5:Wi(e,t,i);break;case 3:case 4:var s=Mn;Mn=Xl(e.stateNode.containerInfo),Wi(e,t,i),Mn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=as,as=16777216,Wi(e,t,i),as=s):Wi(e,t,i));break;default:Wi(e,t,i)}}function Wm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];_t=s,tg(s,e)}Wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:is(e),e.flags&2048&&Da(9,e,e.return);break;case 3:is(e);break;case 12:is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):is(e);break;default:is(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];_t=s,tg(s,e)}Wm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),kl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function tg(e,t){for(;_t!==null;){var i=_t;switch(i.tag){case 0:case 11:case 15:Da(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ir(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,_t=s;else e:for(i=e;_t!==null;){s=_t;var u=s.sibling,d=s.return;if(Vm(s),s===i){_t=null;break e}if(u!==null){u.return=d,_t=u;break e}_t=d}}}var N0={getCacheForType:function(e){var t=At(rt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return At(rt).controller.signal}},j0=typeof WeakMap=="function"?WeakMap:Map,je=0,Ie=null,Te=null,Ae=0,Ue=0,on=null,Ca=!1,er=!1,Nc=!1,da=0,Ze=0,Na=0,di=0,jc=0,un=0,tr=0,rs=null,Zt=null,Mc=!1,zl=0,ng=0,Ul=1/0,Ll=null,ja=null,ht=0,Ma=null,nr=null,fa=0,kc=0,zc=null,ag=null,ss=0,Uc=null;function cn(){return(je&2)!==0&&Ae!==0?Ae&-Ae:R.T!==null?$c():Nn()}function ig(){if(un===0)if((Ae&536870912)===0||Oe){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),un=e}else un=536870912;return e=sn.current,e!==null&&(e.flags|=32),un}function Pt(e,t,i){(e===Ie&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(ar(e,0),ka(e,Ae,un,!1)),gn(e,i),((je&2)===0||e!==Ie)&&(e===Ie&&((je&2)===0&&(di|=i),Ze===4&&ka(e,Ae,un,!1)),Vn(e))}function rg(e,t,i){if((je&6)!==0)throw Error(l(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||$t(e,t),u=s?z0(e,t):Bc(e,t,!0),d=s;do{if(u===0){er&&!s&&ka(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!M0(i)){u=Bc(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var p=e;u=rs;var S=p.current.memoizedState.isDehydrated;if(S&&(ar(p,v).flags|=256),v=Bc(p,v,!1),v!==2){if(Nc&&!S){p.errorRecoveryDisabledLanes|=d,di|=d,u=4;break e}d=Zt,Zt=u,d!==null&&(Zt===null?Zt=d:Zt.push.apply(Zt,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){ar(e,0),ka(e,t,0,!0);break}e:{switch(s=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ka(s,t,un,!Ca);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=zl+300-ze(),10<u)){if(ka(s,t,un,!Ca),pt(s,0,!0)!==0)break e;fa=t,s.timeoutHandle=Ug(sg.bind(null,s,i,Zt,Ll,Mc,t,un,di,tr,Ca,d,"Throttled",-0,0),u);break e}sg(s,i,Zt,Ll,Mc,t,un,di,tr,Ca,d,null,-0,0)}}break}while(!0);Vn(e)}function sg(e,t,i,s,u,d,v,p,S,k,I,G,z,L){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Fm(t,d,G);var ee=(d&62914560)===d?zl-ze():(d&4194048)===d?ng-ze():0;if(ee=yb(G,ee),ee!==null){fa=d,e.cancelPendingCommit=ee(mg.bind(null,e,t,d,i,s,u,v,p,S,I,G,null,z,L)),ka(e,d,v,!k);return}}mg(e,t,d,i,s,u,v,p,S)}function M0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],d=u.getSnapshot;u=u.value;try{if(!an(d(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t,i,s){t&=~jc,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var d=31-dt(u),v=1<<d;s[d]=-1,u&=~v}i!==0&&Cn(e,i,t)}function Bl(){return(je&6)===0?(ls(0),!1):!0}function Lc(){if(Te!==null){if(Ue===0)var e=Te.return;else e=Te,ta=ni=null,Wu(e),Xi=null,Gr=0,e=Te;for(;e!==null;)Lm(e.alternate,e),e=e.return;Te=null}}function ar(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,W0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),fa=0,Lc(),Ie=e,Te=i=Wn(e.current,null),Ae=t,Ue=0,on=null,Ca=!1,er=$t(e,t),Nc=!1,tr=un=jc=di=Na=Ze=0,Zt=rs=null,Mc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-dt(s),d=1<<u;t|=e[u],s&=~d}return da=t,rl(),i}function lg(e,t){_e=null,R.H=Pr,t===Ki||t===hl?(t=Eh(),Ue=3):t===Iu?(t=Eh(),Ue=4):Ue=t===gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Te===null&&(Ze=1,Rl(e,wn(t,e.current)))}function og(){var e=sn.current;return e===null?!0:(Ae&4194048)===Ae?xn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===xn:!1}function ug(){var e=R.H;return R.H=Pr,e===null?Pr:e}function cg(){var e=R.A;return R.A=N0,e}function ql(){Ze=4,Ca||(Ae&4194048)!==Ae&&sn.current!==null||(er=!0),(Na&134217727)===0&&(di&134217727)===0||Ie===null||ka(Ie,Ae,un,!1)}function Bc(e,t,i){var s=je;je|=2;var u=ug(),d=cg();(Ie!==e||Ae!==t)&&(Ll=null,ar(e,t)),t=!1;var v=Ze;e:do try{if(Ue!==0&&Te!==null){var p=Te,S=on;switch(Ue){case 8:Lc(),v=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var k=Ue;if(Ue=0,on=null,ir(e,p,S,k),i&&er){v=0;break e}break;default:k=Ue,Ue=0,on=null,ir(e,p,S,k)}}k0(),v=Ze;break}catch(I){lg(e,I)}while(!0);return t&&e.shellSuspendCounter++,ta=ni=null,je=s,R.H=u,R.A=d,Te===null&&(Ie=null,Ae=0,rl()),v}function k0(){for(;Te!==null;)dg(Te)}function z0(e,t){var i=je;je|=2;var s=ug(),u=cg();Ie!==e||Ae!==t?(Ll=null,Ul=ze()+500,ar(e,t)):er=$t(e,t);e:do try{if(Ue!==0&&Te!==null){t=Te;var d=on;t:switch(Ue){case 1:Ue=0,on=null,ir(e,t,d,1);break;case 2:case 9:if(wh(d)){Ue=0,on=null,fg(t);break}t=function(){Ue!==2&&Ue!==9||Ie!==e||(Ue=7),Vn(e)},d.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:wh(d)?(Ue=0,on=null,fg(t)):(Ue=0,on=null,ir(e,t,d,7));break;case 5:var v=null;switch(Te.tag){case 26:v=Te.memoizedState;case 5:case 27:var p=Te;if(v?Pg(v):p.stateNode.complete){Ue=0,on=null;var S=p.sibling;if(S!==null)Te=S;else{var k=p.return;k!==null?(Te=k,Hl(k)):Te=null}break t}}Ue=0,on=null,ir(e,t,d,5);break;case 6:Ue=0,on=null,ir(e,t,d,6);break;case 8:Lc(),Ze=6;break e;default:throw Error(l(462))}}U0();break}catch(I){lg(e,I)}while(!0);return ta=ni=null,R.H=s,R.A=u,je=i,Te!==null?0:(Ie=null,Ae=0,rl(),Ze)}function U0(){for(;Te!==null&&!Wt();)dg(Te)}function dg(e){var t=zm(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?Hl(e):Te=t}function fg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Dm(i,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Dm(i,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Wu(t);default:Lm(i,t),t=Te=ch(t,da),t=zm(i,t,da)}e.memoizedProps=e.pendingProps,t===null?Hl(e):Te=t}function ir(e,t,i,s){ta=ni=null,Wu(t),Xi=null,Gr=0;var u=t.return;try{if(T0(e,u,t,i,Ae)){Ze=1,Rl(e,wn(i,e.current)),Te=null;return}}catch(d){if(u!==null)throw Te=u,d;Ze=1,Rl(e,wn(i,e.current)),Te=null;return}t.flags&32768?(Oe||s===1?e=!0:er||(Ae&536870912)!==0?e=!1:(Ca=e=!0,(s===2||s===9||s===3||s===6)&&(s=sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),hg(t,e)):Hl(t)}function Hl(e){var t=e;do{if((t.flags&32768)!==0){hg(t,Ca);return}e=t.return;var i=R0(t.alternate,t,da);if(i!==null){Te=i;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ze===0&&(Ze=5)}function hg(e,t){do{var i=O0(e.alternate,e);if(i!==null){i.flags&=32767,Te=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=i}while(e!==null);Ze=6,Te=null}function mg(e,t,i,s,u,d,v,p,S){e.cancelPendingCommit=null;do Il();while(ht!==0);if((je&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Au,ft(e,i,d,v,p,S),e===Ie&&(Te=Ie=null,Ae=0),nr=t,Ma=e,fa=i,kc=d,zc=u,ag=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H0(tn,function(){return bg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,u=V.p,V.p=2,v=je,je|=4;try{D0(e,t,i)}finally{je=v,V.p=u,R.T=s}}ht=1,gg(),vg(),yg()}}function gg(){if(ht===1){ht=0;var e=Ma,t=nr,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var s=V.p;V.p=2;var u=je;je|=4;try{Jm(t,e);var d=Zc,v=th(e.containerInfo),p=d.focusedElem,S=d.selectionRange;if(v!==p&&p&&p.ownerDocument&&eh(p.ownerDocument.documentElement,p)){if(S!==null&&wu(p)){var k=S.start,I=S.end;if(I===void 0&&(I=k),"selectionStart"in p)p.selectionStart=k,p.selectionEnd=Math.min(I,p.value.length);else{var G=p.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var L=z.getSelection(),ee=p.textContent.length,ue=Math.min(S.start,ee),He=S.end===void 0?ue:Math.min(S.end,ee);!L.extend&&ue>He&&(v=He,He=ue,ue=v);var C=Wf(p,ue),x=Wf(p,He);if(C&&x&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==x.node||L.focusOffset!==x.offset)){var M=G.createRange();M.setStart(C.node,C.offset),L.removeAllRanges(),ue>He?(L.addRange(M),L.extend(x.node,x.offset)):(M.setEnd(x.node,x.offset),L.addRange(M))}}}}for(G=[],L=p;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<G.length;p++){var $=G[p];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Wl=!!Jc,Zc=Jc=null}finally{je=u,V.p=s,R.T=i}}e.current=t,ht=2}}function vg(){if(ht===2){ht=0;var e=Ma,t=nr,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var s=V.p;V.p=2;var u=je;je|=4;try{Ym(e,t.alternate,t)}finally{je=u,V.p=s,R.T=i}}ht=3}}function yg(){if(ht===4||ht===3){ht=0,Hn();var e=Ma,t=nr,i=fa,s=ag;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,nr=Ma=null,pg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ja=null),Jn(i),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Xn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,u=V.p,V.p=2,R.T=null;try{for(var d=e.onRecoverableError,v=0;v<s.length;v++){var p=s[v];d(p.value,{componentStack:p.stack})}}finally{R.T=t,V.p=u}}(fa&3)!==0&&Il(),Vn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Uc?ss++:(ss=0,Uc=e):ss=0,ls(0)}}function pg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ir(t)))}function Il(){return gg(),vg(),yg(),bg()}function bg(){if(ht!==5)return!1;var e=Ma,t=kc;kc=0;var i=Jn(fa),s=R.T,u=V.p;try{V.p=32>i?32:i,R.T=null,i=zc,zc=null;var d=Ma,v=fa;if(ht=0,nr=Ma=null,fa=0,(je&6)!==0)throw Error(l(331));var p=je;if(je|=4,eg(d.current),Pm(d,d.current,v,i),je=p,ls(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{V.p=u,R.T=s,pg(e,t)}}function _g(e,t,i){t=wn(i,t),t=mc(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(gn(e,2),Vn(e))}function Le(e,t,i){if(e.tag===3)_g(e,e,i);else for(;t!==null;){if(t.tag===3){_g(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ja===null||!ja.has(s))){e=wn(i,e),i=wm(2),s=Aa(t,i,2),s!==null&&(Sm(i,s,t,e),gn(s,2),Vn(s));break}}t=t.return}}function qc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new j0;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(i)||(Nc=!0,u.add(i),e=L0.bind(null,e,t,i),t.then(e,e))}function L0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ie===e&&(Ae&i)===i&&(Ze===4||Ze===3&&(Ae&62914560)===Ae&&300>ze()-zl?(je&2)===0&&ar(e,0):jc|=i,tr===Ae&&(tr=0)),Vn(e)}function wg(e,t){t===0&&(t=Mt()),e=Wa(e,t),e!==null&&(gn(e,t),Vn(e))}function B0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),wg(e,i)}function q0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),wg(e,i)}function H0(e,t){return We(e,t)}var $l=null,rr=null,Hc=!1,Gl=!1,Ic=!1,za=0;function Vn(e){e!==rr&&e.next===null&&(rr===null?$l=rr=e:rr=rr.next=e),Gl=!0,Hc||(Hc=!0,$0())}function ls(e,t){if(!Ic&&Gl){Ic=!0;do for(var i=!1,s=$l;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var d=0;else{var v=s.suspendedLanes,p=s.pingedLanes;d=(1<<31-dt(42|e)+1)-1,d&=u&~(v&~p),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,xg(s,d))}else d=Ae,d=pt(s,s===Ie?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||$t(s,d)||(i=!0,xg(s,d));s=s.next}while(i);Ic=!1}}function I0(){Sg()}function Sg(){Gl=Hc=!1;var e=0;za!==0&&F0()&&(e=za);for(var t=ze(),i=null,s=$l;s!==null;){var u=s.next,d=Eg(s,t);d===0?(s.next=null,i===null?$l=u:i.next=u,u===null&&(rr=i)):(i=s,(e!==0||(d&3)!==0)&&(Gl=!0)),s=u}ht!==0&&ht!==5||ls(e),za!==0&&(za=0)}function Eg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-dt(d),p=1<<v,S=u[v];S===-1?((p&i)===0||(p&s)!==0)&&(u[v]=Gt(p,t)):S<=t&&(e.expiredLanes|=p),d&=~p}if(t=Ie,i=Ae,i=pt(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ct(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||$t(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&ct(s),Jn(i)){case 2:case 8:i=It;break;case 32:i=tn;break;case 268435456:i=Xa;break;default:i=tn}return s=Tg.bind(null,e),i=We(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&ct(s),e.callbackPriority=2,e.callbackNode=null,2}function Tg(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Il()&&e.callbackNode!==i)return null;var s=Ae;return s=pt(e,e===Ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(rg(e,s,t),Eg(e,ze()),e.callbackNode!=null&&e.callbackNode===i?Tg.bind(null,e):null)}function xg(e,t){if(Il())return null;rg(e,t,!0)}function $0(){eb(function(){(je&6)!==0?We(jt,I0):Sg()})}function $c(){if(za===0){var e=Yi;e===0&&(e=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),za=e}return za}function Ag(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ps(""+e)}function Rg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function G0(e,t,i,s,u){if(t==="submit"&&i&&i.stateNode===u){var d=Ag((u[Vt]||null).action),v=s.submitter;v&&(t=(t=v[Vt]||null)?Ag(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var p=new tl("action","action",null,s,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(za!==0){var S=v?Rg(u,v):new FormData(u);oc(i,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(p.preventDefault(),S=v?Rg(u,v):new FormData(u),oc(i,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var Gc=0;Gc<xu.length;Gc++){var Yc=xu[Gc],Y0=Yc.toLowerCase(),V0=Yc[0].toUpperCase()+Yc.slice(1);jn(Y0,"on"+V0)}jn(ih,"onAnimationEnd"),jn(rh,"onAnimationIteration"),jn(sh,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(l0,"onTransitionRun"),jn(o0,"onTransitionStart"),jn(u0,"onTransitionCancel"),jn(lh,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(os));function Og(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var v=s.length-1;0<=v;v--){var p=s[v],S=p.instance,k=p.currentTarget;if(p=p.listener,S!==d&&u.isPropagationStopped())break e;d=p,u.currentTarget=k;try{d(u)}catch(I){il(I)}u.currentTarget=null,d=S}else for(v=0;v<s.length;v++){if(p=s[v],S=p.instance,k=p.currentTarget,p=p.listener,S!==d&&u.isPropagationStopped())break e;d=p,u.currentTarget=k;try{d(u)}catch(I){il(I)}u.currentTarget=null,d=S}}}}function xe(e,t){var i=t[au];i===void 0&&(i=t[au]=new Set);var s=e+"__bubble";i.has(s)||(Dg(t,e,2,!1),i.add(s))}function Vc(e,t,i){var s=0;t&&(s|=4),Dg(i,e,s,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[Yl]){e[Yl]=!0,Sf.forEach(function(i){i!=="selectionchange"&&(K0.has(i)||Vc(i,!1,e),Vc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Vc("selectionchange",!1,t))}}function Dg(e,t,i,s){switch(iv(t)){case 2:var u=_b;break;case 8:u=wb;break;default:u=ld}i=u.bind(null,t,i,e),u=void 0,!fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Xc(e,t,i,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var p=s.stateNode.containerInfo;if(p===u)break;if(v===4)for(v=s.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;p!==null;){if(v=Ri(p),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){s=d=v;continue e}p=p.parentNode}}s=s.return}kf(function(){var k=d,I=cu(i),G=[];e:{var z=oh.get(e);if(z!==void 0){var L=tl,ee=e;switch(e){case"keypress":if(Ws(i)===0)break e;case"keydown":case"keyup":L=qp;break;case"focusin":ee="focus",L=vu;break;case"focusout":ee="blur",L=vu;break;case"beforeblur":case"afterblur":L=vu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=$p;break;case ih:case rh:case sh:L=Cp;break;case lh:L=Yp;break;case"scroll":case"scrollend":L=xp;break;case"wheel":L=Kp;break;case"copy":case"cut":case"paste":L=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=qf;break;case"toggle":case"beforetoggle":L=Qp}var ue=(t&4)!==0,He=!ue&&(e==="scroll"||e==="scrollend"),C=ue?z!==null?z+"Capture":null:z;ue=[];for(var x=k,M;x!==null;){var $=x;if(M=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||M===null||C===null||($=Cr(x,C),$!=null&&ue.push(us(x,$,M))),He)break;x=x.return}0<ue.length&&(z=new L(z,ee,null,i,I),G.push({event:z,listeners:ue}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",z&&i!==uu&&(ee=i.relatedTarget||i.fromElement)&&(Ri(ee)||ee[Ai]))break e;if((L||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,L?(ee=i.relatedTarget||i.toElement,L=k,ee=ee?Ri(ee):null,ee!==null&&(He=c(ee),ue=ee.tag,ee!==He||ue!==5&&ue!==27&&ue!==6)&&(ee=null)):(L=null,ee=k),L!==ee)){if(ue=Lf,$="onMouseLeave",C="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ue=qf,$="onPointerLeave",C="onPointerEnter",x="pointer"),He=L==null?z:Dr(L),M=ee==null?z:Dr(ee),z=new ue($,x+"leave",L,i,I),z.target=He,z.relatedTarget=M,$=null,Ri(I)===k&&(ue=new ue(C,x+"enter",ee,i,I),ue.target=M,ue.relatedTarget=He,$=ue),He=$,L&&ee)t:{for(ue=X0,C=L,x=ee,M=0,$=C;$;$=ue($))M++;$=0;for(var se=x;se;se=ue(se))$++;for(;0<M-$;)C=ue(C),M--;for(;0<$-M;)x=ue(x),$--;for(;M--;){if(C===x||x!==null&&C===x.alternate){ue=C;break t}C=ue(C),x=ue(x)}ue=null}else ue=null;L!==null&&Cg(G,z,L,ue,!1),ee!==null&&He!==null&&Cg(G,He,ee,ue,!0)}}e:{if(z=k?Dr(k):window,L=z.nodeName&&z.nodeName.toLowerCase(),L==="select"||L==="input"&&z.type==="file")var Ce=Xf;else if(Vf(z))if(Qf)Ce=i0;else{Ce=n0;var ne=t0}else L=z.nodeName,!L||L.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ou(k.elementType)&&(Ce=Xf):Ce=a0;if(Ce&&(Ce=Ce(e,k))){Kf(G,Ce,i,I);break e}ne&&ne(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&lu(z,"number",z.value)}switch(ne=k?Dr(k):window,e){case"focusin":(Vf(ne)||ne.contentEditable==="true")&&(Ui=ne,Su=k,Br=null);break;case"focusout":Br=Su=Ui=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,nh(G,i,I);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":nh(G,i,I)}var we;if(pu)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else zi?Gf(e,i)&&(Re="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Re="onCompositionStart");Re&&(Hf&&i.locale!=="ko"&&(zi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&zi&&(we=zf()):(ba=I,hu="value"in ba?ba.value:ba.textContent,zi=!0)),ne=Vl(k,Re),0<ne.length&&(Re=new Bf(Re,e,null,i,I),G.push({event:Re,listeners:ne}),we?Re.data=we:(we=Yf(i),we!==null&&(Re.data=we)))),(we=Zp?Pp(e,i):Fp(e,i))&&(Re=Vl(k,"onBeforeInput"),0<Re.length&&(ne=new Bf("onBeforeInput","beforeinput",null,i,I),G.push({event:ne,listeners:Re}),ne.data=we)),G0(G,e,k,i,I)}Og(G,t)})}function us(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Vl(e,t){for(var i=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Cr(e,i),u!=null&&s.unshift(us(e,u,d)),u=Cr(e,t),u!=null&&s.push(us(e,u,d))),e.tag===3)return s;e=e.return}return[]}function X0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cg(e,t,i,s,u){for(var d=t._reactName,v=[];i!==null&&i!==s;){var p=i,S=p.alternate,k=p.stateNode;if(p=p.tag,S!==null&&S===s)break;p!==5&&p!==26&&p!==27||k===null||(S=k,u?(k=Cr(i,d),k!=null&&v.unshift(us(i,k,S))):u||(k=Cr(i,d),k!=null&&v.push(us(i,k,S)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var Q0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Ng(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(J0,"")}function jg(e,t){return t=Ng(t),Ng(e)===t}function qe(e,t,i,s,u,d){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ji(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ji(e,""+s);break;case"className":Js(e,"class",s);break;case"tabIndex":Js(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(e,i,s);break;case"style":jf(e,s,d);break;case"data":if(t!=="object"){Js(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ps(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&qe(e,t,"name",u.name,u,null),qe(e,t,"formEncType",u.formEncType,u,null),qe(e,t,"formMethod",u.formMethod,u,null),qe(e,t,"formTarget",u.formTarget,u,null)):(qe(e,t,"encType",u.encType,u,null),qe(e,t,"method",u.method,u,null),qe(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ps(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Pn);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ps(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Qs(e,"popover",s);break;case"xlinkActuate":Zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Qs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ep.get(i)||i,Qs(e,i,s))}}function Qc(e,t,i,s,u,d){switch(i){case"style":jf(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof s=="string"?ji(e,s):(typeof s=="number"||typeof s=="bigint")&&ji(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),d=e[Vt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof s=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,u);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Qs(e,i,s)}}}function Ot(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,u=!1,d;for(d in i)if(i.hasOwnProperty(d)){var v=i[d];if(v!=null)switch(d){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:qe(e,t,d,v,i,null)}}u&&qe(e,t,"srcSet",i.srcSet,i,null),s&&qe(e,t,"src",i.src,i,null);return;case"input":xe("invalid",e);var p=d=v=u=null,S=null,k=null;for(s in i)if(i.hasOwnProperty(s)){var I=i[s];if(I!=null)switch(s){case"name":u=I;break;case"type":v=I;break;case"checked":S=I;break;case"defaultChecked":k=I;break;case"value":d=I;break;case"defaultValue":p=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,t));break;default:qe(e,t,s,I,i,null)}}Of(e,d,p,S,k,v,u,!1);return;case"select":xe("invalid",e),s=v=d=null;for(u in i)if(i.hasOwnProperty(u)&&(p=i[u],p!=null))switch(u){case"value":d=p;break;case"defaultValue":v=p;break;case"multiple":s=p;default:qe(e,t,u,p,i,null)}t=d,i=v,e.multiple=!!s,t!=null?Ni(e,!!s,t,!1):i!=null&&Ni(e,!!s,i,!0);return;case"textarea":xe("invalid",e),d=u=s=null;for(v in i)if(i.hasOwnProperty(v)&&(p=i[v],p!=null))switch(v){case"value":s=p;break;case"defaultValue":u=p;break;case"children":d=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:qe(e,t,v,p,i,null)}Cf(e,s,u,d);return;case"option":for(S in i)i.hasOwnProperty(S)&&(s=i[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":qe(e,t,S,s,i,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<os.length;s++)xe(os[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in i)if(i.hasOwnProperty(k)&&(s=i[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:qe(e,t,k,s,i,null)}return;default:if(ou(t)){for(I in i)i.hasOwnProperty(I)&&(s=i[I],s!==void 0&&Qc(e,t,I,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&qe(e,t,p,s,i,null))}function Z0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,p=null,S=null,k=null,I=null;for(L in i){var G=i[L];if(i.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=G;default:s.hasOwnProperty(L)||qe(e,t,L,null,s,G)}}for(var z in s){var L=s[z];if(G=i[z],s.hasOwnProperty(z)&&(L!=null||G!=null))switch(z){case"type":d=L;break;case"name":u=L;break;case"checked":k=L;break;case"defaultChecked":I=L;break;case"value":v=L;break;case"defaultValue":p=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==G&&qe(e,t,z,L,s,G)}}su(e,v,p,S,k,I,d,u);return;case"select":L=v=p=z=null;for(d in i)if(S=i[d],i.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":L=S;default:s.hasOwnProperty(d)||qe(e,t,d,null,s,S)}for(u in s)if(d=s[u],S=i[u],s.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":z=d;break;case"defaultValue":p=d;break;case"multiple":v=d;default:d!==S&&qe(e,t,u,d,s,S)}t=p,i=v,s=L,z!=null?Ni(e,!!i,z,!1):!!s!=!!i&&(t!=null?Ni(e,!!i,t,!0):Ni(e,!!i,i?[]:"",!1));return;case"textarea":L=z=null;for(p in i)if(u=i[p],i.hasOwnProperty(p)&&u!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:qe(e,t,p,null,s,u)}for(v in s)if(u=s[v],d=i[v],s.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":z=u;break;case"defaultValue":L=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&qe(e,t,v,u,s,d)}Df(e,z,L);return;case"option":for(var ee in i)z=i[ee],i.hasOwnProperty(ee)&&z!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:qe(e,t,ee,null,s,z));for(S in s)z=s[S],L=i[S],s.hasOwnProperty(S)&&z!==L&&(z!=null||L!=null)&&(S==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":qe(e,t,S,z,s,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in i)z=i[ue],i.hasOwnProperty(ue)&&z!=null&&!s.hasOwnProperty(ue)&&qe(e,t,ue,null,s,z);for(k in s)if(z=s[k],L=i[k],s.hasOwnProperty(k)&&z!==L&&(z!=null||L!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:qe(e,t,k,z,s,L)}return;default:if(ou(t)){for(var He in i)z=i[He],i.hasOwnProperty(He)&&z!==void 0&&!s.hasOwnProperty(He)&&Qc(e,t,He,void 0,s,z);for(I in s)z=s[I],L=i[I],!s.hasOwnProperty(I)||z===L||z===void 0&&L===void 0||Qc(e,t,I,z,s,L);return}}for(var C in i)z=i[C],i.hasOwnProperty(C)&&z!=null&&!s.hasOwnProperty(C)&&qe(e,t,C,null,s,z);for(G in s)z=s[G],L=i[G],!s.hasOwnProperty(G)||z===L||z==null&&L==null||qe(e,t,G,z,s,L)}function Mg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],d=u.transferSize,v=u.initiatorType,p=u.duration;if(d&&p&&Mg(v)){for(v=0,p=u.responseEnd,s+=1;s<i.length;s++){var S=i[s],k=S.startTime;if(k>p)break;var I=S.transferSize,G=S.initiatorType;I&&Mg(G)&&(S=S.responseEnd,v+=I*(S<p?1:(p-k)/(S-k)))}if(--s,t+=8*(d+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jc=null,Zc=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=null;function F0(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(e){return Lg.resolve(null).then(e).catch(tb)}:Ug;function tb(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function Bg(e,t){var i=t,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(u),ur(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")cs(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,cs(i);for(var d=i.firstChild;d;){var v=d.nextSibling,p=d.nodeName;d[Or]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=v}}else i==="body"&&cs(e.ownerDocument.body);i=u}while(i);ur(t)}function qg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Wc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wc(i),iu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function nb(e,t,i,s){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Or])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function ab(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=An(e.nextSibling),e===null))return null;return e}function Hg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nd=null;function Ig(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return An(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Gg(e,t,i){switch(t=Kl(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function cs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);iu(e)}var Rn=new Map,Yg=new Set;function Xl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=V.d;V.d={f:rb,r:sb,D:lb,C:ob,L:ub,m:cb,X:fb,S:db,M:hb};function rb(){var e=ha.f(),t=Bl();return e||t}function sb(e){var t=Oi(e);t!==null&&t.tag===5&&t.type==="form"?lm(t):ha.r(e)}var sr=typeof document>"u"?null:document;function Vg(e,t,i){var s=sr;if(s&&typeof t=="string"&&t){var u=bn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Yg.has(u)||(Yg.add(u),e={rel:e,crossOrigin:i,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),Ot(t,"link",e),bt(t),s.head.appendChild(t)))}}function lb(e){ha.D(e),Vg("dns-prefetch",e,null)}function ob(e,t){ha.C(e,t),Vg("preconnect",e,t)}function ub(e,t,i){ha.L(e,t,i);var s=sr;if(s&&e&&t){var u='link[rel="preload"][as="'+bn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+bn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+bn(i.imageSizes)+'"]')):u+='[href="'+bn(e)+'"]';var d=u;switch(t){case"style":d=lr(e);break;case"script":d=or(e)}Rn.has(d)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Rn.set(d,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(ds(d))||t==="script"&&s.querySelector(fs(d))||(t=s.createElement("link"),Ot(t,"link",e),bt(t),s.head.appendChild(t)))}}function cb(e,t){ha.m(e,t);var i=sr;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+bn(s)+'"][href="'+bn(e)+'"]',d=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=or(e)}if(!Rn.has(d)&&(e=b({rel:"modulepreload",href:e},t),Rn.set(d,e),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(fs(d)))return}s=i.createElement("link"),Ot(s,"link",e),bt(s),i.head.appendChild(s)}}}function db(e,t,i){ha.S(e,t,i);var s=sr;if(s&&e){var u=Di(s).hoistableStyles,d=lr(e);t=t||"default";var v=u.get(d);if(!v){var p={loading:0,preload:null};if(v=s.querySelector(ds(d)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Rn.get(d))&&ad(e,i);var S=v=s.createElement("link");bt(S),Ot(S,"link",e),S._p=new Promise(function(k,I){S.onload=k,S.onerror=I}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ql(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:p},u.set(d,v)}}}function fb(e,t){ha.X(e,t);var i=sr;if(i&&e){var s=Di(i).hoistableScripts,u=or(e),d=s.get(u);d||(d=i.querySelector(fs(u)),d||(e=b({src:e,async:!0},t),(t=Rn.get(u))&&id(e,t),d=i.createElement("script"),bt(d),Ot(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function hb(e,t){ha.M(e,t);var i=sr;if(i&&e){var s=Di(i).hoistableScripts,u=or(e),d=s.get(u);d||(d=i.querySelector(fs(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Rn.get(u))&&id(e,t),d=i.createElement("script"),bt(d),Ot(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function Kg(e,t,i,s){var u=(u=re.current)?Xl(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=lr(i.href),i=Di(u).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=lr(i.href);var d=Di(u).hoistableStyles,v=d.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=u.querySelector(ds(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Rn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Rn.set(e,i),d||mb(u,e,i,v.state))),t&&s===null)throw Error(l(528,""));return v}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=or(i),i=Di(u).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function lr(e){return'href="'+bn(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function Xg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ot(t,"link",i),bt(t),e.head.appendChild(t))}function or(e){return'[src="'+bn(e)+'"]'}function fs(e){return"script[async]"+e}function Qg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+bn(i.href)+'"]');if(s)return t.instance=s,bt(s),s;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),bt(s),Ot(s,"style",u),Ql(s,i.precedence,e),t.instance=s;case"stylesheet":u=lr(i.href);var d=e.querySelector(ds(u));if(d)return t.state.loading|=4,t.instance=d,bt(d),d;s=Xg(i),(u=Rn.get(u))&&ad(s,u),d=(e.ownerDocument||e).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(p,S){v.onload=p,v.onerror=S}),Ot(d,"link",s),t.state.loading|=4,Ql(d,i.precedence,e),t.instance=d;case"script":return d=or(i.src),(u=e.querySelector(fs(d)))?(t.instance=u,bt(u),u):(s=i,(u=Rn.get(d))&&(s=b({},i),id(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),bt(u),Ot(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ql(s,i.precedence,e));return t.instance}function Ql(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,d=u,v=0;v<s.length;v++){var p=s[v];if(p.dataset.precedence===t)d=p;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function ad(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jl=null;function Jg(e,t,i){if(Jl===null){var s=new Map,u=Jl=new Map;u.set(i,s)}else u=Jl,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var d=i[u];if(!(d[Or]||d[Tt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var p=s.get(v);p?p.push(d):s.set(v,[d])}}return s}function Zg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function gb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vb(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=lr(s.href),d=t.querySelector(ds(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,bt(d);return}d=t.ownerDocument||t,s=Xg(s),(u=Rn.get(u))&&ad(s,u),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(p,S){v.onload=p,v.onerror=S}),Ot(d,"link",s),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Zl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var rd=0;function yb(e,t){return e.stylesheets&&e.count===0&&Fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&rd===0&&(rd=62500*P0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>rd?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pl=null;function Fl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pl=new Map,t.forEach(pb,e),Pl=null,Zl.call(e))}function pb(e,t){if(!(t.state.loading&4)){var i=Pl.get(e);if(i)var s=i.get(null);else{i=new Map,Pl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),s=v)}s&&i.set(null,s)}u=t.instance,v=u.getAttribute("data-precedence"),d=i.get(v)||s,d===s&&i.set(null,u),i.set(v,u),this.count++,s=Zl.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var hs={$$typeof:U,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function bb(e,t,i,s,u,d,v,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Fg(e,t,i,s,u,d,v,p,S,k,I,G){return e=new bb(e,t,i,v,S,k,I,G,p),t=1,d===!0&&(t|=24),d=rn(3,null,null,t),e.current=d,d.stateNode=e,t=Bu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:i,cache:t},$u(d),e}function Wg(e){return e?(e=qi,e):qi}function ev(e,t,i,s,u,d){u=Wg(u),s.context===null?s.context=u:s.pendingContext=u,s=xa(t),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Aa(e,s,t),i!==null&&(Pt(i,e,t),Vr(i,e,t))}function tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function sd(e,t){tv(e,t),(e=e.alternate)&&tv(e,t)}function nv(e){if(e.tag===13||e.tag===31){var t=Wa(e,67108864);t!==null&&Pt(t,e,67108864),sd(e,67108864)}}function av(e){if(e.tag===13||e.tag===31){var t=cn();t=Qn(t);var i=Wa(e,t);i!==null&&Pt(i,e,t),sd(e,t)}}var Wl=!0;function _b(e,t,i,s){var u=R.T;R.T=null;var d=V.p;try{V.p=2,ld(e,t,i,s)}finally{V.p=d,R.T=u}}function wb(e,t,i,s){var u=R.T;R.T=null;var d=V.p;try{V.p=8,ld(e,t,i,s)}finally{V.p=d,R.T=u}}function ld(e,t,i,s){if(Wl){var u=od(s);if(u===null)Xc(e,t,s,eo,i),rv(e,s);else if(Eb(u,e,t,i,s))s.stopPropagation();else if(rv(e,s),t&4&&-1<Sb.indexOf(e)){for(;u!==null;){var d=Oi(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=tt(d.pendingLanes);if(v!==0){var p=d;for(p.pendingLanes|=2,p.entangledLanes|=2;v;){var S=1<<31-dt(v);p.entanglements[1]|=S,v&=~S}Vn(d),(je&6)===0&&(Ul=ze()+500,ls(0))}}break;case 31:case 13:p=Wa(d,2),p!==null&&Pt(p,d,2),Bl(),sd(d,2)}if(d=od(s),d===null&&Xc(e,t,s,eo,i),d===u)break;u=d}u!==null&&s.stopPropagation()}else Xc(e,t,s,null,i)}}function od(e){return e=cu(e),ud(e)}var eo=null;function ud(e){if(eo=null,e=Ri(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eo=e,null}function iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case jt:return 2;case It:return 8;case tn:case In:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var cd=!1,La=null,Ba=null,qa=null,ms=new Map,gs=new Map,Ha=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function vs(e,t,i,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Oi(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Eb(e,t,i,s,u){switch(t){case"focusin":return La=vs(La,e,t,i,s,u),!0;case"dragenter":return Ba=vs(Ba,e,t,i,s,u),!0;case"mouseover":return qa=vs(qa,e,t,i,s,u),!0;case"pointerover":var d=u.pointerId;return ms.set(d,vs(ms.get(d)||null,e,t,i,s,u)),!0;case"gotpointercapture":return d=u.pointerId,gs.set(d,vs(gs.get(d)||null,e,t,i,s,u)),!0}return!1}function sv(e){var t=Ri(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,pa(e.priority,function(){av(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,pa(e.priority,function(){av(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=od(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);uu=s,i.target.dispatchEvent(s),uu=null}else return t=Oi(i),t!==null&&nv(t),e.blockedOn=i,!1;t.shift()}return!0}function lv(e,t,i){to(e)&&i.delete(t)}function Tb(){cd=!1,La!==null&&to(La)&&(La=null),Ba!==null&&to(Ba)&&(Ba=null),qa!==null&&to(qa)&&(qa=null),ms.forEach(lv),gs.forEach(lv)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Tb)))}var ao=null;function ov(e){ao!==e&&(ao=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(ud(s||i)===null)continue;break}var d=Oi(i);d!==null&&(e.splice(t,3),t-=3,oc(d,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function ur(e){function t(S){return no(S,e)}La!==null&&no(La,e),Ba!==null&&no(Ba,e),qa!==null&&no(qa,e),ms.forEach(t),gs.forEach(t);for(var i=0;i<Ha.length;i++){var s=Ha[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ha.length&&(i=Ha[0],i.blockedOn===null);)sv(i),i.blockedOn===null&&Ha.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],d=i[s+1],v=u[Vt]||null;if(typeof d=="function")v||ov(i);else if(v){var p=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[Vt]||null)p=v.formAction;else if(ud(u)!==null)continue}else p=v.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),ov(i)}}}function uv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function dd(e){this._internalRoot=e}io.prototype.render=dd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,s=cn();ev(i,s,e,t,null,null)},io.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ev(e.current,2,null,e,null,null),Bl(),t[Ai]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nn();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ha.length&&t!==0&&t<Ha[i].priority;i++);Ha.splice(i,0,e),i===0&&sv(e)}};var cv=n.version;if(cv!=="19.2.4")throw Error(l(527,cv,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Xn=ro.inject(xb),Et=ro}catch{}}return ps.createRoot=function(e,t){if(!o(e))throw Error(l(299));var i=!1,s="",u=ym,d=pm,v=bm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Fg(e,1,!1,null,null,i,s,null,u,d,v,uv),e[Ai]=t.current,Kc(e),new dd(t)},ps.hydrateRoot=function(e,t,i){if(!o(e))throw Error(l(299));var s=!1,u="",d=ym,v=pm,p=bm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=Fg(e,1,!0,t,i??null,s,u,S,d,v,p,uv),t.context=Wg(null),i=t.current,s=cn(),s=Qn(s),u=xa(s),u.callback=null,Aa(i,u,s),i=s,t.current.lanes=i,gn(t,i),Vn(t),e[Ai]=t.current,Kc(e),new io(t)},ps.version="19.2.4",ps}var _v;function zb(){if(_v)return md.exports;_v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),md.exports=kb(),md.exports}var Ub=zb();const wv=a=>{let n;const r=new Set,l=(g,y)=>{const b=typeof g=="function"?g(n):g;if(!Object.is(b,n)){const _=n;n=y??(typeof b!="object"||b===null)?b:Object.assign({},n,b),r.forEach(w=>w(n,_))}},o=()=>n,h={setState:l,getState:o,getInitialState:()=>m,subscribe:g=>(r.add(g),()=>r.delete(g))},m=n=a(l,o,h);return h},Lb=(a=>a?wv(a):wv),Bb=a=>a;function qb(a,n=Bb){const r=St.useSyncExternalStore(a.subscribe,St.useCallback(()=>n(a.getState()),[a,n]),St.useCallback(()=>n(a.getInitialState()),[a,n]));return St.useDebugValue(r),r}const Sv=a=>{const n=Lb(a),r=l=>qb(n,l);return Object.assign(r,n),r},yy=(a=>a?Sv(a):Sv);var py=Symbol.for("immer-nothing"),Ev=Symbol.for("immer-draftable"),Ht=Symbol.for("immer-state");function Bn(a,...n){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var hn=Object,Er=hn.getPrototypeOf,Eo="constructor",Ho="prototype",jd="configurable",To="enumerable",bo="writable",Os="value",Va=a=>!!a&&!!a[Ht];function va(a){return a?by(a)||$o(a)||!!a[Ev]||!!a[Eo]?.[Ev]||Go(a)||Yo(a):!1}var Hb=hn[Ho][Eo].toString(),Tv=new WeakMap;function by(a){if(!a||!rf(a))return!1;const n=Er(a);if(n===null||n===hn[Ho])return!0;const r=hn.hasOwnProperty.call(n,Eo)&&n[Eo];if(r===Object)return!0;if(!vr(r))return!1;let l=Tv.get(r);return l===void 0&&(l=Function.toString.call(r),Tv.set(r,l)),l===Hb}function Io(a,n,r=!0){$s(a)===0?(r?Reflect.ownKeys(a):hn.keys(a)).forEach(o=>{n(o,a[o],a)}):a.forEach((l,o)=>n(o,l,a))}function $s(a){const n=a[Ht];return n?n.type_:$o(a)?1:Go(a)?2:Yo(a)?3:0}var xv=(a,n,r=$s(a))=>r===2?a.has(n):hn[Ho].hasOwnProperty.call(a,n),Md=(a,n,r=$s(a))=>r===2?a.get(n):a[n],xo=(a,n,r,l=$s(a))=>{l===2?a.set(n,r):l===3?a.add(r):a[n]=r};function Ib(a,n){return a===n?a!==0||1/a===1/n:a!==a&&n!==n}var $o=Array.isArray,Go=a=>a instanceof Map,Yo=a=>a instanceof Set,rf=a=>typeof a=="object",vr=a=>typeof a=="function",pd=a=>typeof a=="boolean";function $b(a){const n=+a;return Number.isInteger(n)&&String(n)===a}var ga=a=>a.copy_||a.base_,sf=a=>a.modified_?a.copy_:a.base_;function kd(a,n){if(Go(a))return new Map(a);if(Yo(a))return new Set(a);if($o(a))return Array[Ho].slice.call(a);const r=by(a);if(n===!0||n==="class_only"&&!r){const l=hn.getOwnPropertyDescriptors(a);delete l[Ht];let o=Reflect.ownKeys(l);for(let c=0;c<o.length;c++){const f=o[c],h=l[f];h[bo]===!1&&(h[bo]=!0,h[jd]=!0),(h.get||h.set)&&(l[f]={[jd]:!0,[bo]:!0,[To]:h[To],[Os]:a[f]})}return hn.create(Er(a),l)}else{const l=Er(a);if(l!==null&&r)return{...a};const o=hn.create(l);return hn.assign(o,a)}}function lf(a,n=!1){return Vo(a)||Va(a)||!va(a)||($s(a)>1&&hn.defineProperties(a,{set:so,add:so,clear:so,delete:so}),hn.freeze(a),n&&Io(a,(r,l)=>{lf(l,!0)},!1)),a}function Gb(){Bn(2)}var so={[Os]:Gb};function Vo(a){return a===null||!rf(a)?!0:hn.isFrozen(a)}var Ao="MapSet",zd="Patches",Av="ArrayMethods",_y={};function _i(a){const n=_y[a];return n||Bn(0,a),n}var Rv=a=>!!_y[a],Ds,wy=()=>Ds,Yb=(a,n)=>({drafts_:[],parent_:a,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Rv(Ao)?_i(Ao):void 0,arrayMethodsPlugin_:Rv(Av)?_i(Av):void 0});function Ov(a,n){n&&(a.patchPlugin_=_i(zd),a.patches_=[],a.inversePatches_=[],a.patchListener_=n)}function Ud(a){Ld(a),a.drafts_.forEach(Vb),a.drafts_=null}function Ld(a){a===Ds&&(Ds=a.parent_)}var Dv=a=>Ds=Yb(Ds,a);function Vb(a){const n=a[Ht];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Cv(a,n){n.unfinalizedDrafts_=n.drafts_.length;const r=n.drafts_[0];if(a!==void 0&&a!==r){r[Ht].modified_&&(Ud(n),Bn(4)),va(a)&&(a=Nv(n,a));const{patchPlugin_:o}=n;o&&o.generateReplacementPatches_(r[Ht].base_,a,n)}else a=Nv(n,r);return Kb(n,a,!0),Ud(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),a!==py?a:void 0}function Nv(a,n){if(Vo(n))return n;const r=n[Ht];if(!r)return Ro(n,a.handledSet_,a);if(!Ko(r,a))return n;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:l}=r;if(l)for(;l.length>0;)l.pop()(a);Ty(r,a)}return r.copy_}function Kb(a,n,r=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&lf(n,r)}function Sy(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var Ko=(a,n)=>a.scope_===n,Xb=[];function Ey(a,n,r,l){const o=ga(a),c=a.type_;if(l!==void 0&&Md(o,l,c)===n){xo(o,l,r,c);return}if(!a.draftLocations_){const h=a.draftLocations_=new Map;Io(o,(m,g)=>{if(Va(g)){const y=h.get(g)||[];y.push(m),h.set(g,y)}})}const f=a.draftLocations_.get(n)??Xb;for(const h of f)xo(o,h,r,c)}function Qb(a,n,r){a.callbacks_.push(function(o){const c=n;if(!c||!Ko(c,o))return;o.mapSetPlugin_?.fixSetContents(c);const f=sf(c);Ey(a,c.draft_??c,f,r),Ty(c,o)})}function Ty(a,n){if(a.modified_&&!a.finalized_&&(a.type_===3||a.type_===1&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){const{patchPlugin_:l}=n;if(l){const o=l.getPath(a);o&&l.generatePatches_(a,o,n)}Sy(a)}}function Jb(a,n,r){const{scope_:l}=a;if(Va(r)){const o=r[Ht];Ko(o,l)&&o.callbacks_.push(function(){_o(a);const f=sf(o);Ey(a,r,f,n)})}else va(r)&&a.callbacks_.push(function(){const c=ga(a);a.type_===3?c.has(r)&&Ro(r,l.handledSet_,l):Md(c,n,a.type_)===r&&l.drafts_.length>1&&(a.assigned_.get(n)??!1)===!0&&a.copy_&&Ro(Md(a.copy_,n,a.type_),l.handledSet_,l)})}function Ro(a,n,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Va(a)||n.has(a)||!va(a)||Vo(a)||(n.add(a),Io(a,(l,o)=>{if(Va(o)){const c=o[Ht];if(Ko(c,r)){const f=sf(c);xo(a,l,f,a.type_),Sy(c)}}else va(o)&&Ro(o,n,r)})),a}function Zb(a,n){const r=$o(a),l={type_:r?1:0,scope_:n?n.scope_:wy(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=l,c=Oo;r&&(o=[l],c=Cs);const{revoke:f,proxy:h}=Proxy.revocable(o,c);return l.draft_=h,l.revoke_=f,[h,l]}var Oo={get(a,n){if(n===Ht)return a;let r=a.scope_.arrayMethodsPlugin_;const l=a.type_===1&&typeof n=="string";if(l&&r?.isArrayOperationMethod(n))return r.createMethodInterceptor(a,n);const o=ga(a);if(!xv(o,n,a.type_))return Pb(a,o,n);const c=o[n];if(a.finalized_||!va(c)||l&&a.operationMethod&&r?.isMutatingArrayMethod(a.operationMethod)&&$b(n))return c;if(c===bd(a.base_,n)){_o(a);const f=a.type_===1?+n:n,h=qd(a.scope_,c,a,f);return a.copy_[f]=h}return c},has(a,n){return n in ga(a)},ownKeys(a){return Reflect.ownKeys(ga(a))},set(a,n,r){const l=xy(ga(a),n);if(l?.set)return l.set.call(a.draft_,r),!0;if(!a.modified_){const o=bd(ga(a),n),c=o?.[Ht];if(c&&c.base_===r)return a.copy_[n]=r,a.assigned_.set(n,!1),!0;if(Ib(r,o)&&(r!==void 0||xv(a.base_,n,a.type_)))return!0;_o(a),Bd(a)}return a.copy_[n]===r&&(r!==void 0||n in a.copy_)||Number.isNaN(r)&&Number.isNaN(a.copy_[n])||(a.copy_[n]=r,a.assigned_.set(n,!0),Jb(a,n,r)),!0},deleteProperty(a,n){return _o(a),bd(a.base_,n)!==void 0||n in a.base_?(a.assigned_.set(n,!1),Bd(a)):a.assigned_.delete(n),a.copy_&&delete a.copy_[n],!0},getOwnPropertyDescriptor(a,n){const r=ga(a),l=Reflect.getOwnPropertyDescriptor(r,n);return l&&{[bo]:!0,[jd]:a.type_!==1||n!=="length",[To]:l[To],[Os]:r[n]}},defineProperty(){Bn(11)},getPrototypeOf(a){return Er(a.base_)},setPrototypeOf(){Bn(12)}},Cs={};for(let a in Oo){let n=Oo[a];Cs[a]=function(){const r=arguments;return r[0]=r[0][0],n.apply(this,r)}}Cs.deleteProperty=function(a,n){return Cs.set.call(this,a,n,void 0)};Cs.set=function(a,n,r){return Oo.set.call(this,a[0],n,r,a[0])};function bd(a,n){const r=a[Ht];return(r?ga(r):a)[n]}function Pb(a,n,r){const l=xy(n,r);return l?Os in l?l[Os]:l.get?.call(a.draft_):void 0}function xy(a,n){if(!(n in a))return;let r=Er(a);for(;r;){const l=Object.getOwnPropertyDescriptor(r,n);if(l)return l;r=Er(r)}}function Bd(a){a.modified_||(a.modified_=!0,a.parent_&&Bd(a.parent_))}function _o(a){a.copy_||(a.assigned_=new Map,a.copy_=kd(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var Fb=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,l)=>{if(vr(n)&&!vr(r)){const c=r;r=n;const f=this;return function(m=c,...g){return f.produce(m,y=>r.call(this,y,...g))}}vr(r)||Bn(6),l!==void 0&&!vr(l)&&Bn(7);let o;if(va(n)){const c=Dv(this),f=qd(c,n,void 0);let h=!0;try{o=r(f),h=!1}finally{h?Ud(c):Ld(c)}return Ov(c,l),Cv(o,c)}else if(!n||!rf(n)){if(o=r(n),o===void 0&&(o=n),o===py&&(o=void 0),this.autoFreeze_&&lf(o,!0),l){const c=[],f=[];_i(zd).generateReplacementPatches_(n,o,{patches_:c,inversePatches_:f}),l(c,f)}return o}else Bn(1,n)},this.produceWithPatches=(n,r)=>{if(vr(n))return(f,...h)=>this.produceWithPatches(f,m=>n(m,...h));let l,o;return[this.produce(n,r,(f,h)=>{l=f,o=h}),l,o]},pd(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),pd(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),pd(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){va(a)||Bn(8),Va(a)&&(a=Wb(a));const n=Dv(this),r=qd(n,a,void 0);return r[Ht].isManual_=!0,Ld(n),r}finishDraft(a,n){const r=a&&a[Ht];(!r||!r.isManual_)&&Bn(9);const{scope_:l}=r;return Ov(l,n),Cv(void 0,l)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){a=o.value;break}}r>-1&&(n=n.slice(r+1));const l=_i(zd).applyPatches_;return Va(a)?l(a,n):this.produce(a,o=>l(o,n))}};function qd(a,n,r,l){const[o,c]=Go(n)?_i(Ao).proxyMap_(n,r):Yo(n)?_i(Ao).proxySet_(n,r):Zb(n,r);return(r?.scope_??wy()).drafts_.push(o),c.callbacks_=r?.callbacks_??[],c.key_=l,r&&l!==void 0?Qb(r,c,l):c.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(c);const{patchPlugin_:g}=m;c.modified_&&g&&g.generatePatches_(c,[],m)}),o}function Wb(a){return Va(a)||Bn(10,a),Ay(a)}function Ay(a){if(!va(a)||Vo(a))return a;const n=a[Ht];let r,l=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=kd(a,n.scope_.immer_.useStrictShallowCopy_),l=n.scope_.immer_.shouldUseStrictIteration()}else r=kd(a,!0);return Io(r,(o,c)=>{xo(r,o,Ay(c))},l),n&&(n.finalized_=!1),r}var e_=new Fb,t_=e_.produce;const n_=a=>(n,r,l)=>(l.setState=(o,c,...f)=>{const h=typeof o=="function"?t_(o):o;return n(h,c,...f)},a(l.setState,r,l)),a_=n_,of=120,uf=180,wi=40,Ka=40,Do=30,Hd=(Ka-Do)/2,Si=28,Ry=20,i_=(Si-Ry)/2,r_=52,Id=50,s_=340,l_=2e3,jv=8,wo=["#4472C4","#548235","#BF8F00","#C00000","#7030A0","#00B0F0","#FFC000","#ED7D31"],o_={"discovery-design":"Discovery / Design","implementation-build":"Implementation / Build","testing-release":"Testing / Release","ongoing-continuous":"Ongoing / Continuous","fbn-led-work":"FBN-Led Work"},Dn=80,lo={"discovery-design":"Discovery","implementation-build":"Build","testing-release":"Testing","ongoing-continuous":"Ongoing","fbn-led-work":"FBN-Led"},Oy=["#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5","#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5"],Dy={timelineStartDate:"2025-12-22",timelineEndDate:"2026-12-31"};function Co(a,n,r,l){return a.some(o=>o.id!==n&&r<o.endDate&&l>o.startDate)}function Xo(a,n){var r={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(r[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(r[l[o]]=a[l[o]]);return r}function u_(a,n,r,l){function o(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function h(y){try{g(l.next(y))}catch(b){f(b)}}function m(y){try{g(l.throw(y))}catch(b){f(b)}}function g(y){y.done?c(y.value):o(y.value).then(h,m)}g((l=l.apply(a,n||[])).next())})}const c_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class cf extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class d_ extends cf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Mv extends cf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class kv extends cf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var $d;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})($d||($d={}));class f_{constructor(n,{headers:r={},customFetch:l,region:o=$d.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=c_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return u_(this,arguments,void 0,function*(r,l={}){var o;let c,f;try{const{headers:h,method:m,body:g,signal:y,timeout:b}=l;let _={},{region:w}=l;w||(w=this.region);const O=new URL(`${this.url}/${r}`);w&&w!=="any"&&(_["x-region"]=w,O.searchParams.set("forceFunctionRegion",w));let N;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(_["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(_["Content-Type"]="application/json",N=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?N=JSON.stringify(g):N=g;let j=y;b&&(f=new AbortController,c=setTimeout(()=>f.abort(),b),y?(j=f.signal,y.addEventListener("abort",()=>f.abort())):j=f.signal);const H=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:N,signal:j}).catch(Y=>{throw new d_(Y)}),D=H.headers.get("x-relay-error");if(D&&D==="true")throw new Mv(H);if(!H.ok)throw new kv(H);let U=((o=H.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),B;return U==="application/json"?B=yield H.json():U==="application/octet-stream"||U==="application/pdf"?B=yield H.blob():U==="text/event-stream"?B=H:U==="multipart/form-data"?B=yield H.formData():B=yield H.text(),{data:B,error:null,response:H}}catch(h){return{data:null,error:h,response:h instanceof kv||h instanceof Mv?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var h_=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},m_=class{constructor(a){var n,r,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(r=a.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=a.urlLengthLimit)!==null&&l!==void 0?l:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,h=null,m=null,g=c.status,y=c.statusText;if(c.ok){var b,_;if(r.method!=="HEAD"){var w;const H=await c.text();H===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=H:h=JSON.parse(H))}const N=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),j=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&j&&j.length>1&&(m=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var O;const N=await c.text();try{f=JSON.parse(N),Array.isArray(f)&&c.status===404&&(h=[],f=null,g=200,y="OK")}catch{c.status===404&&N===""?(g=204,y="No Content"):f={message:N}}if(f&&r.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&r.shouldThrowOnError)throw new h_(f)}return{error:f,data:h,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let h="",m="",g="";const y=c?.cause;if(y){var b,_,w,O;const H=(b=y?.message)!==null&&b!==void 0?b:"",D=(_=y?.code)!==null&&_!==void 0?_:"";h=`${(w=c?.name)!==null&&w!==void 0?w:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(O=y?.name)!==null&&O!==void 0?O:"Error"}: ${H}`,D&&(h+=` (${D})`),y?.stack&&(h+=`
${y.stack}`)}else{var N;h=(N=c?.stack)!==null&&N!==void 0?N:""}const j=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:h,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},g_=class extends m_{select(a){let n=!1;const r=(a??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,n,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(c,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const h=[a?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const zv=new RegExp("[,()]");var yr=class extends g_{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&zv.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${r})`),this}notIn(a,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&zv.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${r})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:r,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(a,`${o}fts${c}.${n}`),this}match(a){return Object.entries(a).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(a,n,r){return this.url.searchParams.append(a,`not.${n}.${r}`),this}or(a,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,n,r){return this.url.searchParams.append(a,`${n}.${r}`),this}},v_=class{constructor(a,{headers:n={},schema:r,fetch:l,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=r,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:r=!1,count:l}=n??{},o=r?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",f),l&&m.append("Prefer",`count=${l}`),new yr({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:r=!0}={}){var l;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new yr({method:o,url:c,headers:f,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),o||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",y.join(","))}}return new yr({method:f,url:h,headers:m,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var r;const l="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new yr({method:l,url:o,headers:c,schema:this.schema,body:a,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const r="DELETE",{url:l,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new yr({method:r,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ns(a){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ns(a)}function y_(a,n){if(Ns(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,n);if(Ns(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function p_(a){var n=y_(a,"string");return Ns(n)=="symbol"?n:n+""}function b_(a,n,r){return(n=p_(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function Uv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,l)}return r}function oo(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Uv(Object(r),!0).forEach(function(l){b_(a,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(r,l))})}return a}var __=class Cy{constructor(n,{headers:r={},schema:l,fetch:o,timeout:c,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=f;const h=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,g)=>{const y=new AbortController,b=setTimeout(()=>y.abort(),c),_=g?.signal;if(_){if(_.aborted)return clearTimeout(b),h(m,g);const w=()=>{clearTimeout(b),y.abort()};return _.addEventListener("abort",w,{once:!0}),h(m,oo(oo({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",w)})}return h(m,oo(oo({},g),{},{signal:y.signal})).finally(()=>clearTimeout(b))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new v_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Cy(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:l=!1,get:o=!1,count:c}={}){var f;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),b=l&&Object.values(r).some(y);b?(h="POST",g=r):l||o?(h=l?"HEAD":"GET",Object.entries(r).filter(([w,O])=>O!==void 0).map(([w,O])=>[w,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([w,O])=>{m.searchParams.append(w,O)})):(h="POST",g=r);const _=new Headers(this.headers);return b?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new yr({method:h,url:m,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class w_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const S_="2.95.3",E_=`realtime-js/${S_}`,T_="1.0.0",Ny="2.0.0",Lv=Ny,Gd=1e4,x_=1e3,A_=100;var $a;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})($a||($a={}));var mt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(mt||(mt={}));var Ln;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Ln||(Ln={}));var Yd;(function(a){a.websocket="websocket"})(Yd||(Yd={}));var gi;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(gi||(gi={}));class R_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var o,c;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let O=new DataView(w),N=0;O.setUint8(N++,this.KINDS.userBroadcastPush),O.setUint8(N++,m.length),O.setUint8(N++,h.length),O.setUint8(N++,f.length),O.setUint8(N++,g.length),O.setUint8(N++,b.length),O.setUint8(N++,r),Array.from(m,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(h,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(f,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(g,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(b,H=>O.setUint8(N++,H.charCodeAt(0)));var j=new Uint8Array(w.byteLength+l.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(l),w.byteLength),j.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,f,h,m]=l;return r({join_ref:o,ref:c,topic:f,event:h,payload:m})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,o)}_decodeUserBroadcast(n,r,l){const o=r.getUint8(1),c=r.getUint8(2),f=r.getUint8(3),h=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const y=l.decode(n.slice(m,m+c));m=m+c;const b=l.decode(n.slice(m,m+f));m=m+f;const _=n.slice(m,n.byteLength),w=h===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,O={type:this.BROADCAST_EVENT,event:y,payload:w};return f>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class jy{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ge||(Ge={}));const Bv=(a,n,r={})=>{var l;const o=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=O_(f,a,n,o),c),{}):{}},O_=(a,n,r,l)=>{const o=n.find(h=>h.name===a),c=o?.type,f=r[a];return c&&!l.includes(c)?My(c,f):Vd(f)},My=(a,n)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return j_(n,r)}switch(a){case Ge.bool:return D_(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return C_(n);case Ge.json:case Ge.jsonb:return N_(n);case Ge.timestamp:return M_(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Vd(n);default:return Vd(n)}},Vd=a=>a,D_=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},C_=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},N_=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},j_=(a,n)=>{if(typeof a!="string")return a;const r=a.length-1,l=a[r];if(a[0]==="{"&&l==="}"){let c;const f=a.slice(1,r);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(h=>My(n,h))}return a},M_=a=>typeof a=="string"?a.replace(" ","T"):a,ky=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class _d{constructor(n,r,l={},o=Gd){this.channel=n,this.event=r,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var qv;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(qv||(qv={}));class Es{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,o,c,f),this.pendingDiffs.forEach(m=>{this.state=Es.syncDiff(this.state,m,c,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Es.syncDiff(this.state,o,c,f),h())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,o){const c=this.cloneDeep(n),f=this.transformState(r),h={},m={};return this.map(c,(g,y)=>{f[g]||(m[g]=y)}),this.map(f,(g,y)=>{const b=c[g];if(b){const _=y.map(j=>j.presence_ref),w=b.map(j=>j.presence_ref),O=y.filter(j=>w.indexOf(j.presence_ref)<0),N=b.filter(j=>_.indexOf(j.presence_ref)<0);O.length>0&&(h[g]=O),N.length>0&&(m[g]=N)}else h[g]=y}),this.syncDiff(c,{joins:h,leaves:m},l,o)}static syncDiff(n,r,l,o){const{joins:c,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var g;const y=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),y.length>0){const b=n[h].map(w=>w.presence_ref),_=y.filter(w=>b.indexOf(w.presence_ref)<0);n[h].unshift(..._)}l(h,y,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const y=m.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const o=n[l];return"metas"in o?r[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[l]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hv;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Hv||(Hv={}));var Ts;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ts||(Ts={}));var ma;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class _r{constructor(n,r={config:{}},l){var o,c;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _d(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Es(this),this.broadcastEndpointURL=ky(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(ma.CHANNEL_ERROR,w)),this._onClose(()=>n?.(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){n?.(ma.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(O=N?.length)!==null&&O!==void 0?O:0,H=[];for(let D=0;D<j;D++){const U=N[D],{filter:{event:B,schema:Y,table:Q,filter:K}}=U,P=w&&w[D];if(P&&P.event===B&&_r.isFilterValueEqual(P.schema,Y)&&_r.isFilterValueEqual(P.table,Q)&&_r.isFilterValueEqual(P.filter,K))H.push(Object.assign(Object.assign({},U),{id:P.id}));else{this.unsubscribe(),this.state=mt.errored,n?.(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,n&&n(ma.SUBSCRIBED);return}}).receive("error",w=>{this.state=mt.errored,n?.(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===mt.joined&&n===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,r={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,h,m;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new _d(this,Ln.leave,{},n),l.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _d(this,n,r,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>A_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var o,c;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=Ln;if(l&&[h,m,g,y].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,r,l);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var O,N,j;return((O=w.filter)===null||O===void 0?void 0:O.event)==="*"||((j=(N=w.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(w=>w.callback(_,l)):(c=this.bindings[f])===null||c===void 0||c.filter(w=>{var O,N,j,H,D,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const B=w.id,Y=(O=w.filter)===null||O===void 0?void 0:O.event;return B&&((N=r.ids)===null||N===void 0?void 0:N.includes(B))&&(Y==="*"||Y?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const B=(D=(H=w?.filter)===null||H===void 0?void 0:H.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return B==="*"||B===((U=r?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof _=="object"&&"ids"in _){const O=_.data,{schema:N,table:j,commit_timestamp:H,type:D,errors:U}=O;_=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:H,eventType:D,new:{},old:{},errors:U}),this._getPayloadRecords(O))}w.callback(_,l)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const o=n.toLocaleLowerCase(),c={type:o,filter:r,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&_r.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ln.close,{},n)}_onError(n){this._on(Ln.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Bv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Bv(n.columns,n.old_record)),r}}const wd=()=>{},uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k_=[1e3,2e3,5e3,1e4],z_=1e4,U_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L_{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.transport=null,this.heartbeatIntervalMs=uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wd,this.ref=0,this.reconnectTimer=null,this.vsn=Lv,this.logger=wd,this.conn=null,this.sendBuffer=[],this.serializer=new R_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Yd.websocket}`,this.httpEndpoint=ky(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return r==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case $a.connecting:return gi.Connecting;case $a.open:return gi.Open;case $a.closing:return gi.Closing;default:return gi.Closed}}isConnected(){return this.connectionState()===gi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new _r(`realtime:${n}`,r,this);return this.channels.push(c),c}}push(n){const{topic:r,event:l,payload:o,ref:c}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${r} ${l} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(x_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:c,ref:f}=r,h=f?`(${f})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,c,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===$a.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$a.open||this.conn.readyState===$a.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ln.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${l}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([U_],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:E_};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,o,c,f,h,m,g,y,b,_,w;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Gd,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:uo.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:wd,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Lv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(O=>k_[O-1]||z_),this.vsn){case T_:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((O,N)=>N(JSON.stringify(O))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((O,N)=>N(JSON.parse(O)));break;case Ny:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var js=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function B_(a,n,r){const l=new URL(n,a);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function q_(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function H_(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:o,body:c,headers:f}){const h=B_(a.baseUrl,l,o),m=await q_(a.auth),g=await n(h,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...f},body:c?JSON.stringify(c):void 0}),y=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&y?JSON.parse(y):y;if(!g.ok){const w=b?_:void 0,O=w?.error;throw new js(O?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:O?.type,icebergCode:O?.code,details:w})}return{status:g.status,headers:g.headers,data:_}}}}function co(a){return a.join("")}var I_=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:co(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const r={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(a.namespace)}`}),!0}catch(n){if(n instanceof js&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(r){if(r instanceof js&&r.status===409)return;throw r}}};function cr(a){return a.join("")}var $_=class{constructor(a,n="",r){this.client=a,this.prefix=n,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(a,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(r){if(r instanceof js&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(r){if(r instanceof js&&r.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw r}}},G_=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=H_({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new I_(this.client,n),this.tableOps=new $_(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Qo=class extends Error{constructor(a,n="storage",r,l){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Jo(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var fo=class extends Qo{constructor(a,n,r,l="storage"){super(a,l,n,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zy=class extends Qo{constructor(a,n,r="storage"){super(a,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Y_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),V_=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Kd=a=>{if(Array.isArray(a))return a.map(r=>Kd(r));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([r,l])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Kd(l)}),n},K_=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Ms(a){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ms(a)}function X_(a,n){if(Ms(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,n);if(Ms(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Q_(a){var n=X_(a,"string");return Ms(n)=="symbol"?n:n+""}function J_(a,n,r){return(n=Q_(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function Iv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,l)}return r}function he(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Iv(Object(r),!0).forEach(function(l){J_(a,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(r,l))})}return a}const $v=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},Z_=async(a,n,r,l)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!r?.noResolveJson){const o=a,c=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const h=f?.statusCode||f?.code||c+"";n(new fo($v(f),c,h,l))}).catch(()=>{if(l==="vectors"){const f=c+"";n(new fo(o.statusText||`HTTP ${c} error`,c,f,l))}else{const f=c+"";n(new fo(o.statusText||`HTTP ${c} error`,c,f,l))}});else{const f=c+"";n(new fo(o.statusText||`HTTP ${c} error`,c,f,l))}}else n(new zy($v(a),a,l))},P_=(a,n,r,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!l?he(he({},o),r):(V_(l)?(o.headers=he({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),he(he({},o),r))};async function bs(a,n,r,l,o,c,f){return new Promise((h,m)=>{a(r,P_(n,l,o,c)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;if(f==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>Z_(g,m,l,f))})}function Uy(a="storage"){return{get:async(n,r,l,o)=>bs(n,"GET",r,l,o,void 0,a),post:async(n,r,l,o,c)=>bs(n,"POST",r,o,c,l,a),put:async(n,r,l,o,c)=>bs(n,"PUT",r,o,c,l,a),head:async(n,r,l,o)=>bs(n,"HEAD",r,he(he({},l),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,r,l,o,c)=>bs(n,"DELETE",r,o,c,l,a)}}const F_=Uy("storage"),{get:ks,post:Un,put:Xd,head:W_,remove:df}=F_,fn=Uy("vectors");var Tr=class{constructor(a,n={},r,l="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Y_(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Jo(r))return{data:null,error:r};throw r}}},ew=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Jo(n))return{data:null,error:n};throw n}}};let Ly;Ly=Symbol.toStringTag;var tw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Ly]="BlobDownloadBuilder",this.promise=null}asStream(){return new ew(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Jo(n))return{data:null,error:n};throw n}}};const nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aw=class extends Tr{constructor(a,n={},r,l){super(a,n,l,"storage"),this.bucketId=r}async uploadOrUpdate(a,n,r,l){var o=this;return o.handleOperation(async()=>{let c;const f=he(he({},Gv),l);let h=he(he({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(h=he(he({},h),l.headers));const g=o._removeEmptyFolders(n),y=o._getFinalPath(g),b=await(a=="PUT"?Xd:Un)(o.fetch,`${o.url}/object/${y}`,c,he({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(a,n,r){return this.uploadOrUpdate("POST",a,n,r)}async uploadToSignedUrl(a,n,r,l){var o=this;const c=o._removeEmptyFolders(a),f=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${f}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const g=he({upsert:Gv.upsert},l),y=he(he({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:c,fullPath:(await Xd(o.fetch,h.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(a,n){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(a);const o=he({},r.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Un(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(r.url+c.url),h=f.searchParams.get("token");if(!h)throw new Qo("No token returned by API");return{signedUrl:f.toString(),path:a,token:h}})}async update(a,n,r){return this.uploadOrUpdate("PUT",a,n,r)}async move(a,n,r){var l=this;return l.handleOperation(async()=>await Un(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}))}async copy(a,n,r){var l=this;return l.handleOperation(async()=>({path:(await Un(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(a,n,r){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(a),c=await Un(l.fetch,`${l.url}/object/sign/${o}`,he({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${c.signedURL}${f}`)}})}async createSignedUrls(a,n,r){var l=this;return l.handleOperation(async()=>{const o=await Un(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:a},{headers:l.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(f=>he(he({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${c}`):null}))})}download(a,n,r){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(a),h=()=>ks(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0},r);return new tw(h,this.shouldThrowOnError)}async info(a){var n=this;const r=n._getFinalPath(a);return n.handleOperation(async()=>Kd(await ks(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(a){var n=this;const r=n._getFinalPath(a);try{return await W_(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Jo(l)&&l instanceof zy){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,n){const r=this._getFinalPath(a),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,r){var l=this;return l.handleOperation(async()=>{const o=he(he(he({},nw),n),{},{prefix:a||""});return await Un(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},r)})}async listV2(a,n){var r=this;return r.handleOperation(async()=>{const l=he({},a);return await Un(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const iw="2.95.3",Gs={"X-Client-Info":`storage-js/${iw}`};var rw=class extends Tr{constructor(a,n={},r,l){const o=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),f=he(he({},Gs),n);super(c,f,r,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(a);return await ks(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await ks(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var r=this;return r.handleOperation(async()=>await Un(r.fetch,`${r.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(a,n){var r=this;return r.handleOperation(async()=>await Xd(r.fetch,`${r.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Un(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},sw=class extends Tr{constructor(a,n={},r){const l=a.replace(/\/$/,""),o=he(he({},Gs),n);super(l,o,r,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Un(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const l=r.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await ks(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!K_(a))throw new Qo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new G_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}},lw=class extends Tr{constructor(a,n={},r){const l=a.replace(/\/$/,""),o=he(he({},Gs),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var r=this;return r.handleOperation(async()=>await fn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var r=this;return r.handleOperation(async()=>await fn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers})||{})}},ow=class extends Tr{constructor(a,n={},r){const l=a.replace(/\/$/,""),o=he(he({},Gs),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},uw=class extends Tr{constructor(a,n={},r){const l=a.replace(/\/$/,""),o=he(he({},Gs),{},{"Content-Type":"application/json"},n);super(l,o,r,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await fn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},cw=class extends uw{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new dw(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,r=this;return n().call(r,a)}async getBucket(a){var n=()=>super.getBucket,r=this;return n().call(r,a)}async listBuckets(a={}){var n=()=>super.listBuckets,r=this;return n().call(r,a)}async deleteBucket(a){var n=()=>super.deleteBucket,r=this;return n().call(r,a)}},dw=class extends lw{constructor(a,n,r,l){super(a,n,l),this.vectorBucketName=r}async createIndex(a){var n=()=>super.createIndex,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,a)}index(a){return new fw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},fw=class extends ow{constructor(a,n,r,l,o){super(a,n,o),this.vectorBucketName=r,this.indexName=l}async putVectors(a){var n=()=>super.putVectors,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(a){var n=()=>super.getVectors,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,r=this;return n().call(r,he(he({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},hw=class extends rw{constructor(a,n={},r,l){super(a,n,r,l)}from(a){return new aw(this.url,this.headers,a,this.fetch)}get vectors(){return new cw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sw(this.url+"/iceberg",this.headers,this.fetch)}};const By="2.95.3",pr=30*1e3,Qd=3,Sd=Qd*pr,mw="http://localhost:9999",gw="supabase.auth.token",vw={"X-Client-Info":`gotrue-js/${By}`},Jd="X-Supabase-Api-Version",qy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pw=600*1e3;class zs extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ie(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class bw extends zs{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function _w(a){return ie(a)&&a.name==="AuthApiError"}class vi extends zs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class ya extends zs{constructor(n,r,l,o){super(n,l,o),this.name=r,this.status=l}}class dn extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ed(a){return ie(a)&&a.name==="AuthSessionMissingError"}class dr extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ho extends ya{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class mo extends ya{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ww(a){return ie(a)&&a.name==="AuthImplicitGrantRedirectError"}class Yv extends ya{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sw extends ya{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zd extends ya{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Td(a){return ie(a)&&a.name==="AuthRetryableFetchError"}class Vv extends ya{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Pd extends ya{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kv=` 	
\r=`.split(""),Ew=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Kv.length;n+=1)a[Kv[n].charCodeAt(0)]=-2;for(let n=0;n<No.length;n+=1)a[No[n].charCodeAt(0)]=n;return a})();function Xv(a,n,r){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(No[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(No[l]),n.queuedBits-=6}}function Hy(a,n,r){const l=Ew[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Qv(a){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{Aw(f,l,r)};for(let f=0;f<a.length;f+=1)Hy(a.charCodeAt(f),o,c);return n.join("")}function Tw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function xw(a,n){for(let r=0;r<a.length;r+=1){let l=a.charCodeAt(r);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(a.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Tw(l,n)}}function Aw(a,n,r){if(n.utf8seq===0){if(a<=127){r(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function wr(a){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Hy(a.charCodeAt(o),r,l);return new Uint8Array(n)}function Rw(a){const n=[];return xw(a,r=>n.push(r)),new Uint8Array(n)}function yi(a){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};return a.forEach(o=>Xv(o,r,l)),Xv(null,r,l),n.join("")}function Ow(a){return Math.round(Date.now()/1e3)+a}function Dw(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",fi={tested:!1,writable:!1},Iy=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fi.tested)return fi.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),fi.tested=!0,fi.writable=!0}catch{fi.tested=!0,fi.writable=!1}return fi.writable};function Cw(a){const n={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return r.searchParams.forEach((l,o)=>{n[o]=l}),n}const $y=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Nw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",br=async(a,n,r)=>{await a.setItem(n,JSON.stringify(r))},hi=async(a,n)=>{const r=await a.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dt=async(a,n)=>{await a.removeItem(n)};class Zo{constructor(){this.promise=new Zo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Zo.promiseConstructor=Promise;function go(a){const n=a.split(".");if(n.length!==3)throw new Pd("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!yw.test(n[l]))throw new Pd("JWT not in base64url format");return{header:JSON.parse(Qv(n[0])),payload:JSON.parse(Qv(n[1])),signature:wr(n[2]),raw:{header:n[0],payload:n[1]}}}async function jw(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Mw(a,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!n(c,null,f)){l(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function kw(a){return("0"+a.toString(16)).substr(-2)}function zw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,kw).join("")}async function Uw(a){const r=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Lw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await Uw(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fr(a,n,r=!1){const l=zw();let o=l;r&&(o+="/PASSWORD_RECOVERY"),await br(a,`${n}-code-verifier`,o);const c=await Lw(l);return[c,l===c?"plain":"s256"]}const Bw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qw(a){const n=a.headers.get(Jd);if(!n||!n.match(Bw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Hw(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Iw(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hr(a){if(!$w.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xd(){const a={};return new Proxy(a,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gw(a,n){return new Proxy(a,{get:(r,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,o)}})}function Jv(a){return JSON.parse(JSON.stringify(a))}const mi=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Yw=[502,503,504];async function Zv(a){var n;if(!Nw(a))throw new Zd(mi(a),0);if(Yw.includes(a.status))throw new Zd(mi(a),a.status);let r;try{r=await a.json()}catch(c){throw new vi(mi(c),c)}let l;const o=qw(a);if(o&&o.getTime()>=qy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Vv(mi(r),a.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Vv(mi(r),a.status,r.weak_password.reasons);throw new bw(mi(r),a.status||500,l)}const Vw=(a,n,r,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};async function de(a,n,r,l){var o;const c=Object.assign({},l?.headers);c[Jd]||(c[Jd]=qy["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Kw(a,n,r+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Kw(a,n,r,l,o,c){const f=Vw(n,l,o,c);let h;try{h=await a(r,Object.assign({},f))}catch(m){throw console.error(m),new Zd(mi(m),0)}if(h.ok||await Zv(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await Zv(m)}}function zn(a){var n;let r=null;Jw(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=Ow(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:r,user:l},error:null}}function Pv(a){const n=zn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Ya(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Xw(a){return{data:a,error:null}}function Qw(a){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c}=a,f=Xo(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function Fv(a){return a}function Jw(a){return a.access_token&&a.refresh_token&&a.expires_in}const Ad=["global","local","others"];class Zw{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=$y(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Ad[0]){if(Ad.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ad.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ya})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Xo(n,["options"]),o=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Qw,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ya})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,o,c,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Fv});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(O.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ie(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){hr(n);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ya})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){hr(n);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ya})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){hr(n);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ya})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){hr(n.userId);try{const{data:r,error:l}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:l}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(n){hr(n.userId),hr(n.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,o,c,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Fv});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(O.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ie(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Wv(a={}){return{getItem:n=>a[n]||null,setItem:(n,r)=>{a[n]=r},removeItem:n=>{delete a[n]}}}const mr={debug:!!(globalThis&&Iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Pw extends Gy{}async function Fw(a,n,r){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await r()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Pw(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(mr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ww(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function eS(a){return parseInt(a,16)}function tS(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function nS(a){var n;const{chainId:r,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:y,uri:b,version:_}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=Yy(a.address),O=y?`${y}://${l}`:l,N=a.statement?`${a.statement}
`:"",j=`${O} wants you to sign in with your Ethereum account:
${w}

${N}`;let H=`URI: ${b}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(H+=`
Expiration Time: ${o.toISOString()}`),h&&(H+=`
Not Before: ${h.toISOString()}`),m&&(H+=`
Request ID: ${m}`),g){let D=`
Resources:`;for(const U of g){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);D+=`
- ${U}`}H+=D}return`${j}
${H}`}class ut extends Error{constructor({message:n,code:r,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class jo extends ut{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function aS({error:a,options:n}){var r,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ut({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Vy(f)){if(c.rp.id!==f)return new ut({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function iS({error:a,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ut({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Vy(l)){if(r.rpId!==l)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class rS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const sS=new rS;function lS(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:r,excludeCredentials:l}=a,o=Xo(a,["challenge","user","excludeCredentials"]),c=wr(n).buffer,f=Object.assign(Object.assign({},r),{id:wr(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:f});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:wr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function oS(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:r}=a,l=Xo(a,["challenge","allowCredentials"]),o=wr(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];c.allowCredentials[f]=Object.assign(Object.assign({},h),{id:wr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function uS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:yi(new Uint8Array(a.response.attestationObject)),clientDataJSON:yi(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function cS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,l=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:yi(new Uint8Array(o.authenticatorData)),clientDataJSON:yi(new Uint8Array(o.clientDataJSON)),signature:yi(new Uint8Array(o.signature)),userHandle:o.userHandle?yi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Vy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function ey(){var a,n;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function dS(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",n)}:{data:null,error:new jo("Empty credential response",n)}}catch(n){return{data:null,error:aS({error:n,options:a})}}}async function fS(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",n)}:{data:null,error:new jo("Empty credential response",n)}}catch(n){return{data:null,error:iS({error:n,options:a})}}}const hS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mo(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of a)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))l[c]=f;else if(r(f))l[c]=f;else if(n(f)){const h=l[c];n(h)?l[c]=Mo(h,f):l[c]=Mo(f)}else l[c]=f}return l}function gS(a,n){return Mo(hS,a,n||{})}function vS(a,n){return Mo(mS,a,n||{})}class yS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:o},c){var f;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!h)return{data:null,error:m};const g=o??sS.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;if(!y.name){const b=l;if(b)y.name=`${y.id}:${b}`;else{const w=(await this.client.getUser()).data.user,O=((f=w?.user_metadata)===null||f===void 0?void 0:f.name)||w?.email||w?.id||"User";y.name=`${y.id}:${O}`}}y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=gS(h.webauthn.credential_options.publicKey,c?.create),{data:b,error:_}=await dS({publicKey:y,signal:g});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=vS(h.webauthn.credential_options.publicKey,c?.request),{data:b,error:_}=await fS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new vi("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!ey())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:o},{request:c});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new vi("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!ey())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:o},{create:c});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new vi("Unexpected error in register",f)}}}}Ww();const pS={url:mw,storageKey:gw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ty(a,n,r){return await r()}const gr={};class Us{get jwks(){var n,r;return(r=(n=gr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=gr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},pS),n);if(this.storageKey=c.storageKey,this.instanceID=(r=Us.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Us.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ct()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Zw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$y(c.fetch),this.lock=c.lock||ty,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ct()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Fw:this.lock=ty,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wv(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Wv(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${By}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(Ct()&&(r=Cw(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),Ct()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ww(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new vi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,o;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:zn}),{data:f,error:h}=c;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var r,l,o;try{let c;if("email"in n){const{email:y,password:b,options:_}=n;let w=null,O=null;this.flowType==="pkce"&&([w,O]=await fr(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:O},xform:zn})}else if("phone"in n){const{phone:y,password:b,options:_}=n;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:zn})}else throw new ho("You must provide either an email or phone number and a password");const{data:f,error:h}=c;if(h||!f)return await Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let r;if("email"in n){const{email:c,password:f,options:h}=n;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Pv})}else if("phone"in n){const{phone:c,password:f,options:h}=n;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Pv})}else throw new ho("You must provide either an email or phone number and a password");const{data:l,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new dr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,o,c,f,h,m,g,y,b,_;let w,O;if("message"in n)w=n.message,O=n.signature;else{const{chain:N,wallet:j,statement:H,options:D}=n;let U;if(Ct())if(typeof j=="object")U=j;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")U=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=j}const B=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),Y=await U.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Yy(Y[0]);let K=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const F=await U.request({method:"eth_chainId"});K=eS(F)}const P={domain:B.host,address:Q,statement:H,uri:B.href,version:"1",chainId:K,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=nS(P),O=await U.request({method:"personal_sign",params:[tS(w),Q]})}try{const{data:N,error:j}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:O},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zn});if(j)throw j;if(!N||!N.session||!N.user){const H=new dr;return this._returnResult({data:{user:null,session:null},error:H})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(ie(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var r,l,o,c,f,h,m,g,y,b,_,w;let O,N;if("message"in n)O=n.message,N=n.signature;else{const{chain:j,wallet:H,statement:D,options:U}=n;let B;if(Ct())if(typeof H=="object")B=H;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))B=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=H}const Y=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const Q=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),D?{statement:D}:null));let K;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")K=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)K=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)O=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),N=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${Y.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(o=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=U?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((b=(y=U?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Q=await B.signMessage(new TextEncoder().encode(O),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:j,error:H}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:yi(N)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:zn});if(H)throw H;if(!j||!j.session||!j.user){const D=new dr;return this._returnResult({data:{user:null,session:null},error:D})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:H})}catch(j){if(ie(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const r=await hi(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Sw;const{data:c,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:zn});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const h=new dr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:r,provider:l,token:o,access_token:c,nonce:f}=n,h=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zn}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new dr;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,o,c,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await fr(this.storage,this.storageKey));const{error:b}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new ho("You must provide either an email or phone number.")}catch(h){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var r,l;try{let o,c;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:zn});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,l,o,c,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await fr(this.storage,this.storageKey));const g=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:Xw});return!((c=g.data)===null||c===void 0)&&c.url&&Ct()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new dn;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:f}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:f,error:h}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new ho("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await hi(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=xd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Gw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ya}):await this._useSession(async r=>{var l,o,c;const{data:f,error:h}=r;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ya})})}catch(r){if(ie(r))return Ed(r)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new dn;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await fr(this.storage,this.storageKey));const{data:g,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:Ya});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new dn;const r=Date.now()/1e3;let l=r,o=!0,c=null;const{payload:f}=go(n.access_token);if(f.exp&&(l=f.exp,o=l<=r),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:h}=r;if(h)throw h;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new dn;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ct())throw new mo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new mo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Yv("No code detected.");const{data:D,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!c||!h||!f||!g)throw new mo("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(h);let _=y+b;m&&(_=parseInt(m));const w=_-y;w*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const O=_-b;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,_,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,_,y);const{data:N,error:j}=await this._getUser(c);if(j)throw j;const H={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await hi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c&&!Ed(c))return this._returnResult({error:c});const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(_w(h)&&(h.status===404||h.status===401||h.status===403)||Ed(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=Dw(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,o;try{const{data:{session:c},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,r={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await fr(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:o}=await this._useSession(async c=>{var f,h,m,g,y;const{data:b,error:_}=c;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ct()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ie(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:y}=n,b=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:zn}),{data:_,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new dr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:w}))}catch(o){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:f}=r;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Mw(async o=>(o>0&&await jw(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:zn})),(o,c)=>{const f=200*Math.pow(2,o);return c&&Td(c)&&Date.now()+f-l<pr})}catch(l){if(this._debug(r,"error",l),ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),Ct()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await hi(this.storage,this.storageKey);if(o&&this.userStorage){let f=await hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await br(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:xd()}else if(o&&!o.user&&!o.user){const f=await hi(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await Dt(this.storage,this.storageKey+"-user"),await br(this.storage,this.storageKey,o)):o.user=xd()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sd;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Sd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Td(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zo;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new dn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ie(c)){const f={data:null,error:c};return Td(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,r)}catch(m){c.push(m)}});if(await Promise.all(f),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await br(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=Jv(o);await br(this.storage,this.storageKey,c)}else{const o=Jv(r);await br(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${pr}ms, refresh threshold is ${Qd} ticks`),o<=Qd&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Gy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const o=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await fr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await de(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?uS(n.webauthn.credential_response):cS(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:lS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:oS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,l,o,c;if(n)try{const{payload:w}=go(n);let O=null;w.aal&&(O=w.aal);let N=O;const{data:{user:j},error:H}=await this.getUser(n);if(H)return this._returnResult({data:null,error:H});((l=(r=j?.factors)===null||r===void 0?void 0:r.filter(B=>B.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(N="aal2");const U=w.amr||[];return{data:{currentLevel:O,nextLevel:N,currentAuthenticationMethods:U},error:null}}catch(w){if(ie(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:f},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=go(f.access_token);let g=null;m.aal&&(g=m.aal);let y=g;((c=(o=f.user.factors)===null||o===void 0?void 0:o.filter(w=>w.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const _=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new dn});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new dn});const f=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new dn})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+pw>o)return l;const{data:c,error:f}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:w,error:O}=await this.getSession();if(O||!w.session)return this._returnResult({data:null,error:O});l=w.session.access_token}const{header:o,payload:c,signature:f,raw:{header:h,payload:m}}=go(l);r?.allowExpired||Hw(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:c,header:o,signature:f},error:null}}const y=Iw(o.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,Rw(`${h}.${m}`)))throw new Pd("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}}Us.nextInstanceID={};const bS=Us,_S="2.95.3";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const wS={"X-Client-Info":`supabase-js-${ws}/${_S}`},SS={headers:wS},ES={schema:"public"},TS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xS={};function Ls(a){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ls(a)}function AS(a,n){if(Ls(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,n);if(Ls(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function RS(a){var n=AS(a,"string");return Ls(n)=="symbol"?n:n+""}function OS(a,n,r){return(n=RS(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function ny(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,l)}return r}function Pe(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ny(Object(r),!0).forEach(function(l){OS(a,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ny(Object(r)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(r,l))})}return a}const DS=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),CS=()=>Headers,NS=(a,n,r)=>{const l=DS(r),o=CS();return async(c,f)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(c,Pe(Pe({},f),{},{headers:g}))}};function jS(a){return a.endsWith("/")?a:a+"/"}function MS(a,n){var r,l;const{db:o,auth:c,realtime:f,global:h}=a,{db:m,auth:g,realtime:y,global:b}=n,_={db:Pe(Pe({},m),o),auth:Pe(Pe({},g),c),realtime:Pe(Pe({},y),f),storage:{},global:Pe(Pe(Pe({},b),h),{},{headers:Pe(Pe({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function kS(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jS(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zS=class extends bS{constructor(a){super(a)}},US=class{constructor(a,n,r){var l,o;this.supabaseUrl=a,this.supabaseKey=n;const c=kS(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:ES,realtime:xS,auth:Pe(Pe({},TS),{},{storageKey:f}),global:SS},m=MS(r??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=NS(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new __(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new hw(this.storageUrl.href,this.headers,this.fetch,r?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new f_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,r)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,r;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,storageKey:c,flowType:f,lock:h,debug:m,throwOnError:g},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zS({url:this.authUrl.href,headers:Pe(Pe({},_),y),storageKey:c,autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,flowType:f,lock:h,debug:m,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new L_(this.realtimeUrl.href,Pe(Pe({},a),{},{params:Pe(Pe({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LS=(a,n,r)=>new US(a,n,r);function BS(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}BS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qS="https://nebfkwfgjtqinrfiglva.supabase.co",HS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lYmZrd2ZnanRxaW5yZmlnbHZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExNDIzODcsImV4cCI6MjA4NjcxODM4N30.8hx_3VfKrxMy9hXD94PgU2OAGoZ1YNJtK8HRj2PCGDA",vo=LS(qS,HS);function vt(a){const[n,r,l]=a.split("-").map(Number);return new Date(n,r-1,l)}function Bt(a){const n=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`${n}-${r}-${l}`}function Ei(a,n){const r=new Date(a);return r.setDate(r.getDate()+n),r}function ko(a,n){return Math.round((a.getTime()-n.getTime())/864e5)}function Ky(a){const n=new Date(a),r=n.getDay(),l=r===0?-6:1-r;return n.setDate(n.getDate()+l),n}function IS(a){return new Date(a.getFullYear(),a.getMonth(),1)}function qt(a,n,r){if(r==="week")return ko(a,n)/7*of;{const l=(a.getFullYear()-n.getFullYear())*12+(a.getMonth()-n.getMonth()),o=a.getDate()-1,c=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return(l+o/c)*uf}}function pi(a,n,r){if(r==="week"){const l=a/of*7;return Ei(n,Math.round(l))}else{const l=a/uf,o=Math.floor(l),c=l-o,f=new Date(n.getFullYear(),n.getMonth()+o,1),h=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),m=Math.round(c*h);return new Date(f.getFullYear(),f.getMonth(),1+m)}}function $S(a,n,r){const l=[];let o=Ky(a);const c=n.getTime();for(;o.getTime()<=c;){const f=qt(o,r,"week"),h=o.getDate(),m=o.toLocaleString("en",{month:"short"});l.push({label:`${h} ${m}`,x:f,width:of,date:new Date(o),month:o.getMonth()}),o=Ei(o,7)}return l}function GS(a,n,r){const l=[];let o=IS(a);for(;o.getTime()<=n.getTime();){const c=qt(o,r,"month"),f=o.toLocaleString("en",{month:"short"}),h=o.getFullYear(),m=Math.floor(o.getMonth()/3)+1;l.push({label:f,sublabel:`Q${m} ${h}`,x:c,width:uf,date:new Date(o),month:o.getMonth()}),o=new Date(o.getFullYear(),o.getMonth()+1,1)}return l}function Bs(a){return vt(a).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})}function Xy(a,n){return Math.round(ko(vt(n),vt(a))/7)}function _s(){return crypto.randomUUID()}function ay(){return{streams:[],dependencies:[],milestones:[],settings:{...Dy}}}const oe=yy()(a_((a,n)=>({currentRoadmapId:null,roadmapName:"New Roadmap",roadmap:ay(),roadmapList:[],isDirty:!1,isLoading:!1,saveStatus:"idle",setDirty:()=>a({isDirty:!0}),addStream:(r,l)=>{a(o=>{const c=o.roadmap.streams.length;o.roadmap.streams.push({id:_s(),name:r,color:l,collapsed:!1,order:c,items:[]}),o.isDirty=!0})},updateStream:(r,l)=>{a(o=>{const c=o.roadmap.streams.find(f=>f.id===r);c&&(Object.assign(c,l),o.isDirty=!0)})},removeStream:r=>{a(l=>{l.roadmap.streams=l.roadmap.streams.filter(c=>c.id!==r);const o=new Set(l.roadmap.streams.filter(c=>c.id===r).flatMap(c=>c.items.map(f=>f.id)));l.roadmap.dependencies=l.roadmap.dependencies.filter(c=>!o.has(c.fromItemId)&&!o.has(c.toItemId)),l.roadmap.milestones=l.roadmap.milestones.filter(c=>c.streamId!==r),l.roadmap.streams.forEach((c,f)=>{c.order=f}),l.isDirty=!0})},reorderStreams:(r,l)=>{a(o=>{const c=o.roadmap.streams,f=c.findIndex(g=>g.id===r),h=c.findIndex(g=>g.id===l);if(f===-1||h===-1)return;const[m]=c.splice(f,1);c.splice(h,0,m),c.forEach((g,y)=>{g.order=y}),o.isDirty=!0})},toggleStreamCollapse:r=>{a(l=>{const o=l.roadmap.streams.find(c=>c.id===r);o&&(o.collapsed=!o.collapsed,l.isDirty=!0)})},addItem:r=>{a(l=>{const o=l.roadmap.streams.find(y=>y.id===r);if(!o)return;const c=new Date,f=new Date(c),h=f.getDay();f.setDate(f.getDate()+(h===0?1:8-h));const m=new Date(f);m.setDate(m.getDate()+28);const g={id:_s(),name:"New Item",lead:"",support:"",startDate:Bt(f),endDate:Bt(m),phase:"implementation-build",notes:"",order:o.items.length};o.items.push(g),l.isDirty=!0})},updateItem:(r,l,o)=>{a(c=>{const f=c.roadmap.streams.find(m=>m.id===r);if(!f)return;const h=f.items.find(m=>m.id===l);h&&(Object.assign(h,o),c.isDirty=!0)})},removeItem:(r,l)=>{a(o=>{const c=o.roadmap.streams.find(m=>m.id===r);if(!c)return;const f=c.items.find(m=>m.id===l),h=new Set([l]);if(f?.subItems)for(const m of f.subItems)h.add(m.id);c.items=c.items.filter(m=>m.id!==l),c.items.forEach((m,g)=>{m.order=g}),o.roadmap.dependencies=o.roadmap.dependencies.filter(m=>!h.has(m.fromItemId)&&!h.has(m.toItemId)),o.isDirty=!0})},moveItem:(r,l,o,c)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===r);if(!h||Co(h.items,l,o,c))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=c,f.isDirty=!0)})},resizeItem:(r,l,o,c)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===r);if(!h||Co(h.items,l,o,c))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=c,f.isDirty=!0)})},toggleItemExpanded:(r,l)=>{a(o=>{const c=o.roadmap.streams.find(h=>h.id===r);if(!c)return;const f=c.items.find(h=>h.id===l);f&&(f.expanded=!f.expanded,f.subItems||(f.subItems=[]),o.isDirty=!0)})},addSubItem:(r,l)=>{a(o=>{const c=o.roadmap.streams.find(b=>b.id===r);if(!c)return;const f=c.items.find(b=>b.id===l);if(!f)return;f.subItems||(f.subItems=[]);const h=f.startDate,m=new Date(h),g=new Date(m);g.setDate(g.getDate()+14);const y={id:_s(),name:"New Sub-task",lead:"",support:"",startDate:Bt(m),endDate:Bt(g),phase:f.phase,notes:"",order:f.subItems.length};f.subItems.push(y),f.expanded=!0,o.isDirty=!0})},removeSubItem:(r,l,o)=>{a(c=>{const f=c.roadmap.streams.find(m=>m.id===r);if(!f)return;const h=f.items.find(m=>m.id===l);!h||!h.subItems||(h.subItems=h.subItems.filter(m=>m.id!==o),h.subItems.forEach((m,g)=>{m.order=g}),c.roadmap.dependencies=c.roadmap.dependencies.filter(m=>m.fromItemId!==o&&m.toItemId!==o),c.isDirty=!0)})},updateSubItem:(r,l,o,c)=>{a(f=>{const h=f.roadmap.streams.find(y=>y.id===r);if(!h)return;const m=h.items.find(y=>y.id===l);if(!m||!m.subItems)return;const g=m.subItems.find(y=>y.id===o);g&&(Object.assign(g,c),f.isDirty=!0)})},moveSubItem:(r,l,o,c,f)=>{a(h=>{const m=h.roadmap.streams.find(b=>b.id===r);if(!m)return;const g=m.items.find(b=>b.id===l);if(!g||!g.subItems)return;const y=g.subItems.find(b=>b.id===o);y&&(y.startDate=c,y.endDate=f,h.isDirty=!0)})},resizeSubItem:(r,l,o,c,f)=>{a(h=>{const m=h.roadmap.streams.find(b=>b.id===r);if(!m)return;const g=m.items.find(b=>b.id===l);if(!g||!g.subItems)return;const y=g.subItems.find(b=>b.id===o);y&&(y.startDate=c,y.endDate=f,h.isDirty=!0)})},addDependency:(r,l)=>{a(o=>{o.roadmap.dependencies.some(f=>f.fromItemId===r&&f.toItemId===l)||(o.roadmap.dependencies.push({id:_s(),fromItemId:r,toItemId:l}),o.isDirty=!0)})},removeDependency:r=>{a(l=>{l.roadmap.dependencies=l.roadmap.dependencies.filter(o=>o.id!==r),l.isDirty=!0})},addMilestone:(r,l,o)=>{a(c=>{c.roadmap.milestones.push({id:_s(),name:r,date:l,streamId:o}),c.isDirty=!0})},removeMilestone:r=>{a(l=>{l.roadmap.milestones=l.roadmap.milestones.filter(o=>o.id!==r),l.isDirty=!0})},moveMilestone:(r,l)=>{a(o=>{const c=o.roadmap.milestones.find(f=>f.id===r);c&&(c.date=l,o.isDirty=!0)})},fetchRoadmapList:async()=>{const{data:r,error:l}=await vo.from("roadmaps").select("id, name").order("updated_at",{ascending:!1});if(l){console.error("Failed to fetch roadmap list:",l);return}a({roadmapList:r||[]})},loadRoadmap:async r=>{a({isLoading:!0});const{data:l,error:o}=await vo.from("roadmaps").select("*").eq("id",r).single();if(o){console.error("Failed to load roadmap:",o),a({isLoading:!1});return}if(l){const c=l.data;a({currentRoadmapId:l.id,roadmapName:l.name,roadmap:{streams:c.streams||[],dependencies:c.dependencies||[],milestones:c.milestones||[],settings:c.settings||{...Dy}},isDirty:!1,isLoading:!1})}},createRoadmap:async r=>{const l=ay(),{data:o,error:c}=await vo.from("roadmaps").insert({name:r,data:l}).select().single();return c?(console.error("Failed to create roadmap:",c),null):(a({currentRoadmapId:o.id,roadmapName:o.name,roadmap:l,isDirty:!1}),n().fetchRoadmapList(),o.id)},saveRoadmap:async()=>{const{currentRoadmapId:r,roadmap:l,roadmapName:o}=n();if(!r)return;a({saveStatus:"saving"});const{error:c}=await vo.from("roadmaps").update({data:l,name:o,updated_at:new Date().toISOString()}).eq("id",r);c?(console.error("Failed to save:",c),a({saveStatus:"error",isDirty:!0})):(a({isDirty:!1,saveStatus:"saved"}),setTimeout(()=>{a(f=>{f.saveStatus==="saved"&&(f.saveStatus="idle")})},2e3))},renameRoadmap:r=>{a({roadmapName:r,isDirty:!0})}}))),fe=yy(a=>({zoom:"week",selectedItemId:null,selectedStreamId:null,editPanelOpen:!1,isPanning:!1,dependencyMode:!1,dependencySourceItemId:null,showLeadColumn:!1,showSupportColumn:!1,showPhaseColumn:!1,showMonthColors:!0,setZoom:n=>a({zoom:n}),toggleZoom:()=>a(n=>({zoom:n.zoom==="week"?"month":"week"})),selectItem:(n,r=null)=>a({selectedItemId:n,selectedStreamId:r}),openEditPanel:()=>a({editPanelOpen:!0}),closeEditPanel:()=>a({editPanelOpen:!1,selectedItemId:null,selectedStreamId:null}),setPanning:n=>a({isPanning:n}),enterDependencyMode:n=>a({dependencyMode:!0,dependencySourceItemId:n}),exitDependencyMode:()=>a({dependencyMode:!1,dependencySourceItemId:null}),toggleLeadColumn:()=>a(n=>({showLeadColumn:!n.showLeadColumn})),toggleSupportColumn:()=>a(n=>({showSupportColumn:!n.showSupportColumn})),togglePhaseColumn:()=>a(n=>({showPhaseColumn:!n.showPhaseColumn})),toggleMonthColors:()=>a(n=>({showMonthColors:!n.showMonthColors}))}));function YS(){const a=oe(R=>R.roadmapName),n=oe(R=>R.renameRoadmap),r=oe(R=>R.roadmapList),l=oe(R=>R.currentRoadmapId),o=oe(R=>R.loadRoadmap),c=oe(R=>R.createRoadmap),f=oe(R=>R.saveStatus),h=oe(R=>R.roadmap.streams),m=oe(R=>R.addMilestone),g=fe(R=>R.zoom),y=fe(R=>R.setZoom),b=fe(R=>R.showMonthColors),_=fe(R=>R.toggleMonthColors),[w,O]=E.useState(!1),[N,j]=E.useState(a),[H,D]=E.useState(!1),[U,B]=E.useState(""),[Y,Q]=E.useState(Bt(new Date)),[K,P]=E.useState(""),F=()=>{j(a),O(!0)},me=()=>{O(!1),N.trim()&&N!==a&&n(N.trim())},ce=R=>{R.key==="Enter"&&R.target.blur()},pe=R=>{const V=R.target.value;V&&o(V)},De=async()=>{const R=prompt("Enter roadmap name:");R?.trim()&&await c(R.trim())},Ee=()=>{if(h.length===0){alert("Add a stream first before creating a milestone.");return}B(""),Q(Bt(new Date)),P(h[0].id),D(!0)},J=()=>{U.trim()&&Y&&K&&(m(U.trim(),Y,K),D(!1))};return A.jsxs("div",{className:"flex items-center gap-4 px-4 border-b border-gray-200 bg-white relative",style:{height:52},children:[w?A.jsx("input",{className:"text-lg font-semibold px-2 py-1 border border-blue-400 rounded outline-none",value:N,onChange:R=>j(R.target.value),onBlur:me,onKeyDown:ce,autoFocus:!0}):A.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-blue-600 truncate max-w-64",onClick:F,title:"Click to rename",children:a}),A.jsx("div",{className:"h-6 w-px bg-gray-300"}),A.jsx("select",{className:"text-sm border border-gray-300 rounded px-2 py-1.5 bg-white",value:l||"",onChange:pe,children:r.map(R=>A.jsx("option",{value:R.id,children:R.name},R.id))}),A.jsx("button",{onClick:De,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none",children:"+ New"}),A.jsx("button",{onClick:Ee,className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 border border-gray-300",title:"Add a milestone marker to a stream",children:"+ Milestone"}),A.jsx("div",{className:"flex-1"}),A.jsx("button",{onClick:_,className:`text-sm px-3 py-1 rounded-md border transition-colors ${b?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200 hover:text-gray-700"}`,title:b?"Hide month colors":"Show month colors",children:"Colors"}),A.jsxs("div",{className:"text-xs text-gray-400 w-16 text-right",children:[f==="saving"&&"Saving...",f==="saved"&&" Saved",f==="error"&&" Error"]}),A.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[A.jsx("button",{onClick:()=>y("week"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="week"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),A.jsx("button",{onClick:()=>y("month"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="month"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Month"})]}),A.jsx("img",{src:"/logo.png",alt:"Roadmap Planner",className:"h-8 w-auto object-contain"}),H&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>D(!1)}),A.jsxs("div",{className:"absolute top-full left-64 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",style:{width:300},children:[A.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Milestone"}),A.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),A.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",placeholder:"Milestone name...",value:U,onChange:R=>B(R.target.value),onKeyDown:R=>{R.key==="Enter"&&J()},autoFocus:!0}),A.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),A.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",value:Y,onChange:R=>Q(R.target.value)}),A.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Stream"}),A.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 bg-white outline-none focus:border-blue-400",value:K,onChange:R=>P(R.target.value),children:h.map(R=>A.jsx("option",{value:R.id,children:R.name},R.id))}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:J,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none cursor-pointer",children:"Add"}),A.jsx("button",{onClick:()=>D(!1),className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 border-none cursor-pointer",children:"Cancel"})]})]})]})]})}var Ss=vy();function VS(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return E.useMemo(()=>l=>{n.forEach(o=>o(l))},n)}const Po=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xr(a){const n=Object.prototype.toString.call(a);return n==="[object Window]"||n==="[object global]"}function ff(a){return"nodeType"in a}function Ft(a){var n,r;return a?xr(a)?a:ff(a)&&(n=(r=a.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function hf(a){const{Document:n}=Ft(a);return a instanceof n}function Ys(a){return xr(a)?!1:a instanceof Ft(a).HTMLElement}function Qy(a){return a instanceof Ft(a).SVGElement}function Ar(a){return a?xr(a)?a.document:ff(a)?hf(a)?a:Ys(a)||Qy(a)?a.ownerDocument:document:document:document}const Kn=Po?E.useLayoutEffect:E.useEffect;function mf(a){const n=E.useRef(a);return Kn(()=>{n.current=a}),E.useCallback(function(){for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return n.current==null?void 0:n.current(...l)},[])}function KS(){const a=E.useRef(null),n=E.useCallback((l,o)=>{a.current=setInterval(l,o)},[]),r=E.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[n,r]}function qs(a,n){n===void 0&&(n=[a]);const r=E.useRef(a);return Kn(()=>{r.current!==a&&(r.current=a)},n),r}function Vs(a,n){const r=E.useRef();return E.useMemo(()=>{const l=a(r.current);return r.current=l,l},[...n])}function zo(a){const n=mf(a),r=E.useRef(null),l=E.useCallback(o=>{o!==r.current&&n?.(o,r.current),r.current=o},[]);return[r,l]}function Fd(a){const n=E.useRef();return E.useEffect(()=>{n.current=a},[a]),n.current}let Rd={};function Ks(a,n){return E.useMemo(()=>{if(n)return n;const r=Rd[a]==null?0:Rd[a]+1;return Rd[a]=r,a+"-"+r},[a,n])}function Jy(a){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),o=1;o<r;o++)l[o-1]=arguments[o];return l.reduce((c,f)=>{const h=Object.entries(f);for(const[m,g]of h){const y=c[m];y!=null&&(c[m]=y+a*g)}return c},{...n})}}const Sr=Jy(1),Uo=Jy(-1);function XS(a){return"clientX"in a&&"clientY"in a}function gf(a){if(!a)return!1;const{KeyboardEvent:n}=Ft(a.target);return n&&a instanceof n}function QS(a){if(!a)return!1;const{TouchEvent:n}=Ft(a.target);return n&&a instanceof n}function Wd(a){if(QS(a)){if(a.touches&&a.touches.length){const{clientX:n,clientY:r}=a.touches[0];return{x:n,y:r}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:n,clientY:r}=a.changedTouches[0];return{x:n,y:r}}}return XS(a)?{x:a.clientX,y:a.clientY}:null}const Hs=Object.freeze({Translate:{toString(a){if(!a)return;const{x:n,y:r}=a;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:n,scaleY:r}=a;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(a){if(a)return[Hs.Translate.toString(a),Hs.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:n,duration:r,easing:l}=a;return n+" "+r+"ms "+l}}}),iy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function JS(a){return a.matches(iy)?a:a.querySelector(iy)}const ZS={display:"none"};function PS(a){let{id:n,value:r}=a;return St.createElement("div",{id:n,style:ZS},r)}function FS(a){let{id:n,announcement:r,ariaLiveType:l="assertive"}=a;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return St.createElement("div",{id:n,style:o,role:"status","aria-live":l,"aria-atomic":!0},r)}function WS(){const[a,n]=E.useState("");return{announce:E.useCallback(l=>{l!=null&&n(l)},[]),announcement:a}}const Zy=E.createContext(null);function eE(a){const n=E.useContext(Zy);E.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(a)},[a,n])}function tE(){const[a]=E.useState(()=>new Set),n=E.useCallback(l=>(a.add(l),()=>a.delete(l)),[a]);return[E.useCallback(l=>{let{type:o,event:c}=l;a.forEach(f=>{var h;return(h=f[o])==null?void 0:h.call(f,c)})},[a]),n]}const nE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aE={onDragStart(a){let{active:n}=a;return"Picked up draggable item "+n.id+"."},onDragOver(a){let{active:n,over:r}=a;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(a){let{active:n,over:r}=a;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(a){let{active:n}=a;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function iE(a){let{announcements:n=aE,container:r,hiddenTextDescribedById:l,screenReaderInstructions:o=nE}=a;const{announce:c,announcement:f}=WS(),h=Ks("DndLiveRegion"),[m,g]=E.useState(!1);if(E.useEffect(()=>{g(!0)},[]),eE(E.useMemo(()=>({onDragStart(b){let{active:_}=b;c(n.onDragStart({active:_}))},onDragMove(b){let{active:_,over:w}=b;n.onDragMove&&c(n.onDragMove({active:_,over:w}))},onDragOver(b){let{active:_,over:w}=b;c(n.onDragOver({active:_,over:w}))},onDragEnd(b){let{active:_,over:w}=b;c(n.onDragEnd({active:_,over:w}))},onDragCancel(b){let{active:_,over:w}=b;c(n.onDragCancel({active:_,over:w}))}}),[c,n])),!m)return null;const y=St.createElement(St.Fragment,null,St.createElement(PS,{id:l,value:o.draggable}),St.createElement(FS,{id:h,announcement:f}));return r?Ss.createPortal(y,r):y}var gt;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(gt||(gt={}));function Lo(){}function rE(a,n){return E.useMemo(()=>({sensor:a,options:n??{}}),[a,n])}function sE(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return E.useMemo(()=>[...n].filter(l=>l!=null),[...n])}const qn=Object.freeze({x:0,y:0});function lE(a,n){return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))}function oE(a,n){let{data:{value:r}}=a,{data:{value:l}}=n;return r-l}function uE(a,n){let{data:{value:r}}=a,{data:{value:l}}=n;return l-r}function cE(a,n){if(!a||a.length===0)return null;const[r]=a;return r[n]}function ry(a,n,r){return n===void 0&&(n=a.left),r===void 0&&(r=a.top),{x:n+a.width*.5,y:r+a.height*.5}}const dE=a=>{let{collisionRect:n,droppableRects:r,droppableContainers:l}=a;const o=ry(n,n.left,n.top),c=[];for(const f of l){const{id:h}=f,m=r.get(h);if(m){const g=lE(ry(m),o);c.push({id:h,data:{droppableContainer:f,value:g}})}}return c.sort(oE)};function fE(a,n){const r=Math.max(n.top,a.top),l=Math.max(n.left,a.left),o=Math.min(n.left+n.width,a.left+a.width),c=Math.min(n.top+n.height,a.top+a.height),f=o-l,h=c-r;if(l<o&&r<c){const m=n.width*n.height,g=a.width*a.height,y=f*h,b=y/(m+g-y);return Number(b.toFixed(4))}return 0}const hE=a=>{let{collisionRect:n,droppableRects:r,droppableContainers:l}=a;const o=[];for(const c of l){const{id:f}=c,h=r.get(f);if(h){const m=fE(h,n);m>0&&o.push({id:f,data:{droppableContainer:c,value:m}})}}return o.sort(uE)};function mE(a,n,r){return{...a,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function Py(a,n){return a&&n?{x:a.left-n.left,y:a.top-n.top}:qn}function gE(a){return function(r){for(var l=arguments.length,o=new Array(l>1?l-1:0),c=1;c<l;c++)o[c-1]=arguments[c];return o.reduce((f,h)=>({...f,top:f.top+a*h.y,bottom:f.bottom+a*h.y,left:f.left+a*h.x,right:f.right+a*h.x}),{...r})}}const vE=gE(1);function yE(a){if(a.startsWith("matrix3d(")){const n=a.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(a.startsWith("matrix(")){const n=a.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function pE(a,n,r){const l=yE(n);if(!l)return a;const{scaleX:o,scaleY:c,x:f,y:h}=l,m=a.left-f-(1-o)*parseFloat(r),g=a.top-h-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),y=o?a.width/o:a.width,b=c?a.height/c:a.height;return{width:y,height:b,top:g,right:m+y,bottom:g+b,left:m}}const bE={ignoreTransform:!1};function Rr(a,n){n===void 0&&(n=bE);let r=a.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:y}=Ft(a).getComputedStyle(a);g&&(r=pE(r,g,y))}const{top:l,left:o,width:c,height:f,bottom:h,right:m}=r;return{top:l,left:o,width:c,height:f,bottom:h,right:m}}function sy(a){return Rr(a,{ignoreTransform:!0})}function _E(a){const n=a.innerWidth,r=a.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function wE(a,n){return n===void 0&&(n=Ft(a).getComputedStyle(a)),n.position==="fixed"}function SE(a,n){n===void 0&&(n=Ft(a).getComputedStyle(a));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=n[o];return typeof c=="string"?r.test(c):!1})}function vf(a,n){const r=[];function l(o){if(n!=null&&r.length>=n||!o)return r;if(hf(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!Ys(o)||Qy(o)||r.includes(o))return r;const c=Ft(a).getComputedStyle(o);return o!==a&&SE(o,c)&&r.push(o),wE(o,c)?r:l(o.parentNode)}return a?l(a):r}function Fy(a){const[n]=vf(a,1);return n??null}function Od(a){return!Po||!a?null:xr(a)?a:ff(a)?hf(a)||a===Ar(a).scrollingElement?window:Ys(a)?a:null:null}function Wy(a){return xr(a)?a.scrollX:a.scrollLeft}function ep(a){return xr(a)?a.scrollY:a.scrollTop}function ef(a){return{x:Wy(a),y:ep(a)}}var wt;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(wt||(wt={}));function tp(a){return!Po||!a?!1:a===document.scrollingElement}function np(a){const n={x:0,y:0},r=tp(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},l={x:a.scrollWidth-r.width,y:a.scrollHeight-r.height},o=a.scrollTop<=n.y,c=a.scrollLeft<=n.x,f=a.scrollTop>=l.y,h=a.scrollLeft>=l.x;return{isTop:o,isLeft:c,isBottom:f,isRight:h,maxScroll:l,minScroll:n}}const EE={x:.2,y:.2};function TE(a,n,r,l,o){let{top:c,left:f,right:h,bottom:m}=r;l===void 0&&(l=10),o===void 0&&(o=EE);const{isTop:g,isBottom:y,isLeft:b,isRight:_}=np(a),w={x:0,y:0},O={x:0,y:0},N={height:n.height*o.y,width:n.width*o.x};return!g&&c<=n.top+N.height?(w.y=wt.Backward,O.y=l*Math.abs((n.top+N.height-c)/N.height)):!y&&m>=n.bottom-N.height&&(w.y=wt.Forward,O.y=l*Math.abs((n.bottom-N.height-m)/N.height)),!_&&h>=n.right-N.width?(w.x=wt.Forward,O.x=l*Math.abs((n.right-N.width-h)/N.width)):!b&&f<=n.left+N.width&&(w.x=wt.Backward,O.x=l*Math.abs((n.left+N.width-f)/N.width)),{direction:w,speed:O}}function xE(a){if(a===document.scrollingElement){const{innerWidth:c,innerHeight:f}=window;return{top:0,left:0,right:c,bottom:f,width:c,height:f}}const{top:n,left:r,right:l,bottom:o}=a.getBoundingClientRect();return{top:n,left:r,right:l,bottom:o,width:a.clientWidth,height:a.clientHeight}}function ap(a){return a.reduce((n,r)=>Sr(n,ef(r)),qn)}function AE(a){return a.reduce((n,r)=>n+Wy(r),0)}function RE(a){return a.reduce((n,r)=>n+ep(r),0)}function OE(a,n){if(n===void 0&&(n=Rr),!a)return;const{top:r,left:l,bottom:o,right:c}=n(a);Fy(a)&&(o<=0||c<=0||r>=window.innerHeight||l>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const DE=[["x",["left","right"],AE],["y",["top","bottom"],RE]];class yf{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=vf(r),o=ap(l);this.rect={...n},this.width=n.width,this.height=n.height;for(const[c,f,h]of DE)for(const m of f)Object.defineProperty(this,m,{get:()=>{const g=h(l),y=o[c]-g;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xs{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...r)})},this.target=n}add(n,r,l){var o;(o=this.target)==null||o.addEventListener(n,r,l),this.listeners.push([n,r,l])}}function CE(a){const{EventTarget:n}=Ft(a);return a instanceof n?a:Ar(a)}function Dd(a,n){const r=Math.abs(a.x),l=Math.abs(a.y);return typeof n=="number"?Math.sqrt(r**2+l**2)>n:"x"in n&&"y"in n?r>n.x&&l>n.y:"x"in n?r>n.x:"y"in n?l>n.y:!1}var On;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(On||(On={}));function ly(a){a.preventDefault()}function NE(a){a.stopPropagation()}var Me;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(Me||(Me={}));const ip={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},jE=(a,n)=>{let{currentCoordinates:r}=n;switch(a.code){case Me.Right:return{...r,x:r.x+25};case Me.Left:return{...r,x:r.x-25};case Me.Down:return{...r,y:r.y+25};case Me.Up:return{...r,y:r.y-25}}};class rp{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new xs(Ar(r)),this.windowListeners=new xs(Ft(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,l=n.node.current;l&&OE(l),r(qn)}handleKeyDown(n){if(gf(n)){const{active:r,context:l,options:o}=this.props,{keyboardCodes:c=ip,coordinateGetter:f=jE,scrollBehavior:h="smooth"}=o,{code:m}=n;if(c.end.includes(m)){this.handleEnd(n);return}if(c.cancel.includes(m)){this.handleCancel(n);return}const{collisionRect:g}=l.current,y=g?{x:g.left,y:g.top}:qn;this.referenceCoordinates||(this.referenceCoordinates=y);const b=f(n,{active:r,context:l.current,currentCoordinates:y});if(b){const _=Uo(b,y),w={x:0,y:0},{scrollableAncestors:O}=l.current;for(const N of O){const j=n.code,{isTop:H,isRight:D,isLeft:U,isBottom:B,maxScroll:Y,minScroll:Q}=np(N),K=xE(N),P={x:Math.min(j===Me.Right?K.right-K.width/2:K.right,Math.max(j===Me.Right?K.left:K.left+K.width/2,b.x)),y:Math.min(j===Me.Down?K.bottom-K.height/2:K.bottom,Math.max(j===Me.Down?K.top:K.top+K.height/2,b.y))},F=j===Me.Right&&!D||j===Me.Left&&!U,me=j===Me.Down&&!B||j===Me.Up&&!H;if(F&&P.x!==b.x){const ce=N.scrollLeft+_.x,pe=j===Me.Right&&ce<=Y.x||j===Me.Left&&ce>=Q.x;if(pe&&!_.y){N.scrollTo({left:ce,behavior:h});return}pe?w.x=N.scrollLeft-ce:w.x=j===Me.Right?N.scrollLeft-Y.x:N.scrollLeft-Q.x,w.x&&N.scrollBy({left:-w.x,behavior:h});break}else if(me&&P.y!==b.y){const ce=N.scrollTop+_.y,pe=j===Me.Down&&ce<=Y.y||j===Me.Up&&ce>=Q.y;if(pe&&!_.x){N.scrollTo({top:ce,behavior:h});return}pe?w.y=N.scrollTop-ce:w.y=j===Me.Down?N.scrollTop-Y.y:N.scrollTop-Q.y,w.y&&N.scrollBy({top:-w.y,behavior:h});break}}this.handleMove(n,Sr(Uo(b,this.referenceCoordinates),w))}}}handleMove(n,r){const{onMove:l}=this.props;n.preventDefault(),l(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}rp.activators=[{eventName:"onKeyDown",handler:(a,n,r)=>{let{keyboardCodes:l=ip,onActivation:o}=n,{active:c}=r;const{code:f}=a.nativeEvent;if(l.start.includes(f)){const h=c.activatorNode.current;return h&&a.target!==h?!1:(a.preventDefault(),o?.({event:a.nativeEvent}),!0)}return!1}}];function oy(a){return!!(a&&"distance"in a)}function uy(a){return!!(a&&"delay"in a)}class pf{constructor(n,r,l){var o;l===void 0&&(l=CE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:c}=n,{target:f}=c;this.props=n,this.events=r,this.document=Ar(f),this.documentListeners=new xs(this.document),this.listeners=new xs(l),this.windowListeners=new xs(Ft(f)),this.initialCoordinates=(o=Wd(c))!=null?o:qn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:l}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,ly),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,ly),this.documentListeners.add(On.Keydown,this.handleKeydown),r){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(uy(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(oy(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:l,onPending:o}=this.props;o(l,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(On.Click,NE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:l,initialCoordinates:o,props:c}=this,{onMove:f,options:{activationConstraint:h}}=c;if(!o)return;const m=(r=Wd(n))!=null?r:qn,g=Uo(o,m);if(!l&&h){if(oy(h)){if(h.tolerance!=null&&Dd(g,h.tolerance))return this.handleCancel();if(Dd(g,h.distance))return this.handleStart()}if(uy(h)&&Dd(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}n.cancelable&&n.preventDefault(),f(m)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const ME={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bf extends pf{constructor(n){const{event:r}=n,l=Ar(r.target);super(n,ME,l)}}bf.activators=[{eventName:"onPointerDown",handler:(a,n)=>{let{nativeEvent:r}=a,{onActivation:l}=n;return!r.isPrimary||r.button!==0?!1:(l?.({event:r}),!0)}}];const kE={move:{name:"mousemove"},end:{name:"mouseup"}};var tf;(function(a){a[a.RightClick=2]="RightClick"})(tf||(tf={}));class zE extends pf{constructor(n){super(n,kE,Ar(n.event.target))}}zE.activators=[{eventName:"onMouseDown",handler:(a,n)=>{let{nativeEvent:r}=a,{onActivation:l}=n;return r.button===tf.RightClick?!1:(l?.({event:r}),!0)}}];const Cd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class UE extends pf{constructor(n){super(n,Cd)}static setup(){return window.addEventListener(Cd.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Cd.move.name,n)};function n(){}}}UE.activators=[{eventName:"onTouchStart",handler:(a,n)=>{let{nativeEvent:r}=a,{onActivation:l}=n;const{touches:o}=r;return o.length>1?!1:(l?.({event:r}),!0)}}];var As;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(As||(As={}));var Bo;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bo||(Bo={}));function LE(a){let{acceleration:n,activator:r=As.Pointer,canScroll:l,draggingRect:o,enabled:c,interval:f=5,order:h=Bo.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:y,delta:b,threshold:_}=a;const w=qE({delta:b,disabled:!c}),[O,N]=KS(),j=E.useRef({x:0,y:0}),H=E.useRef({x:0,y:0}),D=E.useMemo(()=>{switch(r){case As.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case As.DraggableRect:return o}},[r,o,m]),U=E.useRef(null),B=E.useCallback(()=>{const Q=U.current;if(!Q)return;const K=j.current.x*H.current.x,P=j.current.y*H.current.y;Q.scrollBy(K,P)},[]),Y=E.useMemo(()=>h===Bo.TreeOrder?[...g].reverse():g,[h,g]);E.useEffect(()=>{if(!c||!g.length||!D){N();return}for(const Q of Y){if(l?.(Q)===!1)continue;const K=g.indexOf(Q),P=y[K];if(!P)continue;const{direction:F,speed:me}=TE(Q,P,D,n,_);for(const ce of["x","y"])w[ce][F[ce]]||(me[ce]=0,F[ce]=0);if(me.x>0||me.y>0){N(),U.current=Q,O(B,f),j.current=me,H.current=F;return}}j.current={x:0,y:0},H.current={x:0,y:0},N()},[n,B,l,N,c,f,JSON.stringify(D),JSON.stringify(w),O,g,Y,y,JSON.stringify(_)])}const BE={x:{[wt.Backward]:!1,[wt.Forward]:!1},y:{[wt.Backward]:!1,[wt.Forward]:!1}};function qE(a){let{delta:n,disabled:r}=a;const l=Fd(n);return Vs(o=>{if(r||!l||!o)return BE;const c={x:Math.sign(n.x-l.x),y:Math.sign(n.y-l.y)};return{x:{[wt.Backward]:o.x[wt.Backward]||c.x===-1,[wt.Forward]:o.x[wt.Forward]||c.x===1},y:{[wt.Backward]:o.y[wt.Backward]||c.y===-1,[wt.Forward]:o.y[wt.Forward]||c.y===1}}},[r,n,l])}function HE(a,n){const r=n!=null?a.get(n):void 0,l=r?r.node.current:null;return Vs(o=>{var c;return n==null?null:(c=l??o)!=null?c:null},[l,n])}function IE(a,n){return E.useMemo(()=>a.reduce((r,l)=>{const{sensor:o}=l,c=o.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,l)}));return[...r,...c]},[]),[a,n])}var Is;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Is||(Is={}));var nf;(function(a){a.Optimized="optimized"})(nf||(nf={}));const cy=new Map;function $E(a,n){let{dragging:r,dependencies:l,config:o}=n;const[c,f]=E.useState(null),{frequency:h,measure:m,strategy:g}=o,y=E.useRef(a),b=j(),_=qs(b),w=E.useCallback(function(H){H===void 0&&(H=[]),!_.current&&f(D=>D===null?H:D.concat(H.filter(U=>!D.includes(U))))},[_]),O=E.useRef(null),N=Vs(H=>{if(b&&!r)return cy;if(!H||H===cy||y.current!==a||c!=null){const D=new Map;for(let U of a){if(!U)continue;if(c&&c.length>0&&!c.includes(U.id)&&U.rect.current){D.set(U.id,U.rect.current);continue}const B=U.node.current,Y=B?new yf(m(B),B):null;U.rect.current=Y,Y&&D.set(U.id,Y)}return D}return H},[a,c,r,b,m]);return E.useEffect(()=>{y.current=a},[a]),E.useEffect(()=>{b||w()},[r,b]),E.useEffect(()=>{c&&c.length>0&&f(null)},[JSON.stringify(c)]),E.useEffect(()=>{b||typeof h!="number"||O.current!==null||(O.current=setTimeout(()=>{w(),O.current=null},h))},[h,b,w,...l]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:c!=null};function j(){switch(g){case Is.Always:return!1;case Is.BeforeDragging:return r;default:return!r}}}function sp(a,n){return Vs(r=>a?r||(typeof n=="function"?n(a):a):null,[n,a])}function GE(a,n){return sp(a,n)}function YE(a){let{callback:n,disabled:r}=a;const l=mf(n),o=E.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(l)},[l,r]);return E.useEffect(()=>()=>o?.disconnect(),[o]),o}function Fo(a){let{callback:n,disabled:r}=a;const l=mf(n),o=E.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(l)},[r]);return E.useEffect(()=>()=>o?.disconnect(),[o]),o}function VE(a){return new yf(Rr(a),a)}function dy(a,n,r){n===void 0&&(n=VE);const[l,o]=E.useState(null);function c(){o(m=>{if(!a)return null;if(a.isConnected===!1){var g;return(g=m??r)!=null?g:null}const y=n(a);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const f=YE({callback(m){if(a)for(const g of m){const{type:y,target:b}=g;if(y==="childList"&&b instanceof HTMLElement&&b.contains(a)){c();break}}}}),h=Fo({callback:c});return Kn(()=>{c(),a?(h?.observe(a),f?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),f?.disconnect())},[a]),l}function KE(a){const n=sp(a);return Py(a,n)}const fy=[];function XE(a){const n=E.useRef(a),r=Vs(l=>a?l&&l!==fy&&a&&n.current&&a.parentNode===n.current.parentNode?l:vf(a):fy,[a]);return E.useEffect(()=>{n.current=a},[a]),r}function QE(a){const[n,r]=E.useState(null),l=E.useRef(a),o=E.useCallback(c=>{const f=Od(c.target);f&&r(h=>h?(h.set(f,ef(f)),new Map(h)):null)},[]);return E.useEffect(()=>{const c=l.current;if(a!==c){f(c);const h=a.map(m=>{const g=Od(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,ef(g)]):null}).filter(m=>m!=null);r(h.length?new Map(h):null),l.current=a}return()=>{f(a),f(c)};function f(h){h.forEach(m=>{const g=Od(m);g?.removeEventListener("scroll",o)})}},[o,a]),E.useMemo(()=>a.length?n?Array.from(n.values()).reduce((c,f)=>Sr(c,f),qn):ap(a):qn,[a,n])}function hy(a,n){n===void 0&&(n=[]);const r=E.useRef(null);return E.useEffect(()=>{r.current=null},n),E.useEffect(()=>{const l=a!==qn;l&&!r.current&&(r.current=a),!l&&r.current&&(r.current=null)},[a]),r.current?Uo(a,r.current):qn}function JE(a){E.useEffect(()=>{if(!Po)return;const n=a.map(r=>{let{sensor:l}=r;return l.setup==null?void 0:l.setup()});return()=>{for(const r of n)r?.()}},a.map(n=>{let{sensor:r}=n;return r}))}function ZE(a,n){return E.useMemo(()=>a.reduce((r,l)=>{let{eventName:o,handler:c}=l;return r[o]=f=>{c(f,n)},r},{}),[a,n])}function lp(a){return E.useMemo(()=>a?_E(a):null,[a])}const my=[];function PE(a,n){n===void 0&&(n=Rr);const[r]=a,l=lp(r?Ft(r):null),[o,c]=E.useState(my);function f(){c(()=>a.length?a.map(m=>tp(m)?l:new yf(n(m),m)):my)}const h=Fo({callback:f});return Kn(()=>{h?.disconnect(),f(),a.forEach(m=>h?.observe(m))},[a]),o}function FE(a){if(!a)return null;if(a.children.length>1)return a;const n=a.children[0];return Ys(n)?n:a}function WE(a){let{measure:n}=a;const[r,l]=E.useState(null),o=E.useCallback(g=>{for(const{target:y}of g)if(Ys(y)){l(b=>{const _=n(y);return b?{...b,width:_.width,height:_.height}:_});break}},[n]),c=Fo({callback:o}),f=E.useCallback(g=>{const y=FE(g);c?.disconnect(),y&&c?.observe(y),l(y?n(y):null)},[n,c]),[h,m]=zo(f);return E.useMemo(()=>({nodeRef:h,rect:r,setRef:m}),[r,h,m])}const eT=[{sensor:bf,options:{}},{sensor:rp,options:{}}],tT={current:{}},So={draggable:{measure:sy},droppable:{measure:sy,strategy:Is.WhileDragging,frequency:nf.Optimized},dragOverlay:{measure:Rr}};class Rs extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,l;return(r=(l=this.get(n))==null?void 0:l.node.current)!=null?r:void 0}}const nT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Rs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:So,measureDroppableContainers:Lo,windowRect:null,measuringScheduled:!1},aT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lo,draggableNodes:new Map,over:null,measureDroppableContainers:Lo},Wo=E.createContext(aT),op=E.createContext(nT);function iT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Rs}}}function rT(a,n){switch(n.type){case gt.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case gt.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:n.coordinates.x-a.draggable.initialCoordinates.x,y:n.coordinates.y-a.draggable.initialCoordinates.y}}};case gt.DragEnd:case gt.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gt.RegisterDroppable:{const{element:r}=n,{id:l}=r,o=new Rs(a.droppable.containers);return o.set(l,r),{...a,droppable:{...a.droppable,containers:o}}}case gt.SetDroppableDisabled:{const{id:r,key:l,disabled:o}=n,c=a.droppable.containers.get(r);if(!c||l!==c.key)return a;const f=new Rs(a.droppable.containers);return f.set(r,{...c,disabled:o}),{...a,droppable:{...a.droppable,containers:f}}}case gt.UnregisterDroppable:{const{id:r,key:l}=n,o=a.droppable.containers.get(r);if(!o||l!==o.key)return a;const c=new Rs(a.droppable.containers);return c.delete(r),{...a,droppable:{...a.droppable,containers:c}}}default:return a}}function sT(a){let{disabled:n}=a;const{active:r,activatorEvent:l,draggableNodes:o}=E.useContext(Wo),c=Fd(l),f=Fd(r?.id);return E.useEffect(()=>{if(!n&&!l&&c&&f!=null){if(!gf(c)||document.activeElement===c.target)return;const h=o.get(f);if(!h)return;const{activatorNode:m,node:g}=h;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[m.current,g.current]){if(!y)continue;const b=JS(y);if(b){b.focus();break}}})}},[l,n,o,f,c]),null}function lT(a,n){let{transform:r,...l}=n;return a!=null&&a.length?a.reduce((o,c)=>c({transform:o,...l}),r):r}function oT(a){return E.useMemo(()=>({draggable:{...So.draggable,...a?.draggable},droppable:{...So.droppable,...a?.droppable},dragOverlay:{...So.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function uT(a){let{activeNode:n,measure:r,initialRect:l,config:o=!0}=a;const c=E.useRef(!1),{x:f,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Kn(()=>{if(!f&&!h||!n){c.current=!1;return}if(c.current||!l)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const y=r(g),b=Py(y,l);if(f||(b.x=0),h||(b.y=0),c.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const _=Fy(g);_&&_.scrollBy({top:b.y,left:b.x})}},[n,f,h,l,r])}const up=E.createContext({...qn,scaleX:1,scaleY:1});var Ga;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Ga||(Ga={}));const cT=E.memo(function(n){var r,l,o,c;let{id:f,accessibility:h,autoScroll:m=!0,children:g,sensors:y=eT,collisionDetection:b=hE,measuring:_,modifiers:w,...O}=n;const N=E.useReducer(rT,void 0,iT),[j,H]=N,[D,U]=tE(),[B,Y]=E.useState(Ga.Uninitialized),Q=B===Ga.Initialized,{draggable:{active:K,nodes:P,translate:F},droppable:{containers:me}}=j,ce=K!=null?P.get(K):null,pe=E.useRef({initial:null,translated:null}),De=E.useMemo(()=>{var et;return K!=null?{id:K,data:(et=ce?.data)!=null?et:tT,rect:pe}:null},[K,ce]),Ee=E.useRef(null),[J,R]=E.useState(null),[V,W]=E.useState(null),ge=qs(O,Object.values(O)),be=Ks("DndDescribedBy",f),T=E.useMemo(()=>me.getEnabled(),[me]),q=oT(_),{droppableRects:X,measureDroppableContainers:Z,measuringScheduled:le}=$E(T,{dragging:Q,dependencies:[F.x,F.y],config:q.droppable}),re=HE(P,K),Se=E.useMemo(()=>V?Wd(V):null,[V]),ke=xi(),te=GE(re,q.draggable.measure);uT({activeNode:K!=null?P.get(K):null,config:ke.layoutShiftCompensation,initialRect:te,measure:q.draggable.measure});const ve=dy(re,q.draggable.measure,te),it=dy(re?re.parentElement:null),Xe=E.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:me,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Nt=me.getNodeFor((r=Xe.current.over)==null?void 0:r.id),$e=WE({measure:q.dragOverlay.measure}),ae=(l=$e.nodeRef.current)!=null?l:re,Ye=Q?(o=$e.rect)!=null?o:ve:null,yt=!!($e.nodeRef.current&&$e.rect),Fe=KE(yt?null:ve),zt=lp(ae?Ft(ae):null),We=XE(Q?Nt??re:null),ct=PE(We),Wt=lT(w,{transform:{x:F.x-Fe.x,y:F.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:V,active:De,activeNodeRect:ve,containerNodeRect:it,draggingNodeRect:Ye,over:Xe.current.over,overlayNodeRect:$e.rect,scrollableAncestors:We,scrollableAncestorRects:ct,windowRect:zt}),Hn=Se?Sr(Se,F):null,ze=QE(We),en=hy(ze),jt=hy(ze,[ve]),It=Sr(Wt,en),tn=Ye?vE(Ye,Wt):null,In=De&&tn?b({active:De,collisionRect:tn,droppableRects:X,droppableContainers:T,pointerCoordinates:Hn}):null,Xa=cE(In,"id"),[mn,Qa]=E.useState(null),Xn=yt?Wt:Sr(Wt,jt),Et=mE(Xn,(c=mn?.rect)!=null?c:null,ve),Ut=E.useRef(null),dt=E.useCallback((et,tt)=>{let{sensor:pt,options:$t}=tt;if(Ee.current==null)return;const Gt=P.get(Ee.current);if(!Gt)return;const Mt=et.nativeEvent,Yt=new pt({active:Ee.current,activeNode:Gt,event:Mt,options:$t,context:Xe,onAbort(ft){if(!P.get(ft))return;const{onDragAbort:nn}=ge.current,vn={id:ft};nn?.(vn),D({type:"onDragAbort",event:vn})},onPending(ft,Cn,nn,vn){if(!P.get(ft))return;const{onDragPending:Jn}=ge.current,Nn={id:ft,constraint:Cn,initialCoordinates:nn,offset:vn};Jn?.(Nn),D({type:"onDragPending",event:Nn})},onStart(ft){const Cn=Ee.current;if(Cn==null)return;const nn=P.get(Cn);if(!nn)return;const{onDragStart:vn}=ge.current,Qn={activatorEvent:Mt,active:{id:Cn,data:nn.data,rect:pe}};Ss.unstable_batchedUpdates(()=>{vn?.(Qn),Y(Ga.Initializing),H({type:gt.DragStart,initialCoordinates:ft,active:Cn}),D({type:"onDragStart",event:Qn}),R(Ut.current),W(Mt)})},onMove(ft){H({type:gt.DragMove,coordinates:ft})},onEnd:gn(gt.DragEnd),onCancel:gn(gt.DragCancel)});Ut.current=Yt;function gn(ft){return async function(){const{active:nn,collisions:vn,over:Qn,scrollAdjustedTranslate:Jn}=Xe.current;let Nn=null;if(nn&&Jn){const{cancelDrop:pa}=ge.current;Nn={activatorEvent:Mt,active:nn,collisions:vn,delta:Jn,over:Qn},ft===gt.DragEnd&&typeof pa=="function"&&await Promise.resolve(pa(Nn))&&(ft=gt.DragCancel)}Ee.current=null,Ss.unstable_batchedUpdates(()=>{H({type:ft}),Y(Ga.Uninitialized),Qa(null),R(null),W(null),Ut.current=null;const pa=ft===gt.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const yn=ge.current[pa];yn?.(Nn),D({type:pa,event:Nn})}})}}},[P]),tu=E.useCallback((et,tt)=>(pt,$t)=>{const Gt=pt.nativeEvent,Mt=P.get($t);if(Ee.current!==null||!Mt||Gt.dndKit||Gt.defaultPrevented)return;const Yt={active:Mt};et(pt,tt.options,Yt)===!0&&(Gt.dndKit={capturedBy:tt.sensor},Ee.current=$t,dt(pt,tt))},[P,dt]),Xs=IE(y,tu);JE(y),Kn(()=>{ve&&B===Ga.Initializing&&Y(Ga.Initialized)},[ve,B]),E.useEffect(()=>{const{onDragMove:et}=ge.current,{active:tt,activatorEvent:pt,collisions:$t,over:Gt}=Xe.current;if(!tt||!pt)return;const Mt={active:tt,activatorEvent:pt,collisions:$t,delta:{x:It.x,y:It.y},over:Gt};Ss.unstable_batchedUpdates(()=>{et?.(Mt),D({type:"onDragMove",event:Mt})})},[It.x,It.y]),E.useEffect(()=>{const{active:et,activatorEvent:tt,collisions:pt,droppableContainers:$t,scrollAdjustedTranslate:Gt}=Xe.current;if(!et||Ee.current==null||!tt||!Gt)return;const{onDragOver:Mt}=ge.current,Yt=$t.get(Xa),gn=Yt&&Yt.rect.current?{id:Yt.id,rect:Yt.rect.current,data:Yt.data,disabled:Yt.disabled}:null,ft={active:et,activatorEvent:tt,collisions:pt,delta:{x:Gt.x,y:Gt.y},over:gn};Ss.unstable_batchedUpdates(()=>{Qa(gn),Mt?.(ft),D({type:"onDragOver",event:ft})})},[Xa]),Kn(()=>{Xe.current={activatorEvent:V,active:De,activeNode:re,collisionRect:tn,collisions:In,droppableRects:X,draggableNodes:P,draggingNode:ae,draggingNodeRect:Ye,droppableContainers:me,over:mn,scrollableAncestors:We,scrollAdjustedTranslate:It},pe.current={initial:Ye,translated:tn}},[De,re,In,tn,P,ae,Ye,X,me,mn,We,It]),LE({...ke,delta:F,draggingRect:tn,pointerCoordinates:Hn,scrollableAncestors:We,scrollableAncestorRects:ct});const nu=E.useMemo(()=>({active:De,activeNode:re,activeNodeRect:ve,activatorEvent:V,collisions:In,containerNodeRect:it,dragOverlay:$e,draggableNodes:P,droppableContainers:me,droppableRects:X,over:mn,measureDroppableContainers:Z,scrollableAncestors:We,scrollableAncestorRects:ct,measuringConfiguration:q,measuringScheduled:le,windowRect:zt}),[De,re,ve,V,In,it,$e,P,me,X,mn,Z,We,ct,q,le,zt]),Ti=E.useMemo(()=>({activatorEvent:V,activators:Xs,active:De,activeNodeRect:ve,ariaDescribedById:{draggable:be},dispatch:H,draggableNodes:P,over:mn,measureDroppableContainers:Z}),[V,Xs,De,ve,H,be,P,mn,Z]);return St.createElement(Zy.Provider,{value:U},St.createElement(Wo.Provider,{value:Ti},St.createElement(op.Provider,{value:nu},St.createElement(up.Provider,{value:Et},g)),St.createElement(sT,{disabled:h?.restoreFocus===!1})),St.createElement(iE,{...h,hiddenTextDescribedById:be}));function xi(){const et=J?.autoScrollEnabled===!1,tt=typeof m=="object"?m.enabled===!1:m===!1,pt=Q&&!et&&!tt;return typeof m=="object"?{...m,enabled:pt}:{enabled:pt}}}),dT=E.createContext(null),gy="button",fT="Draggable";function hT(a){let{id:n,data:r,disabled:l=!1,attributes:o}=a;const c=Ks(fT),{activators:f,activatorEvent:h,active:m,activeNodeRect:g,ariaDescribedById:y,draggableNodes:b,over:_}=E.useContext(Wo),{role:w=gy,roleDescription:O="draggable",tabIndex:N=0}=o??{},j=m?.id===n,H=E.useContext(j?up:dT),[D,U]=zo(),[B,Y]=zo(),Q=ZE(f,n),K=qs(r);Kn(()=>(b.set(n,{id:n,key:c,node:D,activatorNode:B,data:K}),()=>{const F=b.get(n);F&&F.key===c&&b.delete(n)}),[b,n]);const P=E.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":l,"aria-pressed":j&&w===gy?!0:void 0,"aria-roledescription":O,"aria-describedby":y.draggable}),[l,w,N,j,O,y.draggable]);return{active:m,activatorEvent:h,activeNodeRect:g,attributes:P,isDragging:j,listeners:l?void 0:Q,node:D,over:_,setNodeRef:U,setActivatorNodeRef:Y,transform:H}}function mT(){return E.useContext(op)}const gT="Droppable",vT={timeout:25};function yT(a){let{data:n,disabled:r=!1,id:l,resizeObserverConfig:o}=a;const c=Ks(gT),{active:f,dispatch:h,over:m,measureDroppableContainers:g}=E.useContext(Wo),y=E.useRef({disabled:r}),b=E.useRef(!1),_=E.useRef(null),w=E.useRef(null),{disabled:O,updateMeasurementsFor:N,timeout:j}={...vT,...o},H=qs(N??l),D=E.useCallback(()=>{if(!b.current){b.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{g(Array.isArray(H.current)?H.current:[H.current]),w.current=null},j)},[j]),U=Fo({callback:D,disabled:O||!f}),B=E.useCallback((P,F)=>{U&&(F&&(U.unobserve(F),b.current=!1),P&&U.observe(P))},[U]),[Y,Q]=zo(B),K=qs(n);return E.useEffect(()=>{!U||!Y.current||(U.disconnect(),b.current=!1,U.observe(Y.current))},[Y,U]),E.useEffect(()=>(h({type:gt.RegisterDroppable,element:{id:l,key:c,disabled:r,node:Y,rect:_,data:K}}),()=>h({type:gt.UnregisterDroppable,key:c,id:l})),[l]),E.useEffect(()=>{r!==y.current.disabled&&(h({type:gt.SetDroppableDisabled,id:l,key:c,disabled:r}),y.current.disabled=r)},[l,c,r,h]),{active:f,rect:_,isOver:m?.id===l,node:Y,over:m,setNodeRef:Q}}function cp(a,n,r){const l=a.slice();return l.splice(r<0?l.length+r:r,0,l.splice(n,1)[0]),l}function pT(a,n){return a.reduce((r,l,o)=>{const c=n.get(l);return c&&(r[o]=c),r},Array(a.length))}function yo(a){return a!==null&&a>=0}function bT(a,n){if(a===n)return!0;if(a.length!==n.length)return!1;for(let r=0;r<a.length;r++)if(a[r]!==n[r])return!1;return!0}function _T(a){return typeof a=="boolean"?{draggable:a,droppable:a}:a}const dp=a=>{let{rects:n,activeIndex:r,overIndex:l,index:o}=a;const c=cp(n,l,r),f=n[o],h=c[o];return!h||!f?null:{x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height}},po={scaleX:1,scaleY:1},wT=a=>{var n;let{activeIndex:r,activeNodeRect:l,index:o,rects:c,overIndex:f}=a;const h=(n=c[r])!=null?n:l;if(!h)return null;if(o===r){const g=c[f];return g?{x:0,y:r<f?g.top+g.height-(h.top+h.height):g.top-h.top,...po}:null}const m=ST(c,o,r);return o>r&&o<=f?{x:0,y:-h.height-m,...po}:o<r&&o>=f?{x:0,y:h.height+m,...po}:{x:0,y:0,...po}};function ST(a,n,r){const l=a[n],o=a[n-1],c=a[n+1];return l?r<n?o?l.top-(o.top+o.height):c?c.top-(l.top+l.height):0:c?c.top-(l.top+l.height):o?l.top-(o.top+o.height):0:0}const fp="Sortable",hp=St.createContext({activeIndex:-1,containerId:fp,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dp,disabled:{draggable:!1,droppable:!1}});function ET(a){let{children:n,id:r,items:l,strategy:o=dp,disabled:c=!1}=a;const{active:f,dragOverlay:h,droppableRects:m,over:g,measureDroppableContainers:y}=mT(),b=Ks(fp,r),_=h.rect!==null,w=E.useMemo(()=>l.map(Q=>typeof Q=="object"&&"id"in Q?Q.id:Q),[l]),O=f!=null,N=f?w.indexOf(f.id):-1,j=g?w.indexOf(g.id):-1,H=E.useRef(w),D=!bT(w,H.current),U=j!==-1&&N===-1||D,B=_T(c);Kn(()=>{D&&O&&y(w)},[D,w,O,y]),E.useEffect(()=>{H.current=w},[w]);const Y=E.useMemo(()=>({activeIndex:N,containerId:b,disabled:B,disableTransforms:U,items:w,overIndex:j,useDragOverlay:_,sortedRects:pT(w,m),strategy:o}),[N,b,B.draggable,B.droppable,U,w,j,m,_,o]);return St.createElement(hp.Provider,{value:Y},n)}const TT=a=>{let{id:n,items:r,activeIndex:l,overIndex:o}=a;return cp(r,l,o).indexOf(n)},xT=a=>{let{containerId:n,isSorting:r,wasDragging:l,index:o,items:c,newIndex:f,previousItems:h,previousContainerId:m,transition:g}=a;return!g||!l||h!==c&&o===f?!1:r?!0:f!==o&&n===m},AT={duration:200,easing:"ease"},mp="transform",RT=Hs.Transition.toString({property:mp,duration:0,easing:"linear"}),OT={roleDescription:"sortable"};function DT(a){let{disabled:n,index:r,node:l,rect:o}=a;const[c,f]=E.useState(null),h=E.useRef(r);return Kn(()=>{if(!n&&r!==h.current&&l.current){const m=o.current;if(m){const g=Rr(l.current,{ignoreTransform:!0}),y={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(y.x||y.y)&&f(y)}}r!==h.current&&(h.current=r)},[n,r,l,o]),E.useEffect(()=>{c&&f(null)},[c]),c}function CT(a){let{animateLayoutChanges:n=xT,attributes:r,disabled:l,data:o,getNewIndex:c=TT,id:f,strategy:h,resizeObserverConfig:m,transition:g=AT}=a;const{items:y,containerId:b,activeIndex:_,disabled:w,disableTransforms:O,sortedRects:N,overIndex:j,useDragOverlay:H,strategy:D}=E.useContext(hp),U=NT(l,w),B=y.indexOf(f),Y=E.useMemo(()=>({sortable:{containerId:b,index:B,items:y},...o}),[b,o,B,y]),Q=E.useMemo(()=>y.slice(y.indexOf(f)),[y,f]),{rect:K,node:P,isOver:F,setNodeRef:me}=yT({id:f,data:Y,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:Q,...m}}),{active:ce,activatorEvent:pe,activeNodeRect:De,attributes:Ee,setNodeRef:J,listeners:R,isDragging:V,over:W,setActivatorNodeRef:ge,transform:be}=hT({id:f,data:Y,attributes:{...OT,...r},disabled:U.draggable}),T=VS(me,J),q=!!ce,X=q&&!O&&yo(_)&&yo(j),Z=!H&&V,le=Z&&X?be:null,Se=X?le??(h??D)({rects:N,activeNodeRect:De,activeIndex:_,overIndex:j,index:B}):null,ke=yo(_)&&yo(j)?c({id:f,items:y,activeIndex:_,overIndex:j}):B,te=ce?.id,ve=E.useRef({activeId:te,items:y,newIndex:ke,containerId:b}),it=y!==ve.current.items,Xe=n({active:ce,containerId:b,isDragging:V,isSorting:q,id:f,index:B,items:y,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:g,wasDragging:ve.current.activeId!=null}),Nt=DT({disabled:!Xe,index:B,node:P,rect:K});return E.useEffect(()=>{q&&ve.current.newIndex!==ke&&(ve.current.newIndex=ke),b!==ve.current.containerId&&(ve.current.containerId=b),y!==ve.current.items&&(ve.current.items=y)},[q,ke,b,y]),E.useEffect(()=>{if(te===ve.current.activeId)return;if(te!=null&&ve.current.activeId==null){ve.current.activeId=te;return}const ae=setTimeout(()=>{ve.current.activeId=te},50);return()=>clearTimeout(ae)},[te]),{active:ce,activeIndex:_,attributes:Ee,data:Y,rect:K,index:B,newIndex:ke,items:y,isOver:F,isSorting:q,isDragging:V,listeners:R,node:P,overIndex:j,over:W,setNodeRef:T,setActivatorNodeRef:ge,setDroppableNodeRef:me,setDraggableNodeRef:J,transform:Nt??Se,transition:$e()};function $e(){if(Nt||it&&ve.current.newIndex===B)return RT;if(!(Z&&!gf(pe)||!g)&&(q||Xe))return Hs.Transition.toString({...g,property:mp})}}function NT(a,n){var r,l;return typeof a=="boolean"?{draggable:a,droppable:!1}:{draggable:(r=a?.draggable)!=null?r:n.draggable,droppable:(l=a?.droppable)!=null?l:n.droppable}}Me.Down,Me.Right,Me.Up,Me.Left;const jT=a=>{let{transform:n}=a;return{...n,x:0}};function MT({value:a,onChange:n}){return A.jsx("div",{className:"flex gap-1 flex-wrap",children:wo.map(r=>A.jsx("button",{className:"w-6 h-6 rounded border-2 cursor-pointer p-0",style:{backgroundColor:r,borderColor:a===r?"#1a1a2e":"transparent"},onClick:()=>n(r),title:r},r))})}function kT(){const a=oe(J=>J.roadmap.streams),n=oe(J=>J.addStream),r=oe(J=>J.reorderStreams),l=oe(J=>J.removeStream),o=oe(J=>J.addItem),c=oe(J=>J.addSubItem),f=oe(J=>J.toggleStreamCollapse),h=oe(J=>J.toggleItemExpanded),m=fe(J=>J.selectItem),g=fe(J=>J.openEditPanel),y=fe(J=>J.selectedItemId),b=fe(J=>J.showLeadColumn),_=fe(J=>J.showSupportColumn),w=fe(J=>J.showPhaseColumn),O=fe(J=>J.toggleLeadColumn),N=fe(J=>J.toggleSupportColumn),j=fe(J=>J.togglePhaseColumn),[H,D]=E.useState(!1),[U,B]=E.useState(""),[Y,Q]=E.useState(wo[0]),K=sE(rE(bf,{activationConstraint:{distance:5}})),P=J=>{const{active:R,over:V}=J;V&&R.id!==V.id&&r(R.id,V.id)},F=()=>{U.trim()&&(n(U.trim(),Y),B(""),Q(wo[(a.length+1)%wo.length]),D(!1))},me=J=>{J.key==="Enter"&&F(),J.key==="Escape"&&D(!1)},ce=(J,R)=>{m(J,R),g()},pe=160,De=pe+(b?Dn:0)+(_?Dn:0)+(w?Dn:0),Ee=a.map(J=>J.id);return A.jsxs("div",{className:"bg-white border-r border-gray-200 flex-shrink-0 overflow-x-hidden",style:{width:De+20},children:[A.jsxs("div",{className:"border-b border-gray-200 flex items-end px-2 pb-1 gap-0",style:{height:Id},children:[A.jsx("div",{className:"text-xs text-gray-400 font-medium",style:{width:pe},children:"STREAMS"}),A.jsx(Nd,{label:"Lead",active:b,onClick:O}),A.jsx(Nd,{label:"Support",active:_,onClick:N}),A.jsx(Nd,{label:"Phase",active:w,onClick:j})]}),(b||_||w)&&A.jsxs("div",{className:"flex items-center border-b border-gray-200 bg-gray-50 px-2",style:{height:24},children:[A.jsx("div",{style:{width:pe}}),b&&A.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Dn},children:"Lead"}),_&&A.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Dn},children:"Support"}),w&&A.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Dn},children:"Phase"})]}),A.jsx(cT,{sensors:K,collisionDetection:dE,modifiers:[jT],onDragEnd:P,children:A.jsx(ET,{items:Ee,strategy:wT,children:A.jsx("div",{children:a.map(J=>A.jsx(zT,{stream:J,nameColumnWidth:pe,selectedItemId:y,showLead:b,showSupport:_,showPhase:w,onToggleCollapse:f,onRemoveStream:l,onAddItem:o,onAddSubItem:c,onToggleItemExpanded:h,onSelectItem:m,onDoubleClickItem:ce},J.id))})})}),H?A.jsxs("div",{className:"p-2 border-t border-gray-200",children:[A.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1 mb-2 outline-none focus:border-blue-400",placeholder:"Stream name...",value:U,onChange:J=>B(J.target.value),onKeyDown:me,autoFocus:!0}),A.jsx(MT,{value:Y,onChange:Q}),A.jsxs("div",{className:"flex gap-1 mt-2",children:[A.jsx("button",{onClick:F,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded border-none cursor-pointer hover:bg-blue-600",children:"Add"}),A.jsx("button",{onClick:()=>D(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded border-none cursor-pointer hover:bg-gray-200",children:"Cancel"})]})]}):A.jsx("div",{className:"flex items-center px-3 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-t border-gray-200",style:{height:wi},onClick:()=>D(!0),children:"+ Add Stream"})]})}function zT({stream:a,nameColumnWidth:n,selectedItemId:r,showLead:l,showSupport:o,showPhase:c,onToggleCollapse:f,onRemoveStream:h,onAddItem:m,onAddSubItem:g,onToggleItemExpanded:y,onSelectItem:b,onDoubleClickItem:_}){const{attributes:w,listeners:O,setNodeRef:N,transform:j,transition:H,isDragging:D}=CT({id:a.id}),U={transform:Hs.Transform.toString(j),transition:H,opacity:D?.5:1,zIndex:D?50:void 0,position:"relative"};return A.jsxs("div",{ref:N,style:U,children:[A.jsxs("div",{className:"flex items-center gap-1 px-1 border-b border-gray-100 hover:bg-gray-50 group",style:{height:wi},children:[A.jsx("span",{className:"text-gray-300 hover:text-gray-500 cursor-grab active:cursor-grabbing flex-shrink-0 px-0.5 text-xs select-none",...w,...O,title:"Drag to reorder",children:""}),A.jsx("span",{className:"text-xs text-gray-400 w-4 flex-shrink-0 cursor-pointer",onClick:()=>f(a.id),children:a.collapsed?"":""}),A.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:a.color}}),A.jsx("span",{className:"text-sm font-medium truncate flex-1 cursor-pointer",onClick:()=>f(a.id),children:a.name}),A.jsx("button",{onClick:B=>{B.stopPropagation(),window.confirm(`Delete stream "${a.name}"?`)&&h(a.id)},className:"text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 border-none bg-transparent p-0 cursor-pointer",title:"Delete stream",children:""})]}),!a.collapsed&&A.jsxs(A.Fragment,{children:[a.items.map(B=>A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer group/item ${r===B.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-600"}`,style:{height:Ka},onClick:()=>b(B.id,a.id),onDoubleClick:()=>_(B.id,a.id),children:[A.jsx("span",{className:"text-[10px] text-gray-300 hover:text-gray-500 w-4 flex-shrink-0 cursor-pointer ml-4 mr-0.5",onClick:Y=>{Y.stopPropagation(),y(a.id,B.id)},title:B.expanded?"Collapse sub-tasks":"Expand sub-tasks",children:B.subItems&&B.subItems.length>0?B.expanded?"":"":A.jsx("span",{className:"opacity-0 group-hover/item:opacity-100",children:""})}),A.jsx("div",{className:"text-sm truncate",style:{width:n-24},children:B.name}),l&&A.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Dn},title:B.lead||"",children:B.lead||""}),o&&A.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Dn},title:B.support||"",children:B.support||""}),c&&A.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Dn},title:lo[B.phase]||B.phase,children:lo[B.phase]||B.phase})]}),B.expanded&&B.subItems&&B.subItems.map(Y=>A.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer ${r===Y.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-500"}`,style:{height:Si},onClick:()=>b(Y.id,a.id),onDoubleClick:()=>_(Y.id,a.id),children:[A.jsx("div",{className:"text-xs truncate pl-10",style:{width:n},children:Y.name}),l&&A.jsx("div",{className:"text-[10px] text-gray-400 truncate",style:{width:Dn},title:Y.lead||"",children:Y.lead||""}),o&&A.jsx("div",{className:"text-[10px] text-gray-400 truncate",style:{width:Dn},title:Y.support||"",children:Y.support||""}),c&&A.jsx("div",{className:"text-[10px] text-gray-400 truncate",style:{width:Dn},title:lo[Y.phase]||Y.phase,children:lo[Y.phase]||Y.phase})]},Y.id)),B.expanded&&A.jsx("div",{className:"flex items-center px-2 pl-12 text-xs text-gray-300 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Si},onClick:()=>g(a.id,B.id),children:"+ Add Sub-task"})]},B.id)),A.jsx("div",{className:"flex items-center px-2 pl-8 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Ka},onClick:()=>m(a.id),children:"+ Add Item"})]})]})}function Nd({label:a,active:n,onClick:r}){return A.jsx("button",{onClick:r,className:`text-[10px] px-1.5 py-0.5 rounded border cursor-pointer transition-colors ml-1 ${n?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-400 border-gray-200 hover:text-gray-600"}`,title:`${n?"Hide":"Show"} ${a} column`,children:a})}function eu(a,n,r,l){const o=qt(vt(a),r,l),c=qt(vt(n),r,l);return{x:o,width:Math.max(c-o,10)}}function gp(a){const n=[];let r=0;for(const l of a){const o=r;r+=wi;const c=[],f=[];if(!l.collapsed){for(const h of l.items){const m=r;c.push({itemId:h.id,y:r}),r+=Ka;const g=[];if(h.expanded&&h.subItems&&h.subItems.length>0){for(const y of h.subItems)g.push({subItemId:y.id,y:r}),r+=Si;r+=Si}f.push({itemId:h.id,y:m,subItemYs:g})}r+=Ka}n.push({streamId:l.id,y:o,headerY:o,height:r-o,itemYs:c,itemLayouts:f})}return n}function _f(a,n,r){const l=vt(a),o=vt(n),c=Ei(o,jv*7),f=Ei(l,-jv*7);return r==="week"?$S(f,c,l):GS(f,c,l)}function UT(a){if(a.length===0)return 0;const n=a[a.length-1];return n.x+n.width}function LT(a){const n=gp(a);if(n.length===0)return 200;const r=n[n.length-1];return r.y+r.height+Ka}function BT(a){const n=fe(m=>m.isPanning),r=fe(m=>m.setPanning),l=E.useRef(!1),o=E.useRef({x:0,y:0}),c=E.useCallback(m=>{n&&(l.current=!0,o.current={x:m.clientX,y:m.clientY},m.preventDefault())},[n]),f=E.useCallback(m=>{if(!l.current||!a.current)return;const g=m.clientX-o.current.x,y=m.clientY-o.current.y;a.current.scrollLeft-=g,a.current.scrollTop-=y,o.current={x:m.clientX,y:m.clientY}},[a]),h=E.useCallback(()=>{l.current=!1},[]);E.useEffect(()=>{const m=y=>{y.code==="Space"&&!y.repeat&&!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)&&(y.preventDefault(),r(!0))},g=y=>{y.code==="Space"&&(r(!1),l.current=!1)};return window.addEventListener("keydown",m),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)}},[r]),E.useEffect(()=>{const m=a.current;if(m)return m.addEventListener("mousedown",c),window.addEventListener("mousemove",f),window.addEventListener("mouseup",h),()=>{m.removeEventListener("mousedown",c),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h)}},[c,f,h,a])}function qT(){const a=oe(c=>c.roadmap.settings),n=fe(c=>c.zoom),r=fe(c=>c.showMonthColors),l=E.useMemo(()=>_f(a.timelineStartDate,a.timelineEndDate,n),[a.timelineStartDate,a.timelineEndDate,n]),o=E.useMemo(()=>{if(n!=="month")return[];const c=[];let f=null;for(const h of l)h.sublabel&&(!f||f.label!==h.sublabel)?(f&&c.push(f),f={label:h.sublabel,x:h.x,width:h.width}):f&&h.sublabel===f.label&&(f.width+=h.width);return f&&c.push(f),c},[l,n]);return A.jsxs("div",{className:"sticky top-0 z-20 border-b border-gray-200",style:{height:Id},children:[n==="month"&&A.jsx("div",{className:"relative h-5",children:o.map((c,f)=>A.jsx("div",{className:"absolute top-0 text-[10px] text-gray-400 font-medium text-center border-r border-gray-100",style:{left:c.x,width:c.width},children:c.label},f))}),A.jsx("div",{className:"relative",style:{height:n==="month"?30:Id},children:l.map((c,f)=>A.jsx("div",{className:"absolute top-0 bottom-0 flex items-center justify-center text-xs text-gray-500 border-r border-gray-100",style:{left:c.x,width:c.width,backgroundColor:r?Oy[c.month]:void 0},children:c.label},f))})]})}function HT({height:a}){const n=oe(c=>c.roadmap.settings),r=fe(c=>c.zoom),l=fe(c=>c.showMonthColors),o=E.useMemo(()=>_f(n.timelineStartDate,n.timelineEndDate,r),[n.timelineStartDate,n.timelineEndDate,r]);return A.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{height:a},children:o.map((c,f)=>A.jsx("div",{className:"absolute top-0 border-r border-gray-100",style:{left:c.x,width:c.width,height:a,backgroundColor:l?Oy[c.month]:void 0}},f))})}function IT({height:a}){const n=oe(o=>o.roadmap.settings),r=fe(o=>o.zoom),l=E.useMemo(()=>{const o=vt(n.timelineStartDate);return qt(new Date,o,r)},[n.timelineStartDate,r]);return A.jsx("div",{className:"absolute top-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:l,height:a},children:A.jsx("div",{className:"absolute -top-0 -left-1.5 w-3.5 h-3.5 bg-red-500 rounded-full"})})}function bi(a){const n=Ky(a),r=Ei(n,7),l=Math.abs(ko(a,n)),o=Math.abs(ko(a,r));return l<=o?n:r}function qo({side:a,onResizeStart:n,onResize:r,onResizeEnd:l}){const o=E.useRef(0),c=E.useRef(0),f=E.useCallback(h=>{h.stopPropagation(),h.preventDefault(),o.current=h.clientX,c.current=0,n();const m=y=>{const b=y.clientX-o.current;c.current=b,r(b)},g=()=>{l(c.current),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",g)},[n,r,l]);return A.jsx("div",{className:`absolute top-0 bottom-0 w-3 cursor-col-resize z-10 hover:bg-white/30 ${a==="left"?"-left-1":"-right-1"}`,onMouseDown:f})}function $T({item:a,streamId:n,streamColor:r,streamItems:l,originDate:o}){const c=oe(ae=>ae.moveItem),f=oe(ae=>ae.resizeItem),h=fe(ae=>ae.selectItem),m=fe(ae=>ae.openEditPanel),g=fe(ae=>ae.selectedItemId),y=fe(ae=>ae.isPanning),b=fe(ae=>ae.zoom),_=fe(ae=>ae.dependencyMode),w=fe(ae=>ae.dependencySourceItemId),O=fe(ae=>ae.enterDependencyMode),N=fe(ae=>ae.exitDependencyMode),j=oe(ae=>ae.addDependency),[H,D]=E.useState(!1),[U,B]=E.useState(0),[Y,Q]=E.useState(!1),[K,P]=E.useState("right"),[F,me]=E.useState(0),[ce,pe]=E.useState(!1),De=E.useRef(null),Ee=E.useRef(0),J=E.useRef(!1),R=E.useRef(a);R.current=a;const V=E.useRef(n);V.current=n;const W=E.useRef(l);W.current=l;const ge=E.useRef(o);ge.current=o;const be=E.useRef(b);be.current=b;const T=g===a.id,q=E.useMemo(()=>eu(a.startDate,a.endDate,o,b),[a.startDate,a.endDate,o,b]),X=Y&&K==="left"?q.x+F:q.x+(H?U:0),Z=Y?K==="left"?q.width-F:q.width+F:q.width,le=E.useCallback(ae=>{if(y||Y)return;if(_){ae.stopPropagation(),w&&w!==a.id&&(j(w,a.id),N());return}Ee.current=ae.clientX,J.current=!1;const Ye=ae.currentTarget.closest(".timeline-scroll"),yt=Ye?.scrollLeft||0,Fe=We=>{const ct=We.clientX-Ee.current;Math.abs(ct)>3&&(J.current=!0,D(!0),B(ct))},zt=We=>{if(window.removeEventListener("mousemove",Fe),window.removeEventListener("mouseup",zt),J.current){const ct=We.clientX-Ee.current,Wt=(Ye?.scrollLeft||0)-yt,Hn=ct+Wt,ze=R.current,en=ge.current,jt=be.current,It=W.current,tn=V.current,In=vt(ze.startDate),Xa=vt(ze.endDate),mn=pi(qt(In,en,jt)+Hn,en,jt),Qa=bi(mn),Xn=Xa.getTime()-In.getTime(),Et=new Date(Qa.getTime()+Xn),Ut=Bt(Qa),dt=Bt(Et);Co(It,ze.id,Ut,dt)||c(tn,ze.id,Ut,dt)}else h(R.current.id,V.current);D(!1),B(0)};window.addEventListener("mousemove",Fe),window.addEventListener("mouseup",zt)},[y,Y,_,w,a.id,c,h,j,N]),re=E.useCallback(ae=>{ae.stopPropagation(),h(a.id,n),m()},[a.id,n,h,m]),Se=E.useCallback(ae=>{Q(!0),P(ae),me(0)},[]),ke=E.useCallback(ae=>{me(ae)},[]),te=E.useCallback(ae=>{const Ye=R.current,yt=ge.current,Fe=be.current,zt=W.current,We=V.current,ct=vt(Ye.startDate),Wt=vt(Ye.endDate),Hn=ve.current;let ze,en;if(Hn==="left"){const jt=pi(qt(ct,yt,Fe)+ae,yt,Fe);ze=bi(jt),en=Wt}else{ze=ct;const jt=pi(qt(Wt,yt,Fe)+ae,yt,Fe);en=bi(jt)}if(en.getTime()-ze.getTime()>=7*864e5){const jt=Bt(ze),It=Bt(en);Co(zt,Ye.id,jt,It)||f(We,Ye.id,jt,It)}Q(!1),me(0)},[f]),ve=E.useRef("right"),it=E.useCallback(ae=>{ve.current=ae,Se(ae)},[Se]),Xe=()=>{De.current=setTimeout(()=>pe(!0),500)},Nt=()=>{De.current&&clearTimeout(De.current),pe(!1)},$e=ae=>{ae.stopPropagation(),O(a.id)};return A.jsxs("div",{className:`absolute rounded-md shadow-sm cursor-pointer group select-none ${T?"ring-2 ring-blue-500 ring-offset-1":""} ${H?"opacity-80 shadow-md":""} ${_?"cursor-crosshair":""}`,style:{left:X,width:Math.max(Z,20),top:Hd,height:Do,backgroundColor:r,zIndex:H||Y?30:5},onMouseDown:le,onDoubleClick:re,onMouseEnter:Xe,onMouseLeave:Nt,children:[A.jsx("div",{className:"px-2 text-xs text-white font-medium leading-[30px] truncate pointer-events-none",children:a.name}),!y&&!_&&A.jsxs(A.Fragment,{children:[A.jsx(qo,{side:"left",onResizeStart:()=>it("left"),onResize:ke,onResizeEnd:te}),A.jsx(qo,{side:"right",onResizeStart:()=>it("right"),onResize:ke,onResizeEnd:te})]}),!_&&A.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white border-2 border-gray-400 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer hover:border-blue-500 hover:bg-blue-100 z-20",onClick:$e,title:"Create dependency"}),ce&&!H&&!Y&&A.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[A.jsx("div",{className:"font-medium",children:a.name}),A.jsxs("div",{className:"text-gray-300 mt-0.5",children:[Bs(a.startDate),"  ",Bs(a.endDate)]}),A.jsxs("div",{className:"text-gray-300",children:[Xy(a.startDate,a.endDate)," weeks"]}),a.lead&&A.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function GT({subItem:a,parentItemId:n,streamId:r,streamColor:l,originDate:o}){const c=oe(te=>te.moveSubItem),f=oe(te=>te.resizeSubItem),h=fe(te=>te.selectItem),m=fe(te=>te.openEditPanel),g=fe(te=>te.selectedItemId),y=fe(te=>te.isPanning),b=fe(te=>te.zoom),[_,w]=E.useState(!1),[O,N]=E.useState(0),[j,H]=E.useState(!1),[D,U]=E.useState("right"),[B,Y]=E.useState(0),[Q,K]=E.useState(!1),P=E.useRef(null),F=E.useRef(0),me=E.useRef(!1),ce=E.useRef(a);ce.current=a;const pe=E.useRef(o);pe.current=o;const De=E.useRef(b);De.current=b;const Ee=E.useRef(r);Ee.current=r;const J=E.useRef(n);J.current=n;const R=E.useRef("right"),V=g===a.id,W=E.useMemo(()=>eu(a.startDate,a.endDate,o,b),[a.startDate,a.endDate,o,b]),ge=j&&D==="left"?W.x+B:W.x+(_?O:0),be=j?D==="left"?W.width-B:W.width+B:W.width,T=l+"99",q=E.useCallback(te=>{if(y||j)return;F.current=te.clientX,me.current=!1;const ve=te.currentTarget.closest(".timeline-scroll"),it=ve?.scrollLeft||0,Xe=$e=>{const ae=$e.clientX-F.current;Math.abs(ae)>3&&(me.current=!0,w(!0),N(ae))},Nt=$e=>{if(window.removeEventListener("mousemove",Xe),window.removeEventListener("mouseup",Nt),me.current){const ae=$e.clientX-F.current,Ye=(ve?.scrollLeft||0)-it,yt=ae+Ye,Fe=ce.current,zt=pe.current,We=De.current,ct=vt(Fe.startDate),Wt=vt(Fe.endDate),Hn=pi(qt(ct,zt,We)+yt,zt,We),ze=bi(Hn),en=Wt.getTime()-ct.getTime(),jt=new Date(ze.getTime()+en);c(Ee.current,J.current,Fe.id,Bt(ze),Bt(jt))}else h(ce.current.id,Ee.current);w(!1),N(0)};window.addEventListener("mousemove",Xe),window.addEventListener("mouseup",Nt)},[y,j,c,h]),X=E.useCallback(te=>{te.stopPropagation(),h(a.id,r),m()},[a.id,r,h,m]),Z=E.useCallback(te=>{R.current=te,H(!0),U(te),Y(0)},[]),le=E.useCallback(te=>{Y(te)},[]),re=E.useCallback(te=>{const ve=ce.current,it=pe.current,Xe=De.current,Nt=R.current,$e=vt(ve.startDate),ae=vt(ve.endDate);let Ye,yt;if(Nt==="left"){const Fe=pi(qt($e,it,Xe)+te,it,Xe);Ye=bi(Fe),yt=ae}else{Ye=$e;const Fe=pi(qt(ae,it,Xe)+te,it,Xe);yt=bi(Fe)}yt.getTime()-Ye.getTime()>=7*864e5&&f(Ee.current,J.current,ve.id,Bt(Ye),Bt(yt)),H(!1),Y(0)},[f]),Se=()=>{P.current=setTimeout(()=>K(!0),500)},ke=()=>{P.current&&clearTimeout(P.current),K(!1)};return A.jsxs("div",{className:`absolute rounded cursor-pointer group select-none ${V?"ring-2 ring-blue-500 ring-offset-1":""} ${_?"opacity-80 shadow-md":""}`,style:{left:ge,width:Math.max(be,16),top:i_,height:Ry,backgroundColor:T,zIndex:_||j?30:5},onMouseDown:q,onDoubleClick:X,onMouseEnter:Se,onMouseLeave:ke,children:[A.jsx("div",{className:"px-1.5 text-[10px] text-white font-medium leading-[20px] truncate pointer-events-none",children:a.name}),!y&&A.jsxs(A.Fragment,{children:[A.jsx(qo,{side:"left",onResizeStart:()=>Z("left"),onResize:le,onResizeEnd:re}),A.jsx(qo,{side:"right",onResizeStart:()=>Z("right"),onResize:le,onResizeEnd:re})]}),Q&&!_&&!j&&A.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[A.jsx("div",{className:"font-medium",children:a.name}),A.jsxs("div",{className:"text-gray-300 mt-0.5",children:[Bs(a.startDate),"  ",Bs(a.endDate)]}),A.jsxs("div",{className:"text-gray-300",children:[Xy(a.startDate,a.endDate)," weeks"]}),a.lead&&A.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function YT({milestone:a,x:n,streamColor:r,originDate:l,zoom:o}){const c=oe(F=>F.removeMilestone),f=oe(F=>F.moveMilestone),[h,m]=E.useState(!1),[g,y]=E.useState(!1),[b,_]=E.useState(!1),[w,O]=E.useState(0),N=E.useRef(0),j=E.useRef(!1),H=E.useRef(null),D=E.useRef(a);D.current=a;const U=E.useRef(l);U.current=l;const B=E.useRef(o);B.current=o;const Y=18,Q=wi/2;E.useEffect(()=>{if(!g)return;const F=me=>{(me.key==="Delete"||me.key==="Backspace")&&(me.preventDefault(),c(a.id)),me.key==="Escape"&&y(!1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[g,a.id,c]),E.useEffect(()=>{if(!g)return;const F=ce=>{H.current&&!H.current.contains(ce.target)&&y(!1)},me=setTimeout(()=>{window.addEventListener("mousedown",F)},0);return()=>{clearTimeout(me),window.removeEventListener("mousedown",F)}},[g]);const K=E.useCallback(F=>{F.stopPropagation(),N.current=F.clientX,j.current=!1;const me=F.currentTarget.closest(".timeline-scroll"),ce=me?.scrollLeft||0,pe=Ee=>{const J=Ee.clientX-N.current;Math.abs(J)>3&&(j.current=!0,_(!0),O(J))},De=Ee=>{if(window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",De),j.current){const J=Ee.clientX-N.current,R=(me?.scrollLeft||0)-ce,V=J+R,W=D.current,ge=U.current,be=B.current,T=vt(W.date),q=qt(T,ge,be),X=pi(q+V,ge,be),Z=bi(X);f(W.id,Bt(Z))}else y(!0);_(!1),O(0)};window.addEventListener("mousemove",pe),window.addEventListener("mouseup",De)},[f]),P=n+(b?w:0);return A.jsxs("div",{ref:H,className:"absolute",style:{left:P-Y/2,top:0,width:Y+8,height:wi,zIndex:b?30:6,cursor:b?"grabbing":"pointer"},onMouseDown:K,onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1)},children:[A.jsx("div",{className:"absolute",style:{left:Y/2+4,top:4,bottom:4,width:1,backgroundColor:r,opacity:.4,transform:"translateX(-50%)"}}),A.jsx("div",{className:"absolute",style:{left:(Y+8)/2,top:Q,width:Y,height:Y,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:r,border:g?"2px solid #3B82F6":"2px solid white",boxShadow:g?"0 0 0 2px #3B82F6, 0 1px 3px rgba(0,0,0,0.2)":"0 1px 3px rgba(0,0,0,0.2)",opacity:b?.8:1}}),h&&!b&&A.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-auto z-50",children:[A.jsx("div",{className:"font-medium",children:a.name}),A.jsx("div",{className:"text-gray-300 mt-0.5",children:Bs(a.date)}),g&&A.jsx("div",{className:"text-gray-400 mt-1 text-[10px]",children:"Press Delete to remove"})]})]})}function VT({stream:a,originDate:n}){const r=fe(h=>h.zoom),l=oe(h=>h.roadmap.milestones),o=E.useMemo(()=>l.filter(h=>h.streamId===a.id),[l,a.id]),c=E.useMemo(()=>{if(a.items.length===0)return null;let h=a.items[0].startDate,m=a.items[0].endDate;for(const g of a.items)g.startDate<h&&(h=g.startDate),g.endDate>m&&(m=g.endDate);return eu(h,m,n,r)},[a.items,n,r]),f=a.color+"4D";return A.jsxs("div",{children:[A.jsxs("div",{className:"relative border-b border-gray-200",style:{height:wi,backgroundColor:`${a.color}08`,zIndex:2},children:[c&&A.jsx("div",{className:"absolute rounded-sm",style:{left:c.x,width:c.width,top:8,height:wi-16,backgroundColor:f,border:`1px solid ${a.color}33`}}),o.map(h=>A.jsx(YT,{milestone:h,x:qt(vt(h.date),n,r),streamColor:a.color,originDate:n,zoom:r},h.id))]}),!a.collapsed&&a.items.map(h=>A.jsxs("div",{children:[A.jsx("div",{className:"relative border-b border-gray-50",style:{height:Ka},children:A.jsx($T,{item:h,streamId:a.id,streamColor:a.color,streamItems:a.items,originDate:n})}),h.expanded&&h.subItems&&h.subItems.map(m=>A.jsx("div",{className:"relative border-b border-gray-50",style:{height:Si,backgroundColor:`${a.color}06`},children:A.jsx(GT,{subItem:m,parentItemId:h.id,streamId:a.id,streamColor:a.color,originDate:n})},m.id)),h.expanded&&h.subItems&&h.subItems.length>=0&&A.jsx("div",{className:"border-b border-gray-50",style:{height:Si}})]},h.id)),!a.collapsed&&A.jsx("div",{className:"border-b border-gray-50",style:{height:Ka}})]})}function KT(a,n,r,l){const c=l-n,f=r-a,h=40;if(Math.abs(c)<2&&f>0)return`M ${a} ${n} L ${r} ${l}`;const m=c>0?1:-1,g=Math.abs(c);if(f<h){const _=Math.max(a,r)+30,w=r-30,O=n+c/2,N=Math.abs(c)/2,j=Math.min(8,N/2);return[`M ${a} ${n}`,`L ${_-j} ${n}`,`Q ${_} ${n}, ${_} ${n+m*j}`,`L ${_} ${O-m*j}`,`Q ${_} ${O}, ${_-j} ${O}`,`L ${w+j} ${O}`,`Q ${w} ${O}, ${w} ${O+m*j}`,`L ${w} ${l-m*j}`,`Q ${w} ${l}, ${w+j} ${l}`,`L ${r} ${l}`].join(" ")}const y=a+f/2,b=Math.min(8,g/2,Math.abs(y-a),Math.abs(r-y));return[`M ${a} ${n}`,`L ${y-b} ${n}`,`Q ${y} ${n}, ${y} ${n+m*b}`,`L ${y} ${l-m*b}`,`Q ${y} ${l}, ${y+b} ${l}`,`L ${r} ${l}`].join(" ")}function XT({fromX:a,fromY:n,toX:r,toY:l,color:o="#94A3B8"}){const c=KT(a,n,r,l);return A.jsx("g",{children:A.jsx("path",{d:c,fill:"none",stroke:o,strokeWidth:1.5,strokeDasharray:"none",markerEnd:"url(#arrowhead)"})})}function QT({originDate:a,totalHeight:n,timelineWidth:r}){const l=oe(h=>h.roadmap.streams),o=oe(h=>h.roadmap.dependencies),c=fe(h=>h.zoom),f=E.useMemo(()=>{if(o.length===0)return[];const h=gp(l),m=new Map;for(const g of l){const y=h.find(b=>b.streamId===g.id);if(y)for(const b of g.items){const _=y.itemYs.find(O=>O.itemId===b.id);if(!_)continue;const w=eu(b.startDate,b.endDate,a,c);m.set(b.id,{rect:w,y:_.y})}}return o.map(g=>{const y=m.get(g.fromItemId),b=m.get(g.toItemId);return!y||!b?null:{id:g.id,fromX:y.rect.x+y.rect.width,fromY:y.y+Hd+Do/2,toX:b.rect.x,toY:b.y+Hd+Do/2}}).filter(Boolean)},[l,o,a,c]);return f.length===0?null:A.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:r,height:n,zIndex:8},children:[A.jsx("defs",{children:A.jsx("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:A.jsx("polygon",{points:"0 0, 8 3, 0 6",fill:"#94A3B8"})})}),f.map(h=>A.jsx(XT,{fromX:h.fromX,fromY:h.fromY,toX:h.toX,toY:h.toY},h.id))]})}function JT(){const a=oe(O=>O.roadmap.streams),n=oe(O=>O.roadmap.settings),r=oe(O=>O.currentRoadmapId),l=fe(O=>O.zoom),o=fe(O=>O.isPanning),c=fe(O=>O.dependencyMode),f=fe(O=>O.exitDependencyMode),h=E.useRef(null),m=E.useRef(null);BT(h);const g=E.useMemo(()=>_f(n.timelineStartDate,n.timelineEndDate,l),[n.timelineStartDate,n.timelineEndDate,l]),y=E.useMemo(()=>UT(g),[g]),b=E.useMemo(()=>LT(a),[a]),_=E.useMemo(()=>vt(n.timelineStartDate),[n.timelineStartDate]);E.useEffect(()=>{if(!h.current||!r||m.current===r)return;m.current=r;const j=Ei(new Date,l==="week"?-7:-30),H=qt(j,_,l);h.current.scrollLeft=Math.max(0,H)},[r,_,l]),E.useEffect(()=>{if(!h.current||!r)return;const j=Ei(new Date,l==="week"?-7:-30),H=qt(j,_,l);h.current.scrollLeft=Math.max(0,H)},[l,_,r]);const w=()=>{c&&f()};return A.jsx("div",{ref:h,className:`flex-1 overflow-auto timeline-scroll relative ${o?c?"":"cursor-grab-all":""} ${c?"cursor-crosshair":""}`,onClick:w,children:A.jsxs("div",{style:{width:y,minHeight:"100%"},children:[A.jsx(qT,{}),A.jsxs("div",{className:"relative",style:{height:b},children:[A.jsx(HT,{height:b}),A.jsx(IT,{height:b}),A.jsx(QT,{originDate:_,totalHeight:b,timelineWidth:y}),a.map(O=>A.jsx(VT,{stream:O,originDate:_},O.id))]})]})})}function ZT(){const a=fe(D=>D.editPanelOpen),n=fe(D=>D.selectedItemId),r=fe(D=>D.selectedStreamId),l=fe(D=>D.closeEditPanel),o=oe(D=>D.roadmap.streams),c=oe(D=>D.roadmap.dependencies),f=oe(D=>D.updateItem),h=oe(D=>D.removeItem),m=oe(D=>D.updateSubItem),g=oe(D=>D.removeSubItem),y=oe(D=>D.removeDependency),{item:b,parentItemId:_}=E.useMemo(()=>{if(!r||!n)return{item:null,parentItemId:null};const D=o.find(B=>B.id===r);if(!D)return{item:null,parentItemId:null};const U=D.items.find(B=>B.id===n);if(U)return{item:U,parentItemId:null};for(const B of D.items)if(B.subItems){const Y=B.subItems.find(Q=>Q.id===n);if(Y)return{item:Y,parentItemId:B.id}}return{item:null,parentItemId:null}},[o,r,n]),w=E.useMemo(()=>n?c.filter(D=>D.fromItemId===n||D.toItemId===n):[],[c,n]),O=D=>{for(const U of o)for(const B of U.items){if(B.id===D)return B.name;if(B.subItems){const Y=B.subItems.find(Q=>Q.id===D);if(Y)return Y.name}}return"Unknown"},N=_!==null;if(!a||!b||!r)return null;const j=(D,U)=>{N?m(r,_,b.id,{[D]:U}):f(r,b.id,{[D]:U})},H=()=>{window.confirm(`Delete "${b.name}"?`)&&(N?g(r,_,b.id):h(r,b.id),l())};return A.jsxs("div",{className:"fixed right-0 top-0 bottom-0 bg-white border-l border-gray-200 shadow-lg z-40 overflow-y-auto",style:{width:s_},children:[A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[A.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:N?"Edit Sub-task":"Edit Item"}),A.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 text-lg border-none bg-transparent cursor-pointer p-0",children:""})]}),A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),A.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:b.name,onChange:D=>j("name",D.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Lead"}),A.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:b.lead,onChange:D=>j("lead",D.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Support"}),A.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:b.support,onChange:D=>j("support",D.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phase"}),A.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 bg-white",value:b.phase,onChange:D=>j("phase",D.target.value),children:Object.entries(o_).map(([D,U])=>A.jsx("option",{value:D,children:U},D))})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start"}),A.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:b.startDate,onChange:D=>j("startDate",D.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End"}),A.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:b.endDate,onChange:D=>j("endDate",D.target.value)})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Notes"}),A.jsx("textarea",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 min-h-20 resize-y",value:b.notes,onChange:D=>j("notes",D.target.value),rows:3})]}),w.length>0&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Dependencies"}),A.jsx("div",{className:"space-y-1",children:w.map(D=>A.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded px-2 py-1.5",children:[A.jsxs("span",{className:"text-gray-600",children:[D.fromItemId===b.id?" ":" ",O(D.fromItemId===b.id?D.toItemId:D.fromItemId)]}),A.jsx("button",{onClick:()=>y(D.id),className:"text-gray-400 hover:text-red-500 border-none bg-transparent cursor-pointer p-0 text-xs",children:""})]},D.id))})]}),A.jsx("div",{className:"pt-4 border-t border-gray-200",children:A.jsx("button",{onClick:H,className:"w-full text-sm px-3 py-2 bg-red-50 text-red-600 rounded border border-red-200 cursor-pointer hover:bg-red-100",children:"Delete Item"})})]})]})}function PT(){const a=oe(c=>c.fetchRoadmapList),n=oe(c=>c.loadRoadmap),r=oe(c=>c.roadmapList),l=oe(c=>c.currentRoadmapId),o=oe(c=>c.isLoading);E.useEffect(()=>{a()},[a]),E.useEffect(()=>{!l&&r.length>0&&!o&&n(r[0].id)},[r,l,n,o])}function FT(){const a=oe(o=>o.isDirty),n=oe(o=>o.saveRoadmap),r=oe(o=>o.currentRoadmapId),l=E.useRef(null);E.useEffect(()=>{if(!(!a||!r))return l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{n()},l_),()=>{l.current&&clearTimeout(l.current)}},[a,r,n])}function WT(){const a=fe(h=>h.closeEditPanel),n=fe(h=>h.exitDependencyMode),r=fe(h=>h.setZoom),l=fe(h=>h.selectedItemId),o=fe(h=>h.selectedStreamId),c=fe(h=>h.dependencyMode),f=oe(h=>h.removeItem);E.useEffect(()=>{const h=m=>{m.target instanceof HTMLInputElement||m.target instanceof HTMLTextAreaElement||(m.key==="Escape"&&(c?n():a()),(m.key==="Delete"||m.key==="Backspace")&&l&&o&&(m.preventDefault(),window.confirm("Delete this item?")&&(f(o,l),a())),m.key==="1"&&r("week"),m.key==="2"&&r("month"))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[a,n,r,l,o,c,f])}function ex(){PT(),FT(),WT();const a=oe(l=>l.isLoading),n=oe(l=>l.currentRoadmapId),r=oe(l=>l.roadmapList);return A.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[A.jsx(YS,{}),A.jsxs("div",{className:"flex flex-1 overflow-hidden",style:{height:`calc(100vh - ${r_}px)`},children:[A.jsx(kT,{}),A.jsx(JT,{}),A.jsx(ZT,{})]}),a&&A.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:A.jsx("div",{className:"text-gray-500 text-sm",children:"Loading roadmap..."})}),!a&&!n&&r.length===0&&A.jsx(tx,{})]})}function tx(){const a=oe(r=>r.createRoadmap),n=async()=>{await a("My Roadmap")};return A.jsx("div",{className:"fixed inset-0 bg-white/90 flex items-center justify-center z-50",children:A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Roadmaps Yet"}),A.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create your first roadmap to get started."}),A.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 border-none cursor-pointer text-sm",children:"Create Roadmap"})]})})}Ub.createRoot(document.getElementById("root")).render(A.jsx(E.StrictMode,{children:A.jsx(ex,{})}));
