(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Nb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gd={exports:{}},Ss={};var gv;function jb(){if(gv)return Ss;gv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:a,type:l,key:f,ref:o!==void 0?o:null,props:u}}return Ss.Fragment=n,Ss.jsx=i,Ss.jsxs=i,Ss}var vv;function Mb(){return vv||(vv=1,gd.exports=jb()),gd.exports}var x=Mb(),vd={exports:{}},be={};var pv;function kb(){if(pv)return be;pv=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function L(R,H,P){this.props=R,this.context=H,this.refs=j,this.updater=P||A}L.prototype.isReactComponent={},L.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},L.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function q(){}q.prototype=L.prototype;function U(R,H,P){this.props=R,this.context=H,this.refs=j,this.updater=P||A}var O=U.prototype=new q;O.constructor=U,C(O,L.prototype),O.isPureReactComponent=!0;var I=Array.isArray;function G(){}var K={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function Z(R,H,P){var J=P.ref;return{$$typeof:a,type:R,key:H,ref:J!==void 0?J:null,props:P}}function he(R,H){return Z(R.type,H,R.props)}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function ye(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(P){return H[P]})}var Se=/\/+/g;function Ee(R,H){return typeof R=="object"&&R!==null&&R.key!=null?ye(""+R.key):H.toString(36)}function xe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(G,G):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function E(R,H,P,J,le){var ie=typeof R;(ie==="undefined"||ie==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(ie){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case a:case n:_e=!0;break;case p:return _e=R._init,E(_e(R._payload),H,P,J,le)}}if(_e)return le=le(R),_e=J===""?"."+Ee(R,0):J,I(le)?(P="",_e!=null&&(P=_e.replace(Se,"$&/")+"/"),E(le,H,P,"",function(pe){return pe})):le!=null&&(ue(le)&&(le=he(le,P+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(Se,"$&/")+"/")+_e)),H.push(le)),1;_e=0;var Me=J===""?".":J+":";if(I(R))for(var te=0;te<R.length;te++)J=R[te],ie=Me+Ee(J,te),_e+=E(J,H,P,ie,le);else if(te=_(R),typeof te=="function")for(R=te.call(R),te=0;!(J=R.next()).done;)J=J.value,ie=Me+Ee(J,te++),_e+=E(J,H,P,ie,le);else if(ie==="object"){if(typeof R.then=="function")return E(xe(R),H,P,J,le);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return _e}function X(R,H,P){if(R==null)return R;var J=[],le=0;return E(R,J,"","",function(ie){return H.call(P,ie,le++)}),J}function F(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(P){(R._status===0||R._status===-1)&&(R._status=1,R._result=P)},function(P){(R._status===0||R._status===-1)&&(R._status=2,R._result=P)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:X,forEach:function(R,H,P){X(R,function(){H.apply(this,arguments)},P)},count:function(R){var H=0;return X(R,function(){H++}),H},toArray:function(R){return X(R,function(H){return H})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return be.Activity=b,be.Children=ve,be.Component=L,be.Fragment=i,be.Profiler=o,be.PureComponent=U,be.StrictMode=l,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,be.__COMPILER_RUNTIME={__proto__:null,c:function(R){return K.H.useMemoCache(R)}},be.cache=function(R){return function(){return R.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(R,H,P){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=C({},R.props),le=R.key;if(H!=null)for(ie in H.key!==void 0&&(le=""+H.key),H)!Q.call(H,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&H.ref===void 0||(J[ie]=H[ie]);var ie=arguments.length-2;if(ie===1)J.children=P;else if(1<ie){for(var _e=Array(ie),Me=0;Me<ie;Me++)_e[Me]=arguments[Me+2];J.children=_e}return Z(R.type,le,J)},be.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},be.createElement=function(R,H,P){var J,le={},ie=null;if(H!=null)for(J in H.key!==void 0&&(ie=""+H.key),H)Q.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=H[J]);var _e=arguments.length-2;if(_e===1)le.children=P;else if(1<_e){for(var Me=Array(_e),te=0;te<_e;te++)Me[te]=arguments[te+2];le.children=Me}if(R&&R.defaultProps)for(J in _e=R.defaultProps,_e)le[J]===void 0&&(le[J]=_e[J]);return Z(R,ie,le)},be.createRef=function(){return{current:null}},be.forwardRef=function(R){return{$$typeof:h,render:R}},be.isValidElement=ue,be.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:F}},be.memo=function(R,H){return{$$typeof:g,type:R,compare:H===void 0?null:H}},be.startTransition=function(R){var H=K.T,P={};K.T=P;try{var J=R(),le=K.S;le!==null&&le(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(G,ce)}catch(ie){ce(ie)}finally{H!==null&&P.types!==null&&(H.types=P.types),K.T=H}},be.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},be.use=function(R){return K.H.use(R)},be.useActionState=function(R,H,P){return K.H.useActionState(R,H,P)},be.useCallback=function(R,H){return K.H.useCallback(R,H)},be.useContext=function(R){return K.H.useContext(R)},be.useDebugValue=function(){},be.useDeferredValue=function(R,H){return K.H.useDeferredValue(R,H)},be.useEffect=function(R,H){return K.H.useEffect(R,H)},be.useEffectEvent=function(R){return K.H.useEffectEvent(R)},be.useId=function(){return K.H.useId()},be.useImperativeHandle=function(R,H,P){return K.H.useImperativeHandle(R,H,P)},be.useInsertionEffect=function(R,H){return K.H.useInsertionEffect(R,H)},be.useLayoutEffect=function(R,H){return K.H.useLayoutEffect(R,H)},be.useMemo=function(R,H){return K.H.useMemo(R,H)},be.useOptimistic=function(R,H){return K.H.useOptimistic(R,H)},be.useReducer=function(R,H,P){return K.H.useReducer(R,H,P)},be.useRef=function(R){return K.H.useRef(R)},be.useState=function(R){return K.H.useState(R)},be.useSyncExternalStore=function(R,H,P){return K.H.useSyncExternalStore(R,H,P)},be.useTransition=function(){return K.H.useTransition()},be.version="19.2.4",be}var yv;function lf(){return yv||(yv=1,vd.exports=kb()),vd.exports}var S=lf();const Rt=Nb(S);var pd={exports:{}},Es={},yd={exports:{}},bd={};var bv;function zb(){return bv||(bv=1,(function(a){function n(E,X){var F=E.length;E.push(X);e:for(;0<F;){var ce=F-1>>>1,ve=E[ce];if(0<o(ve,X))E[ce]=X,E[F]=ve,F=ce;else break e}}function i(E){return E.length===0?null:E[0]}function l(E){if(E.length===0)return null;var X=E[0],F=E.pop();if(F!==X){E[0]=F;e:for(var ce=0,ve=E.length,R=ve>>>1;ce<R;){var H=2*(ce+1)-1,P=E[H],J=H+1,le=E[J];if(0>o(P,F))J<ve&&0>o(le,P)?(E[ce]=le,E[J]=F,ce=J):(E[ce]=P,E[H]=F,ce=H);else if(J<ve&&0>o(le,F))E[ce]=le,E[J]=F,ce=J;else break e}}return X}function o(E,X){var F=E.sortIndex-X.sortIndex;return F!==0?F:E.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],g=[],p=1,b=null,w=3,_=!1,A=!1,C=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function O(E){for(var X=i(g);X!==null;){if(X.callback===null)l(g);else if(X.startTime<=E)l(g),X.sortIndex=X.expirationTime,n(m,X);else break;X=i(g)}}function I(E){if(C=!1,O(E),!A)if(i(m)!==null)A=!0,G||(G=!0,ye());else{var X=i(g);X!==null&&xe(I,X.startTime-E)}}var G=!1,K=-1,Q=5,Z=-1;function he(){return j?!0:!(a.unstable_now()-Z<Q)}function ue(){if(j=!1,G){var E=a.unstable_now();Z=E;var X=!0;try{e:{A=!1,C&&(C=!1,q(K),K=-1),_=!0;var F=w;try{t:{for(O(E),b=i(m);b!==null&&!(b.expirationTime>E&&he());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,w=b.priorityLevel;var ve=ce(b.expirationTime<=E);if(E=a.unstable_now(),typeof ve=="function"){b.callback=ve,O(E),X=!0;break t}b===i(m)&&l(m),O(E)}else l(m);b=i(m)}if(b!==null)X=!0;else{var R=i(g);R!==null&&xe(I,R.startTime-E),X=!1}}break e}finally{b=null,w=F,_=!1}X=void 0}}finally{X?ye():G=!1}}}var ye;if(typeof U=="function")ye=function(){U(ue)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ee=Se.port2;Se.port1.onmessage=ue,ye=function(){Ee.postMessage(null)}}else ye=function(){L(ue,0)};function xe(E,X){K=L(function(){E(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(E){E.callback=null},a.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<E?Math.floor(1e3/E):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(E){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var F=w;w=X;try{return E()}finally{w=F}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(E,X){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=w;w=E;try{return X()}finally{w=F}},a.unstable_scheduleCallback=function(E,X,F){var ce=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ce+F:ce):F=ce,E){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,E={id:p++,callback:X,priorityLevel:E,startTime:F,expirationTime:ve,sortIndex:-1},F>ce?(E.sortIndex=F,n(g,E),i(m)===null&&E===i(g)&&(C?(q(K),K=-1):C=!0,xe(I,F-ce))):(E.sortIndex=ve,n(m,E),A||_||(A=!0,G||(G=!0,ye()))),E},a.unstable_shouldYield=he,a.unstable_wrapCallback=function(E){var X=w;return function(){var F=w;w=X;try{return E.apply(this,arguments)}finally{w=F}}}})(bd)),bd}var _v;function Ub(){return _v||(_v=1,yd.exports=zb()),yd.exports}var _d={exports:{}},$t={};var wv;function Lb(){if(wv)return $t;wv=1;var a=lf();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:p}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,$t.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,p)},$t.flushSync=function(m){var g=f.T,p=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=p,l.d.f()}},$t.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},$t.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},$t.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):p==="script"&&l.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},$t.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin);l.d.L(m,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},$t.requestFormReset=function(m){l.d.r(m)},$t.unstable_batchedUpdates=function(m,g){return m(g)},$t.useFormState=function(m,g,p){return f.H.useFormState(m,g,p)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var Sv;function _p(){if(Sv)return _d.exports;Sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_d.exports=Lb(),_d.exports}var Ev;function Bb(){if(Ev)return Es;Ev=1;var a=Ub(),n=lf(),i=_p();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,s=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(s=c.return,s!==null){r=s;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return m(c),e;if(d===s)return m(c),t;d=d.sibling}throw Error(l(188))}if(r.return!==s.return)r=c,s=d;else{for(var v=!1,y=c.child;y;){if(y===r){v=!0,r=c,s=d;break}if(y===s){v=!0,s=c,r=d;break}y=y.sibling}if(!v){for(y=d.child;y;){if(y===r){v=!0,r=d,s=c;break}if(y===s){v=!0,s=d,r=c;break}y=y.sibling}if(!v)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case G:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case U:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var xe=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ce=[],ve=-1;function R(e){return{current:e}}function H(e){0>ve||(e.current=ce[ve],ce[ve]=null,ve--)}function P(e,t){ve++,ce[ve]=e.current,e.current=t}var J=R(null),le=R(null),ie=R(null),_e=R(null);function Me(e,t){switch(P(ie,t),P(le,e),P(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bg(t),e=Ig(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(J),P(J,e)}function te(){H(J),H(le),H(ie)}function pe(e){e.memoizedState!==null&&P(_e,e);var t=J.current,r=Ig(t,e.type);t!==r&&(P(le,e),P(J,r))}function at(e){le.current===e&&(H(J),H(le)),_e.current===e&&(H(_e),ys._currentValue=F)}var Xe,de;function Ae(e){if(Xe===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",de=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+e+de}var W=!1;function je(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var z=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){z=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){z=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),v=d[0],y=d[1];if(v&&y){var T=v.split(`
`),k=y.split(`
`);for(c=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(s===T.length||c===k.length)for(s=T.length-1,c=k.length-1;1<=s&&0<=c&&T[s]!==k[c];)c--;for(;1<=s&&0<=c;s--,c--)if(T[s]!==k[c]){if(s!==1||c!==1)do if(s--,c--,0>c||T[s]!==k[c]){var $=`
`+T[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=c);break}}}finally{W=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ae(r):""}function et(e,t){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==t&&t!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return je(e.type,!1);case 11:return je(e.type.render,!1);case 1:return je(e.type,!0);case 31:return Ae("Activity");default:return""}}function qe(e){try{var t="",r=null;do t+=et(e,r),r=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tt=Object.prototype.hasOwnProperty,$e=a.unstable_scheduleCallback,Pe=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Lt=a.unstable_requestPaint,ke=a.unstable_now,Bt=a.unstable_getCurrentPriorityLevel,St=a.unstable_ImmediatePriority,It=a.unstable_UserBlockingPriority,Ht=a.unstable_NormalPriority,vn=a.unstable_LowPriority,Jn=a.unstable_IdlePriority,Gt=a.log,Yn=a.unstable_setDisableYieldValue,Zn=null,Ot=null;function Yt(e){if(typeof Gt=="function"&&Yn(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Zn,e)}catch{}}var pt=Math.clz32?Math.clz32:iu,ru=Math.log,Zs=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(ru(e)/Zs|0)|0}var Tr=256,Ar=262144,lt=4194304;function ot(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Et(e,t,r){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~d,s!==0?c=ot(s):(v&=y,v!==0?c=ot(v):r||(r=y&~e,r!==0&&(c=ot(r))))):(y=s&~d,y!==0?c=ot(y):v!==0?c=ot(v):r||(r=s&~e,r!==0&&(c=ot(r)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:c}function Xt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var e=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),e}function Qt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yt(e,t,r,s,c,d){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var y=e.entanglements,T=e.expirationTimes,k=e.hiddenUpdates;for(r=v&~r;0<r;){var $=31-pt(r),V=1<<$;y[$]=0,T[$]=-1;var z=k[$];if(z!==null)for(k[$]=null,$=0;$<z.length;$++){var B=z[$];B!==null&&(B.lane&=-536870913)}r&=~V}s!==0&&jn(e,s,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function jn(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-pt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|r&261930}function rn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-pt(r),c=1<<s;c&t|e[s]&t&&(e[s]|=t),r&=~c}}function yn(e,t){var r=t&-t;return r=(r&42)!==0?1:Fn(r),(r&(e.suspendedLanes|t))!==0?0:r}function Fn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:ov(e.type))}function Sa(e,t){var r=X.p;try{return X.p=e,t()}finally{X.p=r}}var bn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+bn,Jt="__reactProps$"+bn,Rr="__reactContainer$"+bn,su="__reactEvents$"+bn,_y="__reactListeners$"+bn,wy="__reactHandles$"+bn,Tf="__reactResources$"+bn,Mi="__reactMarker$"+bn;function lu(e){delete e[Ct],delete e[Jt],delete e[su],delete e[_y],delete e[wy]}function Dr(e){var t=e[Ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rr]||r[Ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kg(e);e!==null;){if(r=e[Ct])return r;e=Kg(e)}return t}e=r,r=e.parentNode}return null}function Or(e){if(e=e[Ct]||e[Rr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ki(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Cr(e){var t=e[Tf];return t||(t=e[Tf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[Mi]=!0}var Af=new Set,Rf={};function Za(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Rf[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var Sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},Of={};function Ey(e){return tt.call(Of,e)?!0:tt.call(Df,e)?!1:Sy.test(e)?Of[e]=!0:(Df[e]=!0,!1)}function Fs(e,t,r){if(Ey(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ws(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function ea(e,t,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+s)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xy(e,t,r){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){if(!e._valueTracker){var t=Cf(e)?"checked":"value";e._valueTracker=xy(e,t,""+e[t])}}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Cf(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ty=/[\n"\\]/g;function wn(e){return e.replace(Ty,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uu(e,t,r,s,c,d,v,y){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?cu(e,v,_n(t)):r!=null?cu(e,v,_n(r)):s!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+_n(y):e.removeAttribute("name")}function jf(e,t,r,s,c,d,v,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ou(e);return}r=r!=null?""+_n(r):"",t=t!=null?""+_n(t):r,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ou(e)}function cu(e,t,r){t==="number"&&el(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jr(e,t,r,s){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&s&&(e[r].defaultSelected=!0)}else{for(r=""+_n(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Mf(e,t,r){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+_n(r):""}function kf(e,t,r,s){if(t==null){if(s!=null){if(r!=null)throw Error(l(92));if(xe(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}r==null&&(r=""),t=r}r=_n(t),e.defaultValue=r,s=e.textContent,s===r&&s!==""&&s!==null&&(e.value=s),ou(e)}function Mr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ay=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zf(e,t,r){var s=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,r):typeof r!="number"||r===0||Ay.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Uf(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&r[c]!==s&&zf(e,c,s)}else for(var d in t)t.hasOwnProperty(d)&&zf(e,d,t[d])}function du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(e){return Dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var fu=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kr=null,zr=null;function Lf(e){var t=Or(e);if(t&&(e=t.stateNode)){var r=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(uu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var c=s[Jt]||null;if(!c)throw Error(l(90));uu(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)s=r[t],s.form===e.form&&Nf(s)}break e;case"textarea":Mf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&jr(e,!!r.multiple,t,!1)}}}var mu=!1;function Bf(e,t,r){if(mu)return e(t,r);mu=!0;try{var s=e(t);return s}finally{if(mu=!1,(kr!==null||zr!==null)&&($l(),kr&&(t=kr,e=zr,zr=kr=null,Lf(t),e)))for(t=0;t<e.length;t++)Lf(e[t])}}function zi(e,t){var r=e.stateNode;if(r===null)return null;var s=r[Jt]||null;if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=!1;if(na)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{gu=!1}var Ea=null,vu=null,nl=null;function If(){if(nl)return nl;var e,t=vu,r=t.length,s,c="value"in Ea?Ea.value:Ea.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var v=r-e;for(s=1;s<=v&&t[r-s]===c[d-s];s++);return nl=c.slice(e,1<s?1-s:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function Hf(){return!1}function Zt(e){function t(r,s,c,d,v){this._reactName=r,this._targetInst=c,this.type=s,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rl:Hf,this.isPropagationStopped=Hf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Zt(Fa),Li=b({},Fa,{view:0,detail:0}),Oy=Zt(Li),pu,yu,Bi,sl=b({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(pu=e.screenX-Bi.screenX,yu=e.screenY-Bi.screenY):yu=pu=0,Bi=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),qf=Zt(sl),Cy=b({},sl,{dataTransfer:0}),Ny=Zt(Cy),jy=b({},Li,{relatedTarget:0}),bu=Zt(jy),My=b({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),ky=Zt(My),zy=b({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uy=Zt(zy),Ly=b({},Fa,{data:0}),$f=Zt(Ly),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hy[e])?!!t[e]:!1}function _u(){return qy}var $y=b({},Li,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gy=Zt($y),Yy=b({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Zt(Yy),Vy=b({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Ky=Zt(Vy),Xy=b({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Py=Zt(Xy),Qy=b({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=Zt(Qy),Zy=b({},Fa,{newState:0,oldState:0}),Fy=Zt(Zy),Wy=[9,13,27,32],wu=na&&"CompositionEvent"in window,Ii=null;na&&"documentMode"in document&&(Ii=document.documentMode);var e0=na&&"TextEvent"in window&&!Ii,Yf=na&&(!wu||Ii&&8<Ii&&11>=Ii),Vf=" ",Kf=!1;function Xf(e,t){switch(e){case"keyup":return Wy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function t0(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(Kf=!0,Vf);case"textInput":return e=t.data,e===Vf&&Kf?null:e;default:return null}}function n0(e,t){if(Ur)return e==="compositionend"||!wu&&Xf(e,t)?(e=If(),nl=vu=Ea=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yf&&t.locale!=="ko"?null:t.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a0[e.type]:t==="textarea"}function Jf(e,t,r,s){kr?zr?zr.push(s):zr=[s]:kr=s,t=Ql(t,"onChange"),0<t.length&&(r=new il("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Hi=null,qi=null;function r0(e){jg(e,0)}function ll(e){var t=ki(e);if(Nf(t))return e}function Zf(e,t){if(e==="change")return t}var Ff=!1;if(na){var Su;if(na){var Eu="oninput"in document;if(!Eu){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Eu=typeof Wf.oninput=="function"}Su=Eu}else Su=!1;Ff=Su&&(!document.documentMode||9<document.documentMode)}function eh(){Hi&&(Hi.detachEvent("onpropertychange",th),qi=Hi=null)}function th(e){if(e.propertyName==="value"&&ll(qi)){var t=[];Jf(t,qi,e,hu(e)),Bf(r0,t)}}function i0(e,t,r){e==="focusin"?(eh(),Hi=t,qi=r,Hi.attachEvent("onpropertychange",th)):e==="focusout"&&eh()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(qi)}function l0(e,t){if(e==="click")return ll(t)}function o0(e,t){if(e==="input"||e==="change")return ll(t)}function u0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:u0;function $i(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var c=r[s];if(!tt.call(t,c)||!sn(e[c],t[c]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var r=nh(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nh(r)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=el(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=el(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c0=na&&"documentMode"in document&&11>=document.documentMode,Lr=null,Tu=null,Gi=null,Au=!1;function sh(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||Lr==null||Lr!==el(s)||(s=Lr,"selectionStart"in s&&xu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gi&&$i(Gi,s)||(Gi=s,s=Ql(Tu,"onSelect"),0<s.length&&(t=new il("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Lr)))}function Wa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Br={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Ru={},lh={};na&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function er(e){if(Ru[e])return Ru[e];if(!Br[e])return e;var t=Br[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lh)return Ru[e]=t[r];return e}var oh=er("animationend"),uh=er("animationiteration"),ch=er("animationstart"),d0=er("transitionrun"),f0=er("transitionstart"),h0=er("transitioncancel"),dh=er("transitionend"),fh=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function kn(e,t){fh.set(e,t),Za(t,[e])}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Ir=0,Ou=0;function ul(){for(var e=Ir,t=Ou=Ir=0;t<e;){var r=Sn[t];Sn[t++]=null;var s=Sn[t];Sn[t++]=null;var c=Sn[t];Sn[t++]=null;var d=Sn[t];if(Sn[t++]=null,s!==null&&c!==null){var v=s.pending;v===null?c.next=c:(c.next=v.next,v.next=c),s.pending=c}d!==0&&hh(r,c,d)}}function cl(e,t,r,s){Sn[Ir++]=e,Sn[Ir++]=t,Sn[Ir++]=r,Sn[Ir++]=s,Ou|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cu(e,t,r,s){return cl(e,t,r,s),dl(e)}function tr(e,t){return cl(e,null,null,t),dl(e)}function hh(e,t,r){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,s=d.alternate,s!==null&&(s.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-pt(r),e=d.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=r|536870912),d):null}function dl(e){if(50<ds)throw ds=0,Ic=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hr={};function m0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,r,s){return new m0(e,t,r,s)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var r=e.alternate;return r===null?(r=ln(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function mh(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,r,s,c,d){var v=0;if(s=e,typeof e=="function")Nu(e)&&(v=1);else if(typeof e=="string")v=bb(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=ln(31,r,t,c),e.elementType=Z,e.lanes=d,e;case C:return nr(r.children,c,d,t);case j:v=8,c|=24;break;case L:return e=ln(12,r,t,c|2),e.elementType=L,e.lanes=d,e;case I:return e=ln(13,r,t,c),e.elementType=I,e.lanes=d,e;case G:return e=ln(19,r,t,c),e.elementType=G,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:v=10;break e;case q:v=9;break e;case O:v=11;break e;case K:v=14;break e;case Q:v=16,s=null;break e}v=29,r=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=ln(v,r,t,c),t.elementType=e,t.type=s,t.lanes=d,t}function nr(e,t,r,s){return e=ln(7,e,s,t),e.lanes=r,e}function ju(e,t,r){return e=ln(6,e,null,t),e.lanes=r,e}function gh(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function Mu(e,t,r){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vh=new WeakMap;function En(e,t){if(typeof e=="object"&&e!==null){var r=vh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:qe(t)},vh.set(e,t),t)}return{value:e,source:t,stack:qe(t)}}var qr=[],$r=0,hl=null,Yi=0,xn=[],Tn=0,xa=null,Vn=1,Kn="";function ra(e,t){qr[$r++]=Yi,qr[$r++]=hl,hl=e,Yi=t}function ph(e,t,r){xn[Tn++]=Vn,xn[Tn++]=Kn,xn[Tn++]=xa,xa=e;var s=Vn;e=Kn;var c=32-pt(s)-1;s&=~(1<<c),r+=1;var d=32-pt(t)+c;if(30<d){var v=c-c%5;d=(s&(1<<v)-1).toString(32),s>>=v,c-=v,Vn=1<<32-pt(t)+c|r<<c|s,Kn=d+e}else Vn=1<<d|r<<c|s,Kn=e}function ku(e){e.return!==null&&(ra(e,1),ph(e,1,0))}function zu(e){for(;e===hl;)hl=qr[--$r],qr[$r]=null,Yi=qr[--$r],qr[$r]=null;for(;e===xa;)xa=xn[--Tn],xn[Tn]=null,Kn=xn[--Tn],xn[Tn]=null,Vn=xn[--Tn],xn[Tn]=null}function yh(e,t){xn[Tn++]=Vn,xn[Tn++]=Kn,xn[Tn++]=xa,Vn=t.id,Kn=t.overflow,xa=e}var Nt=null,Ze=null,Ne=!1,Ta=null,An=!1,Uu=Error(l(519));function Aa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vi(En(t,e)),Uu}function bh(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[Ct]=e,t[Jt]=s,r){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(r=0;r<hs.length;r++)De(hs[r],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),jf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),kf(t,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||s.suppressHydrationWarning===!0||Ug(t.textContent,r)?(s.popover!=null&&(De("beforetoggle",t),De("toggle",t)),s.onScroll!=null&&De("scroll",t),s.onScrollEnd!=null&&De("scrollend",t),s.onClick!=null&&(t.onclick=ta),t=!0):t=!1,t||Aa(e,!0)}function _h(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:Nt=Nt.return}}function Gr(e){if(e!==Nt)return!1;if(!Ne)return _h(e),Ne=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ed(e.type,e.memoizedProps)),r=!r),r&&Ze&&Aa(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ze=Vg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ze=Vg(e)}else t===27?(t=Ze,Ha(e.type)?(e=id,id=null,Ze=e):Ze=t):Ze=Nt?Dn(e.stateNode.nextSibling):null;return!0}function ar(){Ze=Nt=null,Ne=!1}function Lu(){var e=Ta;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Ta=null),e}function Vi(e){Ta===null?Ta=[e]:Ta.push(e)}var Bu=R(null),rr=null,ia=null;function Ra(e,t,r){P(Bu,t._currentValue),t._currentValue=r}function sa(e){e._currentValue=Bu.current,H(Bu)}function Iu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Hu(e,t,r,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var v=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var T=0;T<t.length;T++)if(y.context===t[T]){d.lanes|=r,y=d.alternate,y!==null&&(y.lanes|=r),Iu(d.return,r,e),s||(v=null);break e}d=y.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(l(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),Iu(v,r,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Yr(e,t,r,s){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var y=c.type;sn(c.pendingProps.value,v.value)||(e!==null?e.push(y):e=[y])}}else if(c===_e.current){if(v=c.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ys):e=[ys])}c=c.return}e!==null&&Hu(t,e,r,s),t.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ir(e){rr=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return wh(rr,e)}function gl(e,t){return rr===null&&ir(e),wh(e,t)}function wh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},ia===null){if(e===null)throw Error(l(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return r}var g0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},v0=a.unstable_scheduleCallback,p0=a.unstable_NormalPriority,ft={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new g0,data:new Map,refCount:0}}function Ki(e){e.refCount--,e.refCount===0&&v0(p0,function(){e.controller.abort()})}var Xi=null,$u=0,Vr=0,Kr=null;function y0(e,t){if(Xi===null){var r=Xi=[];$u=0,Vr=Vc(),Kr={status:"pending",value:void 0,then:function(s){r.push(s)}}}return $u++,t.then(Sh,Sh),t}function Sh(){if(--$u===0&&Xi!==null){Kr!==null&&(Kr.status="fulfilled");var e=Xi;Xi=null,Vr=0,Kr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function b0(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),s}var Eh=E.S;E.S=function(e,t){sg=ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&y0(e,t),Eh!==null&&Eh(e,t)};var sr=R(null);function Gu(){var e=sr.current;return e!==null?e:Ke.pooledCache}function vl(e,t){t===null?P(sr,sr.current):P(sr,t.pool)}function xh(){var e=Gu();return e===null?null:{parent:ft._currentValue,pool:e}}var Xr=Error(l(460)),Yu=Error(l(474)),pl=Error(l(542)),yl={then:function(){}};function Th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ah(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ta,ta),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e;default:if(typeof t.status=="string")t.then(ta,ta);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dh(e),e}throw or=t,Xr}}function lr(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(or=r,Xr):r}}var or=null;function Rh(){if(or===null)throw Error(l(459));var e=or;return or=null,e}function Dh(e){if(e===Xr||e===pl)throw Error(l(483))}var Pr=null,Pi=0;function bl(e){var t=Pi;return Pi+=1,Pr===null&&(Pr=[]),Ah(Pr,e,t)}function Qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oh(e){function t(N,D){if(e){var M=N.deletions;M===null?(N.deletions=[D],N.flags|=16):M.push(D)}}function r(N,D){if(!e)return null;for(;D!==null;)t(N,D),D=D.sibling;return null}function s(N){for(var D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function c(N,D){return N=aa(N,D),N.index=0,N.sibling=null,N}function d(N,D,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<D?(N.flags|=67108866,D):M):(N.flags|=67108866,D)):(N.flags|=1048576,D)}function v(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,D,M,Y){return D===null||D.tag!==6?(D=ju(M,N.mode,Y),D.return=N,D):(D=c(D,M),D.return=N,D)}function T(N,D,M,Y){var oe=M.type;return oe===C?$(N,D,M.props.children,Y,M.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&lr(oe)===D.type)?(D=c(D,M.props),Qi(D,M),D.return=N,D):(D=fl(M.type,M.key,M.props,null,N.mode,Y),Qi(D,M),D.return=N,D)}function k(N,D,M,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Mu(M,N.mode,Y),D.return=N,D):(D=c(D,M.children||[]),D.return=N,D)}function $(N,D,M,Y,oe){return D===null||D.tag!==7?(D=nr(M,N.mode,Y,oe),D.return=N,D):(D=c(D,M),D.return=N,D)}function V(N,D,M){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ju(""+D,N.mode,M),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return M=fl(D.type,D.key,D.props,null,N.mode,M),Qi(M,D),M.return=N,M;case A:return D=Mu(D,N.mode,M),D.return=N,D;case Q:return D=lr(D),V(N,D,M)}if(xe(D)||ye(D))return D=nr(D,N.mode,M,null),D.return=N,D;if(typeof D.then=="function")return V(N,bl(D),M);if(D.$$typeof===U)return V(N,gl(N,D),M);_l(N,D)}return null}function z(N,D,M,Y){var oe=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return oe!==null?null:y(N,D,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===oe?T(N,D,M,Y):null;case A:return M.key===oe?k(N,D,M,Y):null;case Q:return M=lr(M),z(N,D,M,Y)}if(xe(M)||ye(M))return oe!==null?null:$(N,D,M,Y,null);if(typeof M.then=="function")return z(N,D,bl(M),Y);if(M.$$typeof===U)return z(N,D,gl(N,M),Y);_l(N,M)}return null}function B(N,D,M,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return N=N.get(M)||null,y(D,N,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return N=N.get(Y.key===null?M:Y.key)||null,T(D,N,Y,oe);case A:return N=N.get(Y.key===null?M:Y.key)||null,k(D,N,Y,oe);case Q:return Y=lr(Y),B(N,D,M,Y,oe)}if(xe(Y)||ye(Y))return N=N.get(M)||null,$(D,N,Y,oe,null);if(typeof Y.then=="function")return B(N,D,M,bl(Y),oe);if(Y.$$typeof===U)return B(N,D,M,gl(D,Y),oe);_l(D,Y)}return null}function ee(N,D,M,Y){for(var oe=null,ze=null,ne=D,Te=D=0,Ce=null;ne!==null&&Te<M.length;Te++){ne.index>Te?(Ce=ne,ne=null):Ce=ne.sibling;var Ue=z(N,ne,M[Te],Y);if(Ue===null){ne===null&&(ne=Ce);break}e&&ne&&Ue.alternate===null&&t(N,ne),D=d(Ue,D,Te),ze===null?oe=Ue:ze.sibling=Ue,ze=Ue,ne=Ce}if(Te===M.length)return r(N,ne),Ne&&ra(N,Te),oe;if(ne===null){for(;Te<M.length;Te++)ne=V(N,M[Te],Y),ne!==null&&(D=d(ne,D,Te),ze===null?oe=ne:ze.sibling=ne,ze=ne);return Ne&&ra(N,Te),oe}for(ne=s(ne);Te<M.length;Te++)Ce=B(ne,N,Te,M[Te],Y),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?Te:Ce.key),D=d(Ce,D,Te),ze===null?oe=Ce:ze.sibling=Ce,ze=Ce);return e&&ne.forEach(function(Va){return t(N,Va)}),Ne&&ra(N,Te),oe}function fe(N,D,M,Y){if(M==null)throw Error(l(151));for(var oe=null,ze=null,ne=D,Te=D=0,Ce=null,Ue=M.next();ne!==null&&!Ue.done;Te++,Ue=M.next()){ne.index>Te?(Ce=ne,ne=null):Ce=ne.sibling;var Va=z(N,ne,Ue.value,Y);if(Va===null){ne===null&&(ne=Ce);break}e&&ne&&Va.alternate===null&&t(N,ne),D=d(Va,D,Te),ze===null?oe=Va:ze.sibling=Va,ze=Va,ne=Ce}if(Ue.done)return r(N,ne),Ne&&ra(N,Te),oe;if(ne===null){for(;!Ue.done;Te++,Ue=M.next())Ue=V(N,Ue.value,Y),Ue!==null&&(D=d(Ue,D,Te),ze===null?oe=Ue:ze.sibling=Ue,ze=Ue);return Ne&&ra(N,Te),oe}for(ne=s(ne);!Ue.done;Te++,Ue=M.next())Ue=B(ne,N,Te,Ue.value,Y),Ue!==null&&(e&&Ue.alternate!==null&&ne.delete(Ue.key===null?Te:Ue.key),D=d(Ue,D,Te),ze===null?oe=Ue:ze.sibling=Ue,ze=Ue);return e&&ne.forEach(function(Cb){return t(N,Cb)}),Ne&&ra(N,Te),oe}function Ve(N,D,M,Y){if(typeof M=="object"&&M!==null&&M.type===C&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var oe=M.key;D!==null;){if(D.key===oe){if(oe=M.type,oe===C){if(D.tag===7){r(N,D.sibling),Y=c(D,M.props.children),Y.return=N,N=Y;break e}}else if(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&lr(oe)===D.type){r(N,D.sibling),Y=c(D,M.props),Qi(Y,M),Y.return=N,N=Y;break e}r(N,D);break}else t(N,D);D=D.sibling}M.type===C?(Y=nr(M.props.children,N.mode,Y,M.key),Y.return=N,N=Y):(Y=fl(M.type,M.key,M.props,null,N.mode,Y),Qi(Y,M),Y.return=N,N=Y)}return v(N);case A:e:{for(oe=M.key;D!==null;){if(D.key===oe)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){r(N,D.sibling),Y=c(D,M.children||[]),Y.return=N,N=Y;break e}else{r(N,D);break}else t(N,D);D=D.sibling}Y=Mu(M,N.mode,Y),Y.return=N,N=Y}return v(N);case Q:return M=lr(M),Ve(N,D,M,Y)}if(xe(M))return ee(N,D,M,Y);if(ye(M)){if(oe=ye(M),typeof oe!="function")throw Error(l(150));return M=oe.call(M),fe(N,D,M,Y)}if(typeof M.then=="function")return Ve(N,D,bl(M),Y);if(M.$$typeof===U)return Ve(N,D,gl(N,M),Y);_l(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,D!==null&&D.tag===6?(r(N,D.sibling),Y=c(D,M),Y.return=N,N=Y):(r(N,D),Y=ju(M,N.mode,Y),Y.return=N,N=Y),v(N)):r(N,D)}return function(N,D,M,Y){try{Pi=0;var oe=Ve(N,D,M,Y);return Pr=null,oe}catch(ne){if(ne===Xr||ne===pl)throw ne;var ze=ln(29,ne,null,N.mode);return ze.lanes=Y,ze.return=N,ze}}}var ur=Oh(!0),Ch=Oh(!1),Da=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=dl(e),hh(e,null,r),t}return cl(e,s,t,r),dl(e)}function Ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,rn(e,r)}}function Xu(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Pu=!1;function Zi(){if(Pu){var e=Kr;if(e!==null)throw e}}function Fi(e,t,r,s){Pu=!1;var c=e.updateQueue;Da=!1;var d=c.firstBaseUpdate,v=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var T=y,k=T.next;T.next=null,v===null?d=k:v.next=k,v=T;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==v&&(y===null?$.firstBaseUpdate=k:y.next=k,$.lastBaseUpdate=T))}if(d!==null){var V=c.baseState;v=0,$=k=T=null,y=d;do{var z=y.lane&-536870913,B=z!==y.lane;if(B?(Oe&z)===z:(s&z)===z){z!==0&&z===Vr&&(Pu=!0),$!==null&&($=$.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ee=e,fe=y;z=t;var Ve=r;switch(fe.tag){case 1:if(ee=fe.payload,typeof ee=="function"){V=ee.call(Ve,V,z);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=fe.payload,z=typeof ee=="function"?ee.call(Ve,V,z):ee,z==null)break e;V=b({},V,z);break e;case 2:Da=!0}}z=y.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(k=$=B,T=V):$=$.next=B,v|=z;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;B=y,y=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);$===null&&(T=V),c.baseState=T,c.firstBaseUpdate=k,c.lastBaseUpdate=$,d===null&&(c.shared.lanes=0),za|=v,e.lanes=v,e.memoizedState=V}}function Nh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function jh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Nh(r[e],t)}var Qr=R(null),wl=R(0);function Mh(e,t){e=ga,P(wl,e),P(Qr,t),ga=e|t.baseLanes}function Qu(){P(wl,ga),P(Qr,Qr.current)}function Ju(){ga=wl.current,H(Qr),H(wl)}var on=R(null),Rn=null;function Na(e){var t=e.alternate;P(ut,ut.current&1),P(on,e),Rn===null&&(t===null||Qr.current!==null||t.memoizedState!==null)&&(Rn=e)}function Zu(e){P(ut,ut.current),P(on,e),Rn===null&&(Rn=e)}function kh(e){e.tag===22?(P(ut,ut.current),P(on,e),Rn===null&&(Rn=e)):ja()}function ja(){P(ut,ut.current),P(on,on.current)}function un(e){H(on),Rn===e&&(Rn=null),H(ut)}var ut=R(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ad(r)||rd(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=0,we=null,Ge=null,ht=null,El=!1,Jr=!1,cr=!1,xl=0,Wi=0,Zr=null,_0=0;function rt(){throw Error(l(321))}function Fu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function Wu(e,t,r,s,c,d){return la=d,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?pm:mc,cr=!1,d=r(s,c),cr=!1,Jr&&(d=Uh(t,r,s,c)),zh(e),d}function zh(e){E.H=ns;var t=Ge!==null&&Ge.next!==null;if(la=0,ht=Ge=we=null,El=!1,Wi=0,Zr=null,t)throw Error(l(300));e===null||mt||(e=e.dependencies,e!==null&&ml(e)&&(mt=!0))}function Uh(e,t,r,s){we=e;var c=0;do{if(Jr&&(Zr=null),Wi=0,Jr=!1,25<=c)throw Error(l(301));if(c+=1,ht=Ge=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}E.H=ym,d=t(r,s)}while(Jr);return d}function w0(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?es(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(we.flags|=1024),t}function ec(){var e=xl!==0;return xl=0,e}function tc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function nc(e){if(El){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}El=!1}la=0,ht=Ge=we=null,Jr=!1,Wi=xl=0,Zr=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=e:ht=ht.next=e,ht}function ct(){if(Ge===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=ht===null?we.memoizedState:ht.next;if(t!==null)ht=t,Ge=e;else{if(e===null)throw we.alternate===null?Error(l(467)):Error(l(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},ht===null?we.memoizedState=ht=e:ht=ht.next=e}return ht}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(e){var t=Wi;return Wi+=1,Zr===null&&(Zr=[]),e=Ah(Zr,e,t),t=we,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?pm:mc),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return es(e);if(e.$$typeof===U)return jt(e)}throw Error(l(438,String(e)))}function ac(e){var t=null,r=we.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Tl(),we.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=he;return t.index++,r}function oa(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=ct();return rc(t,Ge,e)}function rc(e,t,r){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=r;var c=e.baseQueue,d=s.pending;if(d!==null){if(c!==null){var v=c.next;c.next=d.next,d.next=v}t.baseQueue=c=d,s.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=v=null,T=null,k=t,$=!1;do{var V=k.lane&-536870913;if(V!==k.lane?(Oe&V)===V:(la&V)===V){var z=k.revertLane;if(z===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),V===Vr&&($=!0);else if((la&z)===z){k=k.next,z===Vr&&($=!0);continue}else V={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(y=T=V,v=d):T=T.next=V,we.lanes|=z,za|=z;V=k.action,cr&&r(d,V),d=k.hasEagerState?k.eagerState:r(d,V)}else z={lane:V,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(y=T=z,v=d):T=T.next=z,we.lanes|=V,za|=V;k=k.next}while(k!==null&&k!==t);if(T===null?v=d:T.next=y,!sn(d,e.memoizedState)&&(mt=!0,$&&(r=Kr,r!==null)))throw r;e.memoizedState=d,e.baseState=v,e.baseQueue=T,s.lastRenderedState=d}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ic(e){var t=ct(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var s=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do d=e(d,v.action),v=v.next;while(v!==c);sn(d,t.memoizedState)||(mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function Lh(e,t,r){var s=we,c=ct(),d=Ne;if(d){if(r===void 0)throw Error(l(407));r=r()}else r=t();var v=!sn((Ge||c).memoizedState,r);if(v&&(c.memoizedState=r,mt=!0),c=c.queue,oc(Hh.bind(null,s,c,e),[e]),c.getSnapshot!==t||v||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,Fr(9,{destroy:void 0},Ih.bind(null,s,c,r,t),null),Ke===null)throw Error(l(349));d||(la&127)!==0||Bh(s,t,r)}return r}function Bh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t=Tl(),we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,s){t.value=r,t.getSnapshot=s,qh(t)&&$h(e)}function Hh(e,t,r){return r(function(){qh(t)&&$h(e)})}function qh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch{return!0}}function $h(e){var t=tr(e,2);t!==null&&nn(t,e,2)}function sc(e){var t=Vt();if(typeof e=="function"){var r=e;if(e=r(),cr){Yt(!0);try{r()}finally{Yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Gh(e,t,r,s){return e.baseState=r,rc(e,Ge,typeof s=="function"?s:oa)}function S0(e,t,r,s,c){if(Cl(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};E.T!==null?r(!0):d.isTransition=!1,s(d),r=t.pending,r===null?(d.next=t.pending=d,Yh(t,d)):(d.next=r.next,t.pending=r.next=d)}}function Yh(e,t){var r=t.action,s=t.payload,c=e.state;if(t.isTransition){var d=E.T,v={};E.T=v;try{var y=r(c,s),T=E.S;T!==null&&T(v,y),Vh(e,t,y)}catch(k){lc(e,t,k)}finally{d!==null&&v.types!==null&&(d.types=v.types),E.T=d}}else try{d=r(c,s),Vh(e,t,d)}catch(k){lc(e,t,k)}}function Vh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){Kh(e,t,s)},function(s){return lc(e,t,s)}):Kh(e,t,r)}function Kh(e,t,r){t.status="fulfilled",t.value=r,Xh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Yh(e,r)))}function lc(e,t,r){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=r,Xh(t),t=t.next;while(t!==s)}e.action=null}function Xh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ph(e,t){return t}function Qh(e,t){if(Ne){var r=Ke.formState;if(r!==null){e:{var s=we;if(Ne){if(Ze){t:{for(var c=Ze,d=An;c.nodeType!==8;){if(!d){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ze=Dn(c.nextSibling),s=c.data==="F!";break e}}Aa(s)}s=!1}s&&(t=r[0])}}return r=Vt(),r.memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},r.queue=s,r=mm.bind(null,we,s),s.dispatch=r,s=sc(!1),d=hc.bind(null,we,!1,s.queue),s=Vt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,r=S0.bind(null,we,c,d,r),c.dispatch=r,s.memoizedState=e,[t,r,!1]}function Jh(e){var t=ct();return Zh(t,Ge,e)}function Zh(e,t,r){if(t=rc(e,t,Ph)[0],e=Rl(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=es(t)}catch(v){throw v===Xr?pl:v}else s=t;t=ct();var c=t.queue,d=c.dispatch;return r!==t.memoizedState&&(we.flags|=2048,Fr(9,{destroy:void 0},E0.bind(null,c,r),null)),[s,d,e]}function E0(e,t){e.action=t}function Fh(e){var t=ct(),r=Ge;if(r!==null)return Zh(t,r,e);ct(),t=t.memoizedState,r=ct();var s=r.queue.dispatch;return r.memoizedState=e,[t,s,!1]}function Fr(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},t=we.updateQueue,t===null&&(t=Tl(),we.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function Wh(){return ct().memoizedState}function Dl(e,t,r,s){var c=Vt();we.flags|=e,c.memoizedState=Fr(1|t,{destroy:void 0},r,s===void 0?null:s)}function Ol(e,t,r,s){var c=ct();s=s===void 0?null:s;var d=c.memoizedState.inst;Ge!==null&&s!==null&&Fu(s,Ge.memoizedState.deps)?c.memoizedState=Fr(t,d,r,s):(we.flags|=e,c.memoizedState=Fr(1|t,d,r,s))}function em(e,t){Dl(8390656,8,e,t)}function oc(e,t){Ol(2048,8,e,t)}function x0(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=Tl(),we.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function tm(e){var t=ct().memoizedState;return x0({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function nm(e,t){return Ol(4,2,e,t)}function am(e,t){return Ol(4,4,e,t)}function rm(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,r){r=r!=null?r.concat([e]):null,Ol(4,4,rm.bind(null,t,e),r)}function uc(){}function sm(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;return t!==null&&Fu(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function lm(e,t){var r=ct();t=t===void 0?null:t;var s=r.memoizedState;if(t!==null&&Fu(t,s[1]))return s[0];if(s=e(),cr){Yt(!0);try{e()}finally{Yt(!1)}}return r.memoizedState=[s,t],s}function cc(e,t,r){return r===void 0||(la&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=og(),we.lanes|=e,za|=e,r)}function om(e,t,r,s){return sn(r,t)?r:Qr.current!==null?(e=cc(e,r,s),sn(e,t)||(mt=!0),e):(la&42)===0||(la&1073741824)!==0&&(Oe&261930)===0?(mt=!0,e.memoizedState=r):(e=og(),we.lanes|=e,za|=e,t)}function um(e,t,r,s,c){var d=X.p;X.p=d!==0&&8>d?d:8;var v=E.T,y={};E.T=y,hc(e,!1,t,r);try{var T=c(),k=E.S;if(k!==null&&k(y,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var $=b0(T,s);ts(e,t,$,fn(e))}else ts(e,t,s,fn(e))}catch(V){ts(e,t,{then:function(){},status:"rejected",reason:V},fn())}finally{X.p=d,v!==null&&y.types!==null&&(v.types=y.types),E.T=v}}function T0(){}function dc(e,t,r,s){if(e.tag!==5)throw Error(l(476));var c=cm(e).queue;um(e,c,t,F,r===null?T0:function(){return dm(e),r(s)})}function cm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:F},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=cm(e);t.next===null&&(t=e.alternate.memoizedState),ts(e,t.next.queue,{},fn())}function fc(){return jt(ys)}function fm(){return ct().memoizedState}function hm(){return ct().memoizedState}function A0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=fn();e=Oa(r);var s=Ca(t,e,r);s!==null&&(nn(s,t,r),Ji(s,t,r)),t={cache:qu()},e.payload=t;return}t=t.return}}function R0(e,t,r){var s=fn();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cl(e)?gm(t,r):(r=Cu(e,t,r,s),r!==null&&(nn(r,e,s),vm(r,t,s)))}function mm(e,t,r){var s=fn();ts(e,t,r,s)}function ts(e,t,r,s){var c={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cl(e))gm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,y=d(v,r);if(c.hasEagerState=!0,c.eagerState=y,sn(y,v))return cl(e,t,c,0),Ke===null&&ul(),!1}catch{}if(r=Cu(e,t,c,s),r!==null)return nn(r,e,s),vm(r,t,s),!0}return!1}function hc(e,t,r,s){if(s={lane:2,revertLane:Vc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cl(e)){if(t)throw Error(l(479))}else t=Cu(e,r,s,2),t!==null&&nn(t,e,2)}function Cl(e){var t=e.alternate;return e===we||t!==null&&t===we}function gm(e,t){Jr=El=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vm(e,t,r){if((r&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,rn(e,r)}}var ns={readContext:jt,use:Al,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};ns.useEffectEvent=rt;var pm={readContext:jt,use:Al,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:em,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Dl(4194308,4,rm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var r=Vt();t=t===void 0?null:t;var s=e();if(cr){Yt(!0);try{e()}finally{Yt(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=Vt();if(r!==void 0){var c=r(t);if(cr){Yt(!0);try{r(t)}finally{Yt(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=R0.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=sc(e);var t=e.queue,r=mm.bind(null,we,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:uc,useDeferredValue:function(e,t){var r=Vt();return cc(r,e,t)},useTransition:function(){var e=sc(!1);return e=um.bind(null,we,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=we,c=Vt();if(Ne){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Ke===null)throw Error(l(349));(Oe&127)!==0||Bh(s,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,em(Hh.bind(null,s,d,e),[e]),s.flags|=2048,Fr(9,{destroy:void 0},Ih.bind(null,s,d,r,t),null),r},useId:function(){var e=Vt(),t=Ke.identifierPrefix;if(Ne){var r=Kn,s=Vn;r=(s&~(1<<32-pt(s)-1)).toString(32)+r,t="_"+t+"R_"+r,r=xl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=_0++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fc,useFormState:Qh,useActionState:Qh,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=hc.bind(null,we,!0,r),r.dispatch=t,[e,t]},useMemoCache:ac,useCacheRefresh:function(){return Vt().memoizedState=A0.bind(null,we)},useEffectEvent:function(e){var t=Vt(),r={impl:e};return t.memoizedState=r,function(){if((Le&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},mc={readContext:jt,use:Al,useCallback:sm,useContext:jt,useEffect:oc,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:lm,useReducer:Rl,useRef:Wh,useState:function(){return Rl(oa)},useDebugValue:uc,useDeferredValue:function(e,t){var r=ct();return om(r,Ge.memoizedState,e,t)},useTransition:function(){var e=Rl(oa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Lh,useId:fm,useHostTransitionStatus:fc,useFormState:Jh,useActionState:Jh,useOptimistic:function(e,t){var r=ct();return Gh(r,Ge,e,t)},useMemoCache:ac,useCacheRefresh:hm};mc.useEffectEvent=tm;var ym={readContext:jt,use:Al,useCallback:sm,useContext:jt,useEffect:oc,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:lm,useReducer:ic,useRef:Wh,useState:function(){return ic(oa)},useDebugValue:uc,useDeferredValue:function(e,t){var r=ct();return Ge===null?cc(r,e,t):om(r,Ge.memoizedState,e,t)},useTransition:function(){var e=ic(oa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Lh,useId:fm,useHostTransitionStatus:fc,useFormState:Fh,useActionState:Fh,useOptimistic:function(e,t){var r=ct();return Ge!==null?Gh(r,Ge,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ac,useCacheRefresh:hm};ym.useEffectEvent=tm;function gc(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:b({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vc={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=fn(),c=Oa(s);c.payload=t,r!=null&&(c.callback=r),t=Ca(e,c,s),t!==null&&(nn(t,e,s),Ji(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=fn(),c=Oa(s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Ca(e,c,s),t!==null&&(nn(t,e,s),Ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fn(),s=Oa(r);s.tag=2,t!=null&&(s.callback=t),t=Ca(e,s,r),t!==null&&(nn(t,e,r),Ji(t,e,r))}};function bm(e,t,r,s,c,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,v):t.prototype&&t.prototype.isPureReactComponent?!$i(r,s)||!$i(c,d):!0}function _m(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function dr(e,t){var r=t;if("ref"in t){r={};for(var s in t)s!=="ref"&&(r[s]=t[s])}if(e=e.defaultProps){r===t&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function wm(e){ol(e)}function Sm(e){console.error(e)}function Em(e){ol(e)}function Nl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xm(e,t,r){try{var s=e.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pc(e,t,r){return r=Oa(r),r.tag=3,r.payload={element:null},r.callback=function(){Nl(e,t)},r}function Tm(e){return e=Oa(e),e.tag=3,e}function Am(e,t,r,s){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;e.payload=function(){return c(d)},e.callback=function(){xm(t,r,s)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){xm(t,r,s),typeof c!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function D0(e,t,r,s,c){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=r.alternate,t!==null&&Yr(t,r,c,!0),r=on.current,r!==null){switch(r.tag){case 31:case 13:return Rn===null?Gl():r.alternate===null&&it===0&&(it=3),r.flags&=-257,r.flags|=65536,r.lanes=c,s===yl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([s]):t.add(s),$c(e,s,c)),!1;case 22:return r.flags|=65536,s===yl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([s]):r.add(s)),$c(e,s,c)),!1}throw Error(l(435,r.tag))}return $c(e,s,c),Gl(),!1}if(Ne)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==Uu&&(e=Error(l(422),{cause:s}),Vi(En(e,r)))):(s!==Uu&&(t=Error(l(423),{cause:s}),Vi(En(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=En(s,r),c=pc(e.stateNode,s,c),Xu(e,c),it!==4&&(it=2)),!1;var d=Error(l(520),{cause:s});if(d=En(d,r),cs===null?cs=[d]:cs.push(d),it!==4&&(it=2),t===null)return!0;s=En(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=pc(r.stateNode,s,e),Xu(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ua===null||!Ua.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Tm(c),Am(c,e,r,s),Xu(r,c),!1}r=r.return}while(r!==null);return!1}var yc=Error(l(461)),mt=!1;function Mt(e,t,r,s){t.child=e===null?Ch(t,null,r,s):ur(t,e.child,r,s)}function Rm(e,t,r,s,c){r=r.render;var d=t.ref;if("ref"in s){var v={};for(var y in s)y!=="ref"&&(v[y]=s[y])}else v=s;return ir(t),s=Wu(e,t,r,v,d,c),y=ec(),e!==null&&!mt?(tc(e,t,c),ua(e,t,c)):(Ne&&y&&ku(t),t.flags|=1,Mt(e,t,s,c),t.child)}function Dm(e,t,r,s,c){if(e===null){var d=r.type;return typeof d=="function"&&!Nu(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,Om(e,t,d,s,c)):(e=fl(r.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ac(e,c)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(v,s)&&e.ref===t.ref)return ua(e,t,c)}return t.flags|=1,e=aa(d,s),e.ref=t.ref,e.return=t,t.child=e}function Om(e,t,r,s,c){if(e!==null){var d=e.memoizedProps;if($i(d,s)&&e.ref===t.ref)if(mt=!1,t.pendingProps=s=d,Ac(e,c))(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,ua(e,t,c)}return bc(e,t,r,s,c)}function Cm(e,t,r,s){var c=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~d}else s=0,t.child=null;return Nm(e,t,d,r,s)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(t,d!==null?d.cachePool:null),d!==null?Mh(t,d):Qu(),kh(t);else return s=t.lanes=536870912,Nm(e,t,d!==null?d.baseLanes|r:r,r,s)}else d!==null?(vl(t,d.cachePool),Mh(t,d),ja(),t.memoizedState=null):(e!==null&&vl(t,null),Qu(),ja());return Mt(e,t,c,r),t.child}function as(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nm(e,t,r,s,c){var d=Gu();return d=d===null?null:{parent:ft._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&vl(t,null),Qu(),kh(t),e!==null&&Yr(e,t,s,!0),t.childLanes=c,null}function jl(e,t){return t=kl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jm(e,t,r){return ur(t,e.child,null,r),e=jl(t,t.pendingProps),e.flags|=2,un(t),t.memoizedState=null,e}function O0(e,t,r){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(s.mode==="hidden")return e=jl(t,s),t.lanes=536870912,as(null,e);if(Zu(t),(e=Ze)?(e=Yg(e,An),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Vn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},r=gh(e),r.return=t,t.child=r,Nt=t,Ze=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return jl(t,s)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Zu(t),c)if(t.flags&256)t.flags&=-257,t=jm(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(mt||Yr(e,t,r,!1),c=(r&e.childLanes)!==0,mt||c){if(s=Ke,s!==null&&(v=yn(s,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,tr(e,v),nn(s,e,v),yc;Gl(),t=jm(e,t,r)}else e=d.treeContext,Ze=Dn(v.nextSibling),Nt=t,Ne=!0,Ta=null,An=!1,e!==null&&yh(t,e),t=jl(t,s),t.flags|=4096;return t}return e=aa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ml(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function bc(e,t,r,s,c){return ir(t),r=Wu(e,t,r,s,void 0,c),s=ec(),e!==null&&!mt?(tc(e,t,c),ua(e,t,c)):(Ne&&s&&ku(t),t.flags|=1,Mt(e,t,r,c),t.child)}function Mm(e,t,r,s,c,d){return ir(t),t.updateQueue=null,r=Uh(t,s,r,c),zh(e),s=ec(),e!==null&&!mt?(tc(e,t,d),ua(e,t,d)):(Ne&&s&&ku(t),t.flags|=1,Mt(e,t,r,d),t.child)}function km(e,t,r,s,c){if(ir(t),t.stateNode===null){var d=Hr,v=r.contextType;typeof v=="object"&&v!==null&&(d=jt(v)),d=new r(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Vu(t),v=r.contextType,d.context=typeof v=="object"&&v!==null?jt(v):Hr,d.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(gc(t,r,v,s),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&vc.enqueueReplaceState(d,d.state,null),Fi(t,s,d,c),Zi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,T=dr(r,y);d.props=T;var k=d.context,$=r.contextType;v=Hr,typeof $=="object"&&$!==null&&(v=jt($));var V=r.getDerivedStateFromProps;$=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||k!==v)&&_m(t,d,s,v),Da=!1;var z=t.memoizedState;d.state=z,Fi(t,s,d,c),Zi(),k=t.memoizedState,y||z!==k||Da?(typeof V=="function"&&(gc(t,r,V,s),k=t.memoizedState),(T=Da||bm(t,r,T,s,z,k,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),d.props=s,d.state=k,d.context=v,s=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Ku(e,t),v=t.memoizedProps,$=dr(r,v),d.props=$,V=t.pendingProps,z=d.context,k=r.contextType,T=Hr,typeof k=="object"&&k!==null&&(T=jt(k)),y=r.getDerivedStateFromProps,(k=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==V||z!==T)&&_m(t,d,s,T),Da=!1,z=t.memoizedState,d.state=z,Fi(t,s,d,c),Zi();var B=t.memoizedState;v!==V||z!==B||Da||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof y=="function"&&(gc(t,r,y,s),B=t.memoizedState),($=Da||bm(t,r,$,s,z,B,T)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,B,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,B,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),d.props=s,d.state=B,d.context=T,s=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ml(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=ur(t,e.child,null,c),t.child=ur(t,null,r,c)):Mt(e,t,r,c),t.memoizedState=d.state,e=t.child):e=ua(e,t,c),e}function zm(e,t,r,s){return ar(),t.flags|=256,Mt(e,t,r,s),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wc(e){return{baseLanes:e,cachePool:xh()}}function Sc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=dn),e}function Um(e,t,r){var s=t.pendingProps,c=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),v&&(c=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?Na(t):ja(),(e=Ze)?(e=Yg(e,An),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Vn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},r=gh(e),r.return=t,t.child=r,Nt=t,Ze=null)):e=null,e===null)throw Aa(t);return rd(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,c?(ja(),c=t.mode,y=kl({mode:"hidden",children:y},c),s=nr(s,c,r,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=wc(r),s.childLanes=Sc(e,v,r),t.memoizedState=_c,as(null,s)):(Na(t),Ec(t,y))}var T=e.memoizedState;if(T!==null&&(y=T.dehydrated,y!==null)){if(d)t.flags&256?(Na(t),t.flags&=-257,t=xc(e,t,r)):t.memoizedState!==null?(ja(),t.child=e.child,t.flags|=128,t=null):(ja(),y=s.fallback,c=t.mode,s=kl({mode:"visible",children:s.children},c),y=nr(y,c,r,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,ur(t,e.child,null,r),s=t.child,s.memoizedState=wc(r),s.childLanes=Sc(e,v,r),t.memoizedState=_c,t=as(null,s));else if(Na(t),rd(y)){if(v=y.nextSibling&&y.nextSibling.dataset,v)var k=v.dgst;v=k,s=Error(l(419)),s.stack="",s.digest=v,Vi({value:s,source:null,stack:null}),t=xc(e,t,r)}else if(mt||Yr(e,t,r,!1),v=(r&e.childLanes)!==0,mt||v){if(v=Ke,v!==null&&(s=yn(v,r),s!==0&&s!==T.retryLane))throw T.retryLane=s,tr(e,s),nn(v,e,s),yc;ad(y)||Gl(),t=xc(e,t,r)}else ad(y)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ze=Dn(y.nextSibling),Nt=t,Ne=!0,Ta=null,An=!1,e!==null&&yh(t,e),t=Ec(t,s.children),t.flags|=4096);return t}return c?(ja(),y=s.fallback,c=t.mode,T=e.child,k=T.sibling,s=aa(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,k!==null?y=aa(k,y):(y=nr(y,c,r,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,as(null,s),s=t.child,y=e.child.memoizedState,y===null?y=wc(r):(c=y.cachePool,c!==null?(T=ft._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=xh(),y={baseLanes:y.baseLanes|r,cachePool:c}),s.memoizedState=y,s.childLanes=Sc(e,v,r),t.memoizedState=_c,as(e.child,s)):(Na(t),r=e.child,e=r.sibling,r=aa(r,{mode:"visible",children:s.children}),r.return=t,r.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=r,t.memoizedState=null,r)}function Ec(e,t){return t=kl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kl(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function xc(e,t,r){return ur(t,e.child,null,r),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lm(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Iu(e.return,t,r)}function Tc(e,t,r,s,c,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:c,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=r,v.tailMode=c,v.treeForkCount=d)}function Bm(e,t,r){var s=t.pendingProps,c=s.revealOrder,d=s.tail;s=s.children;var v=ut.current,y=(v&2)!==0;if(y?(v=v&1|2,t.flags|=128):v&=1,P(ut,v),Mt(e,t,s,r),s=Ne?Yi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lm(e,r,t);else if(e.tag===19)Lm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Sl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Tc(t,!1,c,r,d,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Sl(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Tc(t,!0,r,null,d,s);break;case"together":Tc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ua(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Yr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=aa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=aa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function C0(e,t,r){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Ra(t,ft,e.memoizedState.cache),ar();break;case 27:case 5:pe(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Na(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Um(e,t,r):(Na(t),e=ua(e,t,r),e!==null?e.sibling:null);Na(t);break;case 19:var c=(e.flags&128)!==0;if(s=(r&t.childLanes)!==0,s||(Yr(e,t,r,!1),s=(r&t.childLanes)!==0),c){if(s)return Bm(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(ut,ut.current),s)break;return null;case 22:return t.lanes=0,Cm(e,t,r,t.pendingProps);case 24:Ra(t,ft,e.memoizedState.cache)}return ua(e,t,r)}function Im(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)mt=!0;else{if(!Ac(e,r)&&(t.flags&128)===0)return mt=!1,C0(e,t,r);mt=(e.flags&131072)!==0}else mt=!1,Ne&&(t.flags&1048576)!==0&&ph(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=lr(t.elementType),t.type=e,typeof e=="function")Nu(e)?(s=dr(e,s),t.tag=1,t=km(null,t,e,s,r)):(t.tag=0,t=bc(null,t,e,s,r));else{if(e!=null){var c=e.$$typeof;if(c===O){t.tag=11,t=Rm(null,t,e,s,r);break e}else if(c===K){t.tag=14,t=Dm(null,t,e,s,r);break e}}throw t=Ee(e)||e,Error(l(306,t,""))}}return t;case 0:return bc(e,t,t.type,t.pendingProps,r);case 1:return s=t.type,c=dr(s,t.pendingProps),km(e,t,s,c,r);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;c=d.element,Ku(e,t),Fi(t,s,null,r);var v=t.memoizedState;if(s=v.cache,Ra(t,ft,s),s!==d.cache&&Hu(t,[ft],r,!0),Zi(),s=v.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=zm(e,t,s,r);break e}else if(s!==c){c=En(Error(l(424)),t),Vi(c),t=zm(e,t,s,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ze=Dn(e.firstChild),Nt=t,Ne=!0,Ta=null,An=!0,r=Ch(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ar(),s===c){t=ua(e,t,r);break e}Mt(e,t,s,r)}t=t.child}return t;case 26:return Ml(e,t),e===null?(r=Jg(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ne||(r=t.type,e=t.pendingProps,s=Jl(ie.current).createElement(r),s[Ct]=t,s[Jt]=e,kt(s,r,e),xt(s),t.stateNode=s):t.memoizedState=Jg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pe(t),e===null&&Ne&&(s=t.stateNode=Xg(t.type,t.pendingProps,ie.current),Nt=t,An=!0,c=Ze,Ha(t.type)?(id=c,Ze=Dn(s.firstChild)):Ze=c),Mt(e,t,t.pendingProps.children,r),Ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=s=Ze)&&(s=sb(s,t.type,t.pendingProps,An),s!==null?(t.stateNode=s,Nt=t,Ze=Dn(s.firstChild),An=!1,c=!0):c=!1),c||Aa(t)),pe(t),c=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,s=d.children,ed(c,d)?s=null:v!==null&&ed(c,v)&&(t.flags|=32),t.memoizedState!==null&&(c=Wu(e,t,w0,null,null,r),ys._currentValue=c),Ml(e,t),Mt(e,t,s,r),t.child;case 6:return e===null&&Ne&&((e=r=Ze)&&(r=lb(r,t.pendingProps,An),r!==null?(t.stateNode=r,Nt=t,Ze=null,e=!0):e=!1),e||Aa(t)),null;case 13:return Um(e,t,r);case 4:return Me(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ur(t,null,s,r):Mt(e,t,s,r),t.child;case 11:return Rm(e,t,t.type,t.pendingProps,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,Ra(t,t.type,s.value),Mt(e,t,s.children,r),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,ir(t),c=jt(c),s=s(c),t.flags|=1,Mt(e,t,s,r),t.child;case 14:return Dm(e,t,t.type,t.pendingProps,r);case 15:return Om(e,t,t.type,t.pendingProps,r);case 19:return Bm(e,t,r);case 31:return O0(e,t,r);case 22:return Cm(e,t,r,t.pendingProps);case 24:return ir(t),s=jt(ft),e===null?(c=Gu(),c===null&&(c=Ke,d=qu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),t.memoizedState={parent:s,cache:c},Vu(t),Ra(t,ft,c)):((e.lanes&r)!==0&&(Ku(e,t),Fi(t,null,null,r),Zi()),c=e.memoizedState,d=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ra(t,ft,s)):(s=d.cache,Ra(t,ft,s),s!==c.cache&&Hu(t,[ft],r,!0))),Mt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ca(e){e.flags|=4}function Rc(e,t,r,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(fg())e.flags|=8192;else throw or=yl,Yu}else e.flags&=-16777217}function Hm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tv(t))if(fg())e.flags|=8192;else throw or=yl,Yu}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qt():536870912,e.lanes|=t,ni|=t)}function rs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function N0(e,t,r){var s=t.pendingProps;switch(zu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return r=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),sa(ft),te(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gr(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lu())),Fe(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(ca(t),d!==null?(Fe(t),Hm(t,d)):(Fe(t),Rc(t,c,null,s,r))):d?d!==e.memoizedState?(ca(t),Fe(t),Hm(t,d)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ca(t),Fe(t),Rc(t,c,e,s,r)),null;case 27:if(at(t),r=ie.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Fe(t),null}e=J.current,Gr(t)?bh(t):(e=Xg(c,s,r),t.stateNode=e,ca(t))}return Fe(t),null;case 5:if(at(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Fe(t),null}if(d=J.current,Gr(t))bh(t);else{var v=Jl(ie.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?v.createElement(c,{is:s.is}):v.createElement(c)}}d[Ct]=t,d[Jt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(kt(d,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ca(t)}}return Fe(t),Rc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ie.current,Gr(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[Ct]=t,e=!!(e.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Ug(e.nodeValue,r)),e||Aa(t,!0)}else e=Jl(e).createTextNode(s),e[Ct]=t,t.stateNode=e}return Fe(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(s=Gr(t),r!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ct]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else r=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(un(t),t):(un(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Fe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Gr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Ct]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),c=!1}else c=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(un(t),t):(un(t),null)}return un(t),(t.flags&128)!==0?(t.lanes=r,t):(r=s!==null,e=e!==null&&e.memoizedState!==null,r&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),zl(t,t.updateQueue),Fe(t),null);case 4:return te(),e===null&&Qc(t.stateNode.containerInfo),Fe(t),null;case 10:return sa(t.type),Fe(t),null;case 19:if(H(ut),s=t.memoizedState,s===null)return Fe(t),null;if(c=(t.flags&128)!==0,d=s.rendering,d===null)if(c)rs(s,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Sl(e),d!==null){for(t.flags|=128,rs(s,!1),e=d.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)mh(r,e),r=r.sibling;return P(ut,ut.current&1|2),Ne&&ra(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ke()>Hl&&(t.flags|=128,c=!0,rs(s,!1),t.lanes=4194304)}else{if(!c)if(e=Sl(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),rs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Ne)return Fe(t),null}else 2*ke()-s.renderingStartTime>Hl&&r!==536870912&&(t.flags|=128,c=!0,rs(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,r=ut.current,P(ut,c?r&1|2:r&1),Ne&&ra(t,s.treeForkCount),e):(Fe(t),null);case 22:case 23:return un(t),Ju(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(r&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),r=t.updateQueue,r!==null&&zl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),e!==null&&H(sr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),sa(ft),Fe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function j0(e,t){switch(zu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(ft),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return at(t),null;case 31:if(t.memoizedState!==null){if(un(t),t.alternate===null)throw Error(l(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(un(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(ut),null;case 4:return te(),null;case 10:return sa(t.type),null;case 22:case 23:return un(t),Ju(),e!==null&&H(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(ft),null;case 25:return null;default:return null}}function qm(e,t){switch(zu(t),t.tag){case 3:sa(ft),te();break;case 26:case 27:case 5:at(t);break;case 4:te();break;case 31:t.memoizedState!==null&&un(t);break;case 13:un(t);break;case 19:H(ut);break;case 10:sa(t.type);break;case 22:case 23:un(t),Ju(),e!==null&&H(sr);break;case 24:sa(ft)}}function is(e,t){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var c=s.next;r=c;do{if((r.tag&e)===e){s=void 0;var d=r.create,v=r.inst;s=d(),v.destroy=s}r=r.next}while(r!==c)}}catch(y){He(t,t.return,y)}}function Ma(e,t,r){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&e)===e){var v=s.inst,y=v.destroy;if(y!==void 0){v.destroy=void 0,c=t;var T=r,k=y;try{k()}catch($){He(c,T,$)}}}s=s.next}while(s!==d)}}catch($){He(t,t.return,$)}}function $m(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{jh(t,r)}catch(s){He(e,e.return,s)}}}function Gm(e,t,r){r.props=dr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){He(e,t,s)}}function ss(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof r=="function"?e.refCleanup=r(s):r.current=s}}catch(c){He(e,t,c)}}function Xn(e,t){var r=e.ref,s=e.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(c){He(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){He(e,t,c)}else r.current=null}function Ym(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(c){He(e,e.return,c)}}function Dc(e,t,r){try{var s=e.stateNode;eb(s,e.type,r,t),s[Jt]=t}catch(c){He(e,e.return,c)}}function Vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ta));else if(s!==4&&(s===27&&Ha(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Cc(e,t,r),e=e.sibling;e!==null;)Cc(e,t,r),e=e.sibling}function Ul(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(s===27&&Ha(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ul(e,t,r),e=e.sibling;e!==null;)Ul(e,t,r),e=e.sibling}function Km(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,s,r),t[Ct]=e,t[Jt]=r}catch(d){He(e,e.return,d)}}var da=!1,gt=!1,Nc=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function M0(e,t){if(e=e.containerInfo,Fc=ao,e=ih(e),xu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var c=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var v=0,y=-1,T=-1,k=0,$=0,V=e,z=null;t:for(;;){for(var B;V!==r||c!==0&&V.nodeType!==3||(y=v+c),V!==d||s!==0&&V.nodeType!==3||(T=v+s),V.nodeType===3&&(v+=V.nodeValue.length),(B=V.firstChild)!==null;)z=V,V=B;for(;;){if(V===e)break t;if(z===r&&++k===c&&(y=v),z===d&&++$===s&&(T=v),(B=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=B}r=y===-1||T===-1?null:{start:y,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wc={focusedElem:e,selectionRange:r},ao=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,c=d.memoizedProps,d=d.memoizedState,s=r.stateNode;try{var ee=dr(r.type,c);e=s.getSnapshotBeforeUpdate(ee,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(fe){He(r,r.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function Pm(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:ha(e,r),s&4&&is(5,r);break;case 1:if(ha(e,r),s&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(v){He(r,r.return,v)}else{var c=dr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){He(r,r.return,v)}}s&64&&$m(r),s&512&&ss(r,r.return);break;case 3:if(ha(e,r),s&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{jh(e,t)}catch(v){He(r,r.return,v)}}break;case 27:t===null&&s&4&&Km(r);case 26:case 5:ha(e,r),t===null&&s&4&&Ym(r),s&512&&ss(r,r.return);break;case 12:ha(e,r);break;case 31:ha(e,r),s&4&&Zm(e,r);break;case 13:ha(e,r),s&4&&Fm(e,r),s&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=$0.bind(null,r),ob(e,r))));break;case 22:if(s=r.memoizedState!==null||da,!s){t=t!==null&&t.memoizedState!==null||gt,c=da;var d=gt;da=s,(gt=t)&&!d?ma(e,r,(r.subtreeFlags&8772)!==0):ha(e,r),da=c,gt=d}break;case 30:break;default:ha(e,r)}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Ft=!1;function fa(e,t,r){for(r=r.child;r!==null;)Jm(e,t,r),r=r.sibling}function Jm(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:gt||Xn(r,t),fa(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gt||Xn(r,t);var s=We,c=Ft;Ha(r.type)&&(We=r.stateNode,Ft=!1),fa(e,t,r),gs(r.stateNode),We=s,Ft=c;break;case 5:gt||Xn(r,t);case 6:if(s=We,c=Ft,We=null,fa(e,t,r),We=s,Ft=c,We!==null)if(Ft)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(r.stateNode)}catch(d){He(r,t,d)}else try{We.removeChild(r.stateNode)}catch(d){He(r,t,d)}break;case 18:We!==null&&(Ft?(e=We,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ci(e)):$g(We,r.stateNode));break;case 4:s=We,c=Ft,We=r.stateNode.containerInfo,Ft=!0,fa(e,t,r),We=s,Ft=c;break;case 0:case 11:case 14:case 15:Ma(2,r,t),gt||Ma(4,r,t),fa(e,t,r);break;case 1:gt||(Xn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"&&Gm(r,t,s)),fa(e,t,r);break;case 21:fa(e,t,r);break;case 22:gt=(s=gt)||r.memoizedState!==null,fa(e,t,r),gt=s;break;default:fa(e,t,r)}}function Zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ci(e)}catch(r){He(t,t.return,r)}}}function Fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(r){He(t,t.return,r)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xm),t;default:throw Error(l(435,e.tag))}}function Ll(e,t){var r=k0(e);t.forEach(function(s){if(!r.has(s)){r.add(s);var c=G0.bind(null,e,s);s.then(c,c)}})}function Wt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var c=r[s],d=e,v=t,y=v;e:for(;y!==null;){switch(y.tag){case 27:if(Ha(y.type)){We=y.stateNode,Ft=!1;break e}break;case 5:We=y.stateNode,Ft=!1;break e;case 3:case 4:We=y.stateNode.containerInfo,Ft=!0;break e}y=y.return}if(We===null)throw Error(l(160));Jm(d,v,c),We=null,Ft=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}var zn=null;function Wm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),en(e),s&4&&(Ma(3,e,e.return),is(3,e),Ma(5,e,e.return));break;case 1:Wt(t,e),en(e),s&512&&(gt||r===null||Xn(r,r.return)),s&64&&da&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var c=zn;if(Wt(t,e),en(e),s&512&&(gt||r===null||Xn(r,r.return)),s&4){var d=r!==null?r.memoizedState:null;if(s=e.memoizedState,r===null)if(s===null)if(e.stateNode===null){e:{s=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Mi]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(s),c.head.insertBefore(d,c.querySelector("head > title"))),kt(d,s,r),d[Ct]=e,xt(d),s=d;break e;case"link":var v=Wg("link","href",c).get(s+(r.href||""));if(v){for(var y=0;y<v.length;y++)if(d=v[y],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(y,1);break t}}d=c.createElement(s),kt(d,s,r),c.head.appendChild(d);break;case"meta":if(v=Wg("meta","content",c).get(s+(r.content||""))){for(y=0;y<v.length;y++)if(d=v[y],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(y,1);break t}}d=c.createElement(s),kt(d,s,r),c.head.appendChild(d);break;default:throw Error(l(468,s))}d[Ct]=e,xt(d),s=d}e.stateNode=s}else ev(c,e.type,e.stateNode);else e.stateNode=Fg(c,s,e.memoizedProps);else d!==s?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,s===null?ev(c,e.type,e.stateNode):Fg(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Dc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Wt(t,e),en(e),s&512&&(gt||r===null||Xn(r,r.return)),r!==null&&s&4&&Dc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Wt(t,e),en(e),s&512&&(gt||r===null||Xn(r,r.return)),e.flags&32){c=e.stateNode;try{Mr(c,"")}catch(ee){He(e,e.return,ee)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Dc(e,c,r!==null?r.memoizedProps:c)),s&1024&&(Nc=!0);break;case 6:if(Wt(t,e),en(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(ee){He(e,e.return,ee)}}break;case 3:if(Wl=null,c=zn,zn=Zl(t.containerInfo),Wt(t,e),zn=c,en(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(ee){He(e,e.return,ee)}Nc&&(Nc=!1,eg(e));break;case 4:s=zn,zn=Zl(e.stateNode.containerInfo),Wt(t,e),en(e),zn=s;break;case 12:Wt(t,e),en(e);break;case 31:Wt(t,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 13:Wt(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Il=ke()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 22:c=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,k=da,$=gt;if(da=k||c,gt=$||T,Wt(t,e),gt=$,da=k,en(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||T||da||gt||fr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){T=r=t;try{if(d=T.stateNode,c)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{y=T.stateNode;var V=T.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;y.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ee){He(T,T.return,ee)}}}else if(t.tag===6){if(r===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(ee){He(T,T.return,ee)}}}else if(t.tag===18){if(r===null){T=t;try{var B=T.stateNode;c?Gg(B,!0):Gg(T.stateNode,!1)}catch(ee){He(T,T.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,Ll(e,r))));break;case 19:Wt(t,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 30:break;case 21:break;default:Wt(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var r,s=e.return;s!==null;){if(Vm(s)){r=s;break}s=s.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var c=r.stateNode,d=Oc(e);Ul(e,d,c);break;case 5:var v=r.stateNode;r.flags&32&&(Mr(v,""),r.flags&=-33);var y=Oc(e);Ul(e,y,v);break;case 3:case 4:var T=r.stateNode.containerInfo,k=Oc(e);Cc(e,k,T);break;default:throw Error(l(161))}}catch($){He(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;eg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pm(e,t.alternate,t),t=t.sibling}function fr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),fr(t);break;case 1:Xn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Gm(t,t.return,r),fr(t);break;case 27:gs(t.stateNode);case 26:case 5:Xn(t,t.return),fr(t);break;case 22:t.memoizedState===null&&fr(t);break;case 30:fr(t);break;default:fr(t)}e=e.sibling}}function ma(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:ma(c,d,r),is(4,d);break;case 1:if(ma(c,d,r),s=d,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){He(s,s.return,k)}if(s=d,c=s.updateQueue,c!==null){var y=s.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)Nh(T[c],y)}catch(k){He(s,s.return,k)}}r&&v&64&&$m(d),ss(d,d.return);break;case 27:Km(d);case 26:case 5:ma(c,d,r),r&&s===null&&v&4&&Ym(d),ss(d,d.return);break;case 12:ma(c,d,r);break;case 31:ma(c,d,r),r&&v&4&&Zm(c,d);break;case 13:ma(c,d,r),r&&v&4&&Fm(c,d);break;case 22:d.memoizedState===null&&ma(c,d,r),ss(d,d.return);break;case 30:break;default:ma(c,d,r)}t=t.sibling}}function jc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ki(r))}function Mc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e))}function Un(e,t,r,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tg(e,t,r,s),t=t.sibling}function tg(e,t,r,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,r,s),c&2048&&is(9,t);break;case 1:Un(e,t,r,s);break;case 3:Un(e,t,r,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e)));break;case 12:if(c&2048){Un(e,t,r,s),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,y=d.onPostCommit;typeof y=="function"&&y(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){He(t,t.return,T)}}else Un(e,t,r,s);break;case 31:Un(e,t,r,s);break;case 13:Un(e,t,r,s);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,r,s):ls(e,t):d._visibility&2?Un(e,t,r,s):(d._visibility|=2,Wr(e,t,r,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&jc(v,t);break;case 24:Un(e,t,r,s),c&2048&&Mc(t.alternate,t);break;default:Un(e,t,r,s)}}function Wr(e,t,r,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,y=r,T=s,k=v.flags;switch(v.tag){case 0:case 11:case 15:Wr(d,v,y,T,c),is(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Wr(d,v,y,T,c):ls(d,v):($._visibility|=2,Wr(d,v,y,T,c)),c&&k&2048&&jc(v.alternate,v);break;case 24:Wr(d,v,y,T,c),c&&k&2048&&Mc(v.alternate,v);break;default:Wr(d,v,y,T,c)}t=t.sibling}}function ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,s=t,c=s.flags;switch(s.tag){case 22:ls(r,s),c&2048&&jc(s.alternate,s);break;case 24:ls(r,s),c&2048&&Mc(s.alternate,s);break;default:ls(r,s)}t=t.sibling}}var os=8192;function ei(e,t,r){if(e.subtreeFlags&os)for(e=e.child;e!==null;)ng(e,t,r),e=e.sibling}function ng(e,t,r){switch(e.tag){case 26:ei(e,t,r),e.flags&os&&e.memoizedState!==null&&_b(r,zn,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,r);break;case 3:case 4:var s=zn;zn=Zl(e.stateNode.containerInfo),ei(e,t,r),zn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=os,os=16777216,ei(e,t,r),os=s):ei(e,t,r));break;default:ei(e,t,r)}}function ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];Tt=s,ig(s,e)}ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rg(e),e=e.sibling}function rg(e){switch(e.tag){case 0:case 11:case 15:us(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:us(e);break;case 12:us(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):us(e);break;default:us(e)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];Tt=s,ig(s,e)}ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),Bl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function ig(e,t){for(;Tt!==null;){var r=Tt;switch(r.tag){case 0:case 11:case 15:Ma(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ki(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,Tt=s;else e:for(r=e;Tt!==null;){s=Tt;var c=s.sibling,d=s.return;if(Qm(s),s===r){Tt=null;break e}if(c!==null){c.return=d,Tt=c;break e}Tt=d}}}var z0={getCacheForType:function(e){var t=jt(ft),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return jt(ft).controller.signal}},U0=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ke=null,Re=null,Oe=0,Ie=0,cn=null,ka=!1,ti=!1,kc=!1,ga=0,it=0,za=0,hr=0,zc=0,dn=0,ni=0,cs=null,tn=null,Uc=!1,Il=0,sg=0,Hl=1/0,ql=null,Ua=null,bt=0,La=null,ai=null,va=0,Lc=0,Bc=null,lg=null,ds=0,Ic=null;function fn(){return(Le&2)!==0&&Oe!==0?Oe&-Oe:E.T!==null?Vc():Mn()}function og(){if(dn===0)if((Oe&536870912)===0||Ne){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),dn=e}else dn=536870912;return e=on.current,e!==null&&(e.flags|=32),dn}function nn(e,t,r){(e===Ke&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ri(e,0),Ba(e,Oe,dn,!1)),pn(e,r),((Le&2)===0||e!==Ke)&&(e===Ke&&((Le&2)===0&&(hr|=r),it===4&&Ba(e,Oe,dn,!1)),Pn(e))}function ug(e,t,r){if((Le&6)!==0)throw Error(l(327));var s=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Xt(e,t),c=s?I0(e,t):qc(e,t,!0),d=s;do{if(c===0){ti&&!s&&Ba(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!L0(r)){c=qc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var y=e;c=cs;var T=y.current.memoizedState.isDehydrated;if(T&&(ri(y,v).flags|=256),v=qc(y,v,!1),v!==2){if(kc&&!T){y.errorRecoveryDisabledLanes|=d,hr|=d,c=4;break e}d=tn,tn=c,d!==null&&(tn===null?tn=d:tn.push.apply(tn,d))}c=v}if(d=!1,c!==2)continue}}if(c===1){ri(e,0),Ba(e,t,0,!0);break}e:{switch(s=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ba(s,t,dn,!ka);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Il+300-ke(),10<c)){if(Ba(s,t,dn,!ka),Et(s,0,!0)!==0)break e;va=t,s.timeoutHandle=Hg(cg.bind(null,s,r,tn,ql,Uc,t,dn,hr,ni,ka,d,"Throttled",-0,0),c);break e}cg(s,r,tn,ql,Uc,t,dn,hr,ni,ka,d,null,-0,0)}}break}while(!0);Pn(e)}function cg(e,t,r,s,c,d,v,y,T,k,$,V,z,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},ng(t,d,V);var ee=(d&62914560)===d?Il-ke():(d&4194048)===d?sg-ke():0;if(ee=wb(V,ee),ee!==null){va=d,e.cancelPendingCommit=ee(yg.bind(null,e,t,d,r,s,c,v,y,T,$,V,null,z,B)),Ba(e,d,v,!k);return}}yg(e,t,d,r,s,c,v,y,T)}function L0(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var c=r[s],d=c.getSnapshot;c=c.value;try{if(!sn(d(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,r,s){t&=~zc,t&=~hr,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var d=31-pt(c),v=1<<d;s[d]=-1,c&=~v}r!==0&&jn(e,r,t)}function $l(){return(Le&6)===0?(fs(0),!1):!0}function Hc(){if(Re!==null){if(Ie===0)var e=Re.return;else e=Re,ia=rr=null,nc(e),Pr=null,Pi=0,e=Re;for(;e!==null;)qm(e.alternate,e),e=e.return;Re=null}}function ri(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ab(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),va=0,Hc(),Ke=e,Re=r=aa(e.current,null),Oe=t,Ie=0,cn=null,ka=!1,ti=Xt(e,t),kc=!1,ni=dn=zc=hr=za=it=0,tn=cs=null,Uc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-pt(s),d=1<<c;t|=e[c],s&=~d}return ga=t,ul(),r}function dg(e,t){we=null,E.H=ns,t===Xr||t===pl?(t=Rh(),Ie=3):t===Yu?(t=Rh(),Ie=4):Ie=t===yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,Re===null&&(it=1,Nl(e,En(t,e.current)))}function fg(){var e=on.current;return e===null?!0:(Oe&4194048)===Oe?Rn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Rn:!1}function hg(){var e=E.H;return E.H=ns,e===null?ns:e}function mg(){var e=E.A;return E.A=z0,e}function Gl(){it=4,ka||(Oe&4194048)!==Oe&&on.current!==null||(ti=!0),(za&134217727)===0&&(hr&134217727)===0||Ke===null||Ba(Ke,Oe,dn,!1)}function qc(e,t,r){var s=Le;Le|=2;var c=hg(),d=mg();(Ke!==e||Oe!==t)&&(ql=null,ri(e,t)),t=!1;var v=it;e:do try{if(Ie!==0&&Re!==null){var y=Re,T=cn;switch(Ie){case 8:Hc(),v=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var k=Ie;if(Ie=0,cn=null,ii(e,y,T,k),r&&ti){v=0;break e}break;default:k=Ie,Ie=0,cn=null,ii(e,y,T,k)}}B0(),v=it;break}catch($){dg(e,$)}while(!0);return t&&e.shellSuspendCounter++,ia=rr=null,Le=s,E.H=c,E.A=d,Re===null&&(Ke=null,Oe=0,ul()),v}function B0(){for(;Re!==null;)gg(Re)}function I0(e,t){var r=Le;Le|=2;var s=hg(),c=mg();Ke!==e||Oe!==t?(ql=null,Hl=ke()+500,ri(e,t)):ti=Xt(e,t);e:do try{if(Ie!==0&&Re!==null){t=Re;var d=cn;t:switch(Ie){case 1:Ie=0,cn=null,ii(e,t,d,1);break;case 2:case 9:if(Th(d)){Ie=0,cn=null,vg(t);break}t=function(){Ie!==2&&Ie!==9||Ke!==e||(Ie=7),Pn(e)},d.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Th(d)?(Ie=0,cn=null,vg(t)):(Ie=0,cn=null,ii(e,t,d,7));break;case 5:var v=null;switch(Re.tag){case 26:v=Re.memoizedState;case 5:case 27:var y=Re;if(v?tv(v):y.stateNode.complete){Ie=0,cn=null;var T=y.sibling;if(T!==null)Re=T;else{var k=y.return;k!==null?(Re=k,Yl(k)):Re=null}break t}}Ie=0,cn=null,ii(e,t,d,5);break;case 6:Ie=0,cn=null,ii(e,t,d,6);break;case 8:Hc(),it=6;break e;default:throw Error(l(462))}}H0();break}catch($){dg(e,$)}while(!0);return ia=rr=null,E.H=s,E.A=c,Le=r,Re!==null?0:(Ke=null,Oe=0,ul(),it)}function H0(){for(;Re!==null&&!Je();)gg(Re)}function gg(e){var t=Im(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?Yl(e):Re=t}function vg(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Mm(r,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Mm(r,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:nc(t);default:qm(r,t),t=Re=mh(t,ga),t=Im(r,t,ga)}e.memoizedProps=e.pendingProps,t===null?Yl(e):Re=t}function ii(e,t,r,s){ia=rr=null,nc(t),Pr=null,Pi=0;var c=t.return;try{if(D0(e,c,t,r,Oe)){it=1,Nl(e,En(r,e.current)),Re=null;return}}catch(d){if(c!==null)throw Re=c,d;it=1,Nl(e,En(r,e.current)),Re=null;return}t.flags&32768?(Ne||s===1?e=!0:ti||(Oe&536870912)!==0?e=!1:(ka=e=!0,(s===2||s===9||s===3||s===6)&&(s=on.current,s!==null&&s.tag===13&&(s.flags|=16384))),pg(t,e)):Yl(t)}function Yl(e){var t=e;do{if((t.flags&32768)!==0){pg(t,ka);return}e=t.return;var r=N0(t.alternate,t,ga);if(r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);it===0&&(it=5)}function pg(e,t){do{var r=j0(e.alternate,e);if(r!==null){r.flags&=32767,Re=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=r}while(e!==null);it=6,Re=null}function yg(e,t,r,s,c,d,v,y,T){e.cancelPendingCommit=null;do Vl();while(bt!==0);if((Le&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Ou,yt(e,r,d,v,y,T),e===Ke&&(Re=Ke=null,Oe=0),ai=t,La=e,va=r,Lc=d,Bc=c,lg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(Ht,function(){return Eg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=E.T,E.T=null,c=X.p,X.p=2,v=Le,Le|=4;try{M0(e,t,r)}finally{Le=v,X.p=c,E.T=s}}bt=1,bg(),_g(),wg()}}function bg(){if(bt===1){bt=0;var e=La,t=ai,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=E.T,E.T=null;var s=X.p;X.p=2;var c=Le;Le|=4;try{Wm(t,e);var d=Wc,v=ih(e.containerInfo),y=d.focusedElem,T=d.selectionRange;if(v!==y&&y&&y.ownerDocument&&rh(y.ownerDocument.documentElement,y)){if(T!==null&&xu(y)){var k=T.start,$=T.end;if($===void 0&&($=k),"selectionStart"in y)y.selectionStart=k,y.selectionEnd=Math.min($,y.value.length);else{var V=y.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var B=z.getSelection(),ee=y.textContent.length,fe=Math.min(T.start,ee),Ve=T.end===void 0?fe:Math.min(T.end,ee);!B.extend&&fe>Ve&&(v=Ve,Ve=fe,fe=v);var N=ah(y,fe),D=ah(y,Ve);if(N&&D&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var M=V.createRange();M.setStart(N.node,N.offset),B.removeAllRanges(),fe>Ve?(B.addRange(M),B.extend(D.node,D.offset)):(M.setEnd(D.node,D.offset),B.addRange(M))}}}}for(V=[],B=y;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<V.length;y++){var Y=V[y];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ao=!!Fc,Wc=Fc=null}finally{Le=c,X.p=s,E.T=r}}e.current=t,bt=2}}function _g(){if(bt===2){bt=0;var e=La,t=ai,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=E.T,E.T=null;var s=X.p;X.p=2;var c=Le;Le|=4;try{Pm(e,t.alternate,t)}finally{Le=c,X.p=s,E.T=r}}bt=3}}function wg(){if(bt===4||bt===3){bt=0,Lt();var e=La,t=ai,r=va,s=lg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?bt=5:(bt=0,ai=La=null,Sg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ua=null),Wn(r),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Zn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=E.T,c=X.p,X.p=2,E.T=null;try{for(var d=e.onRecoverableError,v=0;v<s.length;v++){var y=s[v];d(y.value,{componentStack:y.stack})}}finally{E.T=t,X.p=c}}(va&3)!==0&&Vl(),Pn(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Ic?ds++:(ds=0,Ic=e):ds=0,fs(0)}}function Sg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ki(t)))}function Vl(){return bg(),_g(),wg(),Eg()}function Eg(){if(bt!==5)return!1;var e=La,t=Lc;Lc=0;var r=Wn(va),s=E.T,c=X.p;try{X.p=32>r?32:r,E.T=null,r=Bc,Bc=null;var d=La,v=va;if(bt=0,ai=La=null,va=0,(Le&6)!==0)throw Error(l(331));var y=Le;if(Le|=4,rg(d.current),tg(d,d.current,v,r),Le=y,fs(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{X.p=c,E.T=s,Sg(e,t)}}function xg(e,t,r){t=En(r,t),t=pc(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(pn(e,2),Pn(e))}function He(e,t,r){if(e.tag===3)xg(e,e,r);else for(;t!==null;){if(t.tag===3){xg(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ua===null||!Ua.has(s))){e=En(r,e),r=Tm(2),s=Ca(t,r,2),s!==null&&(Am(r,s,t,e),pn(s,2),Pn(s));break}}t=t.return}}function $c(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new U0;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(r)||(kc=!0,c.add(r),e=q0.bind(null,e,t,r),t.then(e,e))}function q0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ke===e&&(Oe&r)===r&&(it===4||it===3&&(Oe&62914560)===Oe&&300>ke()-Il?(Le&2)===0&&ri(e,0):zc|=r,ni===Oe&&(ni=0)),Pn(e)}function Tg(e,t){t===0&&(t=qt()),e=tr(e,t),e!==null&&(pn(e,t),Pn(e))}function $0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tg(e,r)}function G0(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Tg(e,r)}function Y0(e,t){return $e(e,t)}var Kl=null,si=null,Gc=!1,Xl=!1,Yc=!1,Ia=0;function Pn(e){e!==si&&e.next===null&&(si===null?Kl=si=e:si=si.next=e),Xl=!0,Gc||(Gc=!0,K0())}function fs(e,t){if(!Yc&&Xl){Yc=!0;do for(var r=!1,s=Kl;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var d=0;else{var v=s.suspendedLanes,y=s.pingedLanes;d=(1<<31-pt(42|e)+1)-1,d&=c&~(v&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Og(s,d))}else d=Oe,d=Et(s,s===Ke?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Xt(s,d)||(r=!0,Og(s,d));s=s.next}while(r);Yc=!1}}function V0(){Ag()}function Ag(){Xl=Gc=!1;var e=0;Ia!==0&&nb()&&(e=Ia);for(var t=ke(),r=null,s=Kl;s!==null;){var c=s.next,d=Rg(s,t);d===0?(s.next=null,r===null?Kl=c:r.next=c,c===null&&(si=r)):(r=s,(e!==0||(d&3)!==0)&&(Xl=!0)),s=c}bt!==0&&bt!==5||fs(e),Ia!==0&&(Ia=0)}function Rg(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-pt(d),y=1<<v,T=c[v];T===-1?((y&r)===0||(y&s)!==0)&&(c[v]=Pt(y,t)):T<=t&&(e.expiredLanes|=y),d&=~y}if(t=Ke,r=Oe,r=Et(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,r===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Pe(s),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Xt(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(s!==null&&Pe(s),Wn(r)){case 2:case 8:r=It;break;case 32:r=Ht;break;case 268435456:r=Jn;break;default:r=Ht}return s=Dg.bind(null,e),r=$e(r,s),e.callbackPriority=t,e.callbackNode=r,t}return s!==null&&s!==null&&Pe(s),e.callbackPriority=2,e.callbackNode=null,2}function Dg(e,t){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Vl()&&e.callbackNode!==r)return null;var s=Oe;return s=Et(e,e===Ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ug(e,s,t),Rg(e,ke()),e.callbackNode!=null&&e.callbackNode===r?Dg.bind(null,e):null)}function Og(e,t){if(Vl())return null;ug(e,t,!0)}function K0(){rb(function(){(Le&6)!==0?$e(St,V0):Ag()})}function Vc(){if(Ia===0){var e=Vr;e===0&&(e=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),Ia=e}return Ia}function Cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tl(""+e)}function Ng(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function X0(e,t,r,s,c){if(t==="submit"&&r&&r.stateNode===c){var d=Cg((c[Jt]||null).action),v=s.submitter;v&&(t=(t=v[Jt]||null)?Cg(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var y=new il("action","action",null,s,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ia!==0){var T=v?Ng(c,v):new FormData(c);dc(r,{pending:!0,data:T,method:c.method,action:d},null,T)}}else typeof d=="function"&&(y.preventDefault(),T=v?Ng(c,v):new FormData(c),dc(r,{pending:!0,data:T,method:c.method,action:d},d,T))},currentTarget:c}]})}}for(var Kc=0;Kc<Du.length;Kc++){var Xc=Du[Kc],P0=Xc.toLowerCase(),Q0=Xc[0].toUpperCase()+Xc.slice(1);kn(P0,"on"+Q0)}kn(oh,"onAnimationEnd"),kn(uh,"onAnimationIteration"),kn(ch,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(d0,"onTransitionRun"),kn(f0,"onTransitionStart"),kn(h0,"onTransitionCancel"),kn(dh,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function jg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],c=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var v=s.length-1;0<=v;v--){var y=s[v],T=y.instance,k=y.currentTarget;if(y=y.listener,T!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=k;try{d(c)}catch($){ol($)}c.currentTarget=null,d=T}else for(v=0;v<s.length;v++){if(y=s[v],T=y.instance,k=y.currentTarget,y=y.listener,T!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=k;try{d(c)}catch($){ol($)}c.currentTarget=null,d=T}}}}function De(e,t){var r=t[su];r===void 0&&(r=t[su]=new Set);var s=e+"__bubble";r.has(s)||(Mg(t,e,2,!1),r.add(s))}function Pc(e,t,r){var s=0;t&&(s|=4),Mg(r,e,s,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Pl]){e[Pl]=!0,Af.forEach(function(r){r!=="selectionchange"&&(J0.has(r)||Pc(r,!1,e),Pc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,Pc("selectionchange",!1,t))}}function Mg(e,t,r,s){switch(ov(t)){case 2:var c=xb;break;case 8:c=Tb;break;default:c=cd}r=c.bind(null,t,r,e),c=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Jc(e,t,r,s,c){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var y=s.stateNode.containerInfo;if(y===c)break;if(v===4)for(v=s.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;y!==null;){if(v=Dr(y),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){s=d=v;continue e}y=y.parentNode}}s=s.return}Bf(function(){var k=d,$=hu(r),V=[];e:{var z=fh.get(e);if(z!==void 0){var B=il,ee=e;switch(e){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":B=Gy;break;case"focusin":ee="focus",B=bu;break;case"focusout":ee="blur",B=bu;break;case"beforeblur":case"afterblur":B=bu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ky;break;case oh:case uh:case ch:B=ky;break;case dh:B=Py;break;case"scroll":case"scrollend":B=Oy;break;case"wheel":B=Jy;break;case"copy":case"cut":case"paste":B=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Gf;break;case"toggle":case"beforetoggle":B=Fy}var fe=(t&4)!==0,Ve=!fe&&(e==="scroll"||e==="scrollend"),N=fe?z!==null?z+"Capture":null:z;fe=[];for(var D=k,M;D!==null;){var Y=D;if(M=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||M===null||N===null||(Y=zi(D,N),Y!=null&&fe.push(ms(D,Y,M))),Ve)break;D=D.return}0<fe.length&&(z=new B(z,ee,null,r,$),V.push({event:z,listeners:fe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==fu&&(ee=r.relatedTarget||r.fromElement)&&(Dr(ee)||ee[Rr]))break e;if((B||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ee=r.relatedTarget||r.toElement,B=k,ee=ee?Dr(ee):null,ee!==null&&(Ve=u(ee),fe=ee.tag,ee!==Ve||fe!==5&&fe!==27&&fe!==6)&&(ee=null)):(B=null,ee=k),B!==ee)){if(fe=qf,Y="onMouseLeave",N="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Gf,Y="onPointerLeave",N="onPointerEnter",D="pointer"),Ve=B==null?z:ki(B),M=ee==null?z:ki(ee),z=new fe(Y,D+"leave",B,r,$),z.target=Ve,z.relatedTarget=M,Y=null,Dr($)===k&&(fe=new fe(N,D+"enter",ee,r,$),fe.target=M,fe.relatedTarget=Ve,Y=fe),Ve=Y,B&&ee)t:{for(fe=Z0,N=B,D=ee,M=0,Y=N;Y;Y=fe(Y))M++;Y=0;for(var oe=D;oe;oe=fe(oe))Y++;for(;0<M-Y;)N=fe(N),M--;for(;0<Y-M;)D=fe(D),Y--;for(;M--;){if(N===D||D!==null&&N===D.alternate){fe=N;break t}N=fe(N),D=fe(D)}fe=null}else fe=null;B!==null&&kg(V,z,B,fe,!1),ee!==null&&Ve!==null&&kg(V,Ve,ee,fe,!0)}}e:{if(z=k?ki(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ze=Zf;else if(Qf(z))if(Ff)ze=o0;else{ze=s0;var ne=i0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&du(k.elementType)&&(ze=Zf):ze=l0;if(ze&&(ze=ze(e,k))){Jf(V,ze,r,$);break e}ne&&ne(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&cu(z,"number",z.value)}switch(ne=k?ki(k):window,e){case"focusin":(Qf(ne)||ne.contentEditable==="true")&&(Lr=ne,Tu=k,Gi=null);break;case"focusout":Gi=Tu=Lr=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,sh(V,r,$);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":sh(V,r,$)}var Te;if(wu)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ur?Xf(e,r)&&(Ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(Yf&&r.locale!=="ko"&&(Ur||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ur&&(Te=If()):(Ea=$,vu="value"in Ea?Ea.value:Ea.textContent,Ur=!0)),ne=Ql(k,Ce),0<ne.length&&(Ce=new $f(Ce,e,null,r,$),V.push({event:Ce,listeners:ne}),Te?Ce.data=Te:(Te=Pf(r),Te!==null&&(Ce.data=Te)))),(Te=e0?t0(e,r):n0(e,r))&&(Ce=Ql(k,"onBeforeInput"),0<Ce.length&&(ne=new $f("onBeforeInput","beforeinput",null,r,$),V.push({event:ne,listeners:Ce}),ne.data=Te)),X0(V,e,k,r,$)}jg(V,t)})}function ms(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ql(e,t){for(var r=t+"Capture",s=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=zi(e,r),c!=null&&s.unshift(ms(e,c,d)),c=zi(e,t),c!=null&&s.push(ms(e,c,d))),e.tag===3)return s;e=e.return}return[]}function Z0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kg(e,t,r,s,c){for(var d=t._reactName,v=[];r!==null&&r!==s;){var y=r,T=y.alternate,k=y.stateNode;if(y=y.tag,T!==null&&T===s)break;y!==5&&y!==26&&y!==27||k===null||(T=k,c?(k=zi(r,d),k!=null&&v.unshift(ms(r,k,T))):c||(k=zi(r,d),k!=null&&v.push(ms(r,k,T)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var F0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function zg(e){return(typeof e=="string"?e:""+e).replace(F0,`
`).replace(W0,"")}function Ug(e,t){return t=zg(t),zg(e)===t}function Ye(e,t,r,s,c,d){switch(r){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Mr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Mr(e,""+s);break;case"className":Ws(e,"class",s);break;case"tabIndex":Ws(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,r,s);break;case"style":Uf(e,s,d);break;case"data":if(t!=="object"){Ws(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=tl(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Ye(e,t,"name",c.name,c,null),Ye(e,t,"formEncType",c.formEncType,c,null),Ye(e,t,"formMethod",c.formMethod,c,null),Ye(e,t,"formTarget",c.formTarget,c,null)):(Ye(e,t,"encType",c.encType,c,null),Ye(e,t,"method",c.method,c,null),Ye(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=tl(""+s),e.setAttribute(r,s);break;case"onClick":s!=null&&(e.onclick=ta);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}r=tl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":s===!0?e.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":De("beforetoggle",e),De("toggle",e),Fs(e,"popover",s);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ry.get(r)||r,Fs(e,r,s))}}function Zc(e,t,r,s,c,d){switch(r){case"style":Uf(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof s=="string"?Mr(e,s):(typeof s=="number"||typeof s=="bigint")&&Mr(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),d=e[Jt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof s=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,c);break e}r in e?e[r]=s:s===!0?e.setAttribute(r,""):Fs(e,r,s)}}}function kt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ye(e,t,d,v,r,null)}}c&&Ye(e,t,"srcSet",r.srcSet,r,null),s&&Ye(e,t,"src",r.src,r,null);return;case"input":De("invalid",e);var y=d=v=c=null,T=null,k=null;for(s in r)if(r.hasOwnProperty(s)){var $=r[s];if($!=null)switch(s){case"name":c=$;break;case"type":v=$;break;case"checked":T=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ye(e,t,s,$,r,null)}}jf(e,d,y,T,k,v,c,!1);return;case"select":De("invalid",e),s=v=d=null;for(c in r)if(r.hasOwnProperty(c)&&(y=r[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":v=y;break;case"multiple":s=y;default:Ye(e,t,c,y,r,null)}t=d,r=v,e.multiple=!!s,t!=null?jr(e,!!s,t,!1):r!=null&&jr(e,!!s,r,!0);return;case"textarea":De("invalid",e),d=c=s=null;for(v in r)if(r.hasOwnProperty(v)&&(y=r[v],y!=null))switch(v){case"value":s=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Ye(e,t,v,y,r,null)}kf(e,s,c,d);return;case"option":for(T in r)r.hasOwnProperty(T)&&(s=r[T],s!=null)&&(T==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ye(e,t,T,s,r,null));return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<hs.length;s++)De(hs[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(s=r[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ye(e,t,k,s,r,null)}return;default:if(du(t)){for($ in r)r.hasOwnProperty($)&&(s=r[$],s!==void 0&&Zc(e,t,$,s,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(s=r[y],s!=null&&Ye(e,t,y,s,r,null))}function eb(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,v=null,y=null,T=null,k=null,$=null;for(B in r){var V=r[B];if(r.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=V;default:s.hasOwnProperty(B)||Ye(e,t,B,null,s,V)}}for(var z in s){var B=s[z];if(V=r[z],s.hasOwnProperty(z)&&(B!=null||V!=null))switch(z){case"type":d=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":$=B;break;case"value":v=B;break;case"defaultValue":y=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==V&&Ye(e,t,z,B,s,V)}}uu(e,v,y,T,k,$,d,c);return;case"select":B=v=y=z=null;for(d in r)if(T=r[d],r.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":B=T;default:s.hasOwnProperty(d)||Ye(e,t,d,null,s,T)}for(c in s)if(d=s[c],T=r[c],s.hasOwnProperty(c)&&(d!=null||T!=null))switch(c){case"value":z=d;break;case"defaultValue":y=d;break;case"multiple":v=d;default:d!==T&&Ye(e,t,c,d,s,T)}t=y,r=v,s=B,z!=null?jr(e,!!r,z,!1):!!s!=!!r&&(t!=null?jr(e,!!r,t,!0):jr(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(y in r)if(c=r[y],r.hasOwnProperty(y)&&c!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ye(e,t,y,null,s,c)}for(v in s)if(c=s[v],d=r[v],s.hasOwnProperty(v)&&(c!=null||d!=null))switch(v){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Ye(e,t,v,c,s,d)}Mf(e,z,B);return;case"option":for(var ee in r)z=r[ee],r.hasOwnProperty(ee)&&z!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:Ye(e,t,ee,null,s,z));for(T in s)z=s[T],B=r[T],s.hasOwnProperty(T)&&z!==B&&(z!=null||B!=null)&&(T==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Ye(e,t,T,z,s,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in r)z=r[fe],r.hasOwnProperty(fe)&&z!=null&&!s.hasOwnProperty(fe)&&Ye(e,t,fe,null,s,z);for(k in s)if(z=s[k],B=r[k],s.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ye(e,t,k,z,s,B)}return;default:if(du(t)){for(var Ve in r)z=r[Ve],r.hasOwnProperty(Ve)&&z!==void 0&&!s.hasOwnProperty(Ve)&&Zc(e,t,Ve,void 0,s,z);for($ in s)z=s[$],B=r[$],!s.hasOwnProperty($)||z===B||z===void 0&&B===void 0||Zc(e,t,$,z,s,B);return}}for(var N in r)z=r[N],r.hasOwnProperty(N)&&z!=null&&!s.hasOwnProperty(N)&&Ye(e,t,N,null,s,z);for(V in s)z=s[V],B=r[V],!s.hasOwnProperty(V)||z===B||z==null&&B==null||Ye(e,t,V,z,s,B)}function Lg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var c=r[s],d=c.transferSize,v=c.initiatorType,y=c.duration;if(d&&y&&Lg(v)){for(v=0,y=c.responseEnd,s+=1;s<r.length;s++){var T=r[s],k=T.startTime;if(k>y)break;var $=T.transferSize,V=T.initiatorType;$&&Lg(V)&&(T=T.responseEnd,v+=$*(T<y?1:(y-k)/(T-k)))}if(--s,t+=8*(d+v)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fc=null,Wc=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function Bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ig(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var Hg=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(e){return qg.resolve(null).then(e).catch(ib)}:Hg;function ib(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function $g(e,t){var r=t,s=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(s===0){e.removeChild(c),ci(t);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")gs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,gs(r);for(var d=r.firstChild;d;){var v=d.nextSibling,y=d.nodeName;d[Mi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&gs(e.ownerDocument.body);r=c}while(r);ci(t)}function Gg(e,t){var r=e;e=0;do{var s=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=s}while(r)}function nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nd(r),lu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function sb(e,t,r,s){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function lb(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Dn(e.nextSibling),e===null))return null;return e}function Yg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ob(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var id=null;function Vg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Dn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Xg(e,t,r){switch(t=Jl(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lu(e)}var On=new Map,Pg=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=X.d;X.d={f:ub,r:cb,D:db,C:fb,L:hb,m:mb,X:vb,S:gb,M:pb};function ub(){var e=pa.f(),t=$l();return e||t}function cb(e){var t=Or(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):pa.r(e)}var li=typeof document>"u"?null:document;function Qg(e,t,r){var s=li;if(s&&typeof t=="string"&&t){var c=wn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Pg.has(c)||(Pg.add(c),e={rel:e,crossOrigin:r,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),kt(t,"link",e),xt(t),s.head.appendChild(t)))}}function db(e){pa.D(e),Qg("dns-prefetch",e,null)}function fb(e,t){pa.C(e,t),Qg("preconnect",e,t)}function hb(e,t,r){pa.L(e,t,r);var s=li;if(s&&e&&t){var c='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+wn(r.imageSizes)+'"]')):c+='[href="'+wn(e)+'"]';var d=c;switch(t){case"style":d=oi(e);break;case"script":d=ui(e)}On.has(d)||(e=b({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),On.set(d,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(vs(d))||t==="script"&&s.querySelector(ps(d))||(t=s.createElement("link"),kt(t,"link",e),xt(t),s.head.appendChild(t)))}}function mb(e,t){pa.m(e,t);var r=li;if(r&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+wn(s)+'"][href="'+wn(e)+'"]',d=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ui(e)}if(!On.has(d)&&(e=b({rel:"modulepreload",href:e},t),On.set(d,e),r.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ps(d)))return}s=r.createElement("link"),kt(s,"link",e),xt(s),r.head.appendChild(s)}}}function gb(e,t,r){pa.S(e,t,r);var s=li;if(s&&e){var c=Cr(s).hoistableStyles,d=oi(e);t=t||"default";var v=c.get(d);if(!v){var y={loading:0,preload:null};if(v=s.querySelector(vs(d)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},r),(r=On.get(d))&&sd(e,r);var T=v=s.createElement("link");xt(T),kt(T,"link",e),T._p=new Promise(function(k,$){T.onload=k,T.onerror=$}),T.addEventListener("load",function(){y.loading|=1}),T.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Fl(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:y},c.set(d,v)}}}function vb(e,t){pa.X(e,t);var r=li;if(r&&e){var s=Cr(r).hoistableScripts,c=ui(e),d=s.get(c);d||(d=r.querySelector(ps(c)),d||(e=b({src:e,async:!0},t),(t=On.get(c))&&ld(e,t),d=r.createElement("script"),xt(d),kt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function pb(e,t){pa.M(e,t);var r=li;if(r&&e){var s=Cr(r).hoistableScripts,c=ui(e),d=s.get(c);d||(d=r.querySelector(ps(c)),d||(e=b({src:e,async:!0,type:"module"},t),(t=On.get(c))&&ld(e,t),d=r.createElement("script"),xt(d),kt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Jg(e,t,r,s){var c=(c=ie.current)?Zl(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=oi(r.href),r=Cr(c).hoistableStyles,s=r.get(t),s||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=oi(r.href);var d=Cr(c).hoistableStyles,v=d.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=c.querySelector(vs(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),d||yb(c,e,r,v.state))),t&&s===null)throw Error(l(528,""));return v}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ui(r),r=Cr(c).hoistableScripts,s=r.get(t),s||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function oi(e){return'href="'+wn(e)+'"'}function vs(e){return'link[rel="stylesheet"]['+e+"]"}function Zg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function yb(e,t,r,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),kt(t,"link",r),xt(t),e.head.appendChild(t))}function ui(e){return'[src="'+wn(e)+'"]'}function ps(e){return"script[async]"+e}function Fg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+wn(r.href)+'"]');if(s)return t.instance=s,xt(s),s;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),xt(s),kt(s,"style",c),Fl(s,r.precedence,e),t.instance=s;case"stylesheet":c=oi(r.href);var d=e.querySelector(vs(c));if(d)return t.state.loading|=4,t.instance=d,xt(d),d;s=Zg(r),(c=On.get(c))&&sd(s,c),d=(e.ownerDocument||e).createElement("link"),xt(d);var v=d;return v._p=new Promise(function(y,T){v.onload=y,v.onerror=T}),kt(d,"link",s),t.state.loading|=4,Fl(d,r.precedence,e),t.instance=d;case"script":return d=ui(r.src),(c=e.querySelector(ps(d)))?(t.instance=c,xt(c),c):(s=r,(c=On.get(d))&&(s=b({},r),ld(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),xt(c),kt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fl(s,r.precedence,e));return t.instance}function Fl(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,d=c,v=0;v<s.length;v++){var y=s[v];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ld(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wl=null;function Wg(e,t,r){if(Wl===null){var s=new Map,c=Wl=new Map;c.set(r,s)}else c=Wl,s=c.get(r),s||(s=new Map,c.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[Mi]||d[Ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var y=s.get(v);y?y.push(d):s.set(v,[d])}}return s}function ev(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function bb(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,t,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=oi(s.href),d=t.querySelector(vs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=eo.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,xt(d);return}d=t.ownerDocument||t,s=Zg(s),(c=On.get(c))&&sd(s,c),d=d.createElement("link"),xt(d);var v=d;v._p=new Promise(function(y,T){v.onload=y,v.onerror=T}),kt(d,"link",s),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=eo.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var od=0;function wb(e,t){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var s=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&od===0&&(od=62500*tb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,t.forEach(Sb,e),to=null,eo.call(e))}function Sb(e,t){if(!(t.state.loading&4)){var r=to.get(e);if(r)var s=r.get(null);else{r=new Map,to.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var v=c[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),s=v)}s&&r.set(null,s)}c=t.instance,v=c.getAttribute("data-precedence"),d=r.get(v)||s,d===s&&r.set(null,c),r.set(v,c),this.count++,s=eo.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ys={$$typeof:U,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Eb(e,t,r,s,c,d,v,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function nv(e,t,r,s,c,d,v,y,T,k,$,V){return e=new Eb(e,t,r,v,T,k,$,V,y),t=1,d===!0&&(t|=24),d=ln(3,null,null,t),e.current=d,d.stateNode=e,t=qu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:r,cache:t},Vu(d),e}function av(e){return e?(e=Hr,e):Hr}function rv(e,t,r,s,c,d){c=av(c),s.context===null?s.context=c:s.pendingContext=c,s=Oa(t),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ca(e,s,t),r!==null&&(nn(r,e,t),Ji(r,e,t))}function iv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ud(e,t){iv(e,t),(e=e.alternate)&&iv(e,t)}function sv(e){if(e.tag===13||e.tag===31){var t=tr(e,67108864);t!==null&&nn(t,e,67108864),ud(e,67108864)}}function lv(e){if(e.tag===13||e.tag===31){var t=fn();t=Fn(t);var r=tr(e,t);r!==null&&nn(r,e,t),ud(e,t)}}var ao=!0;function xb(e,t,r,s){var c=E.T;E.T=null;var d=X.p;try{X.p=2,cd(e,t,r,s)}finally{X.p=d,E.T=c}}function Tb(e,t,r,s){var c=E.T;E.T=null;var d=X.p;try{X.p=8,cd(e,t,r,s)}finally{X.p=d,E.T=c}}function cd(e,t,r,s){if(ao){var c=dd(s);if(c===null)Jc(e,t,s,ro,r),uv(e,s);else if(Rb(c,e,t,r,s))s.stopPropagation();else if(uv(e,s),t&4&&-1<Ab.indexOf(e)){for(;c!==null;){var d=Or(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ot(d.pendingLanes);if(v!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;v;){var T=1<<31-pt(v);y.entanglements[1]|=T,v&=~T}Pn(d),(Le&6)===0&&(Hl=ke()+500,fs(0))}}break;case 31:case 13:y=tr(d,2),y!==null&&nn(y,d,2),$l(),ud(d,2)}if(d=dd(s),d===null&&Jc(e,t,s,ro,r),d===c)break;c=d}c!==null&&s.stopPropagation()}else Jc(e,t,s,null,r)}}function dd(e){return e=hu(e),fd(e)}var ro=null;function fd(e){if(ro=null,e=Dr(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ro=e,null}function ov(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case St:return 2;case It:return 8;case Ht:case vn:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var hd=!1,qa=null,$a=null,Ga=null,bs=new Map,_s=new Map,Ya=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function ws(e,t,r,s,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Or(t),t!==null&&sv(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Rb(e,t,r,s,c){switch(t){case"focusin":return qa=ws(qa,e,t,r,s,c),!0;case"dragenter":return $a=ws($a,e,t,r,s,c),!0;case"mouseover":return Ga=ws(Ga,e,t,r,s,c),!0;case"pointerover":var d=c.pointerId;return bs.set(d,ws(bs.get(d)||null,e,t,r,s,c)),!0;case"gotpointercapture":return d=c.pointerId,_s.set(d,ws(_s.get(d)||null,e,t,r,s,c)),!0}return!1}function cv(e){var t=Dr(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,Sa(e.priority,function(){lv(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,Sa(e.priority,function(){lv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);fu=s,r.target.dispatchEvent(s),fu=null}else return t=Or(r),t!==null&&sv(t),e.blockedOn=r,!1;t.shift()}return!0}function dv(e,t,r){io(e)&&r.delete(t)}function Db(){hd=!1,qa!==null&&io(qa)&&(qa=null),$a!==null&&io($a)&&($a=null),Ga!==null&&io(Ga)&&(Ga=null),bs.forEach(dv),_s.forEach(dv)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Db)))}var lo=null;function fv(e){lo!==e&&(lo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(fd(s||r)===null)continue;break}var d=Or(r);d!==null&&(e.splice(t,3),t-=3,dc(d,{pending:!0,data:c,method:r.method,action:s},s,c))}}))}function ci(e){function t(T){return so(T,e)}qa!==null&&so(qa,e),$a!==null&&so($a,e),Ga!==null&&so(Ga,e),bs.forEach(t),_s.forEach(t);for(var r=0;r<Ya.length;r++){var s=Ya[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ya.length&&(r=Ya[0],r.blockedOn===null);)cv(r),r.blockedOn===null&&Ya.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var c=r[s],d=r[s+1],v=c[Jt]||null;if(typeof d=="function")v||fv(r);else if(v){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,v=d[Jt]||null)y=v.formAction;else if(fd(c)!==null)continue}else y=v.action;typeof y=="function"?r[s+1]=y:(r.splice(s,3),s-=3),fv(r)}}}function hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function md(e){this._internalRoot=e}oo.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,s=fn();rv(r,s,e,t,null,null)},oo.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rv(e.current,2,null,e,null,null),$l(),t[Rr]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mn();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ya.length&&t!==0&&t<Ya[r].priority;r++);Ya.splice(r,0,e),r===0&&cv(e)}};var mv=n.version;if(mv!=="19.2.4")throw Error(l(527,mv,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Zn=uo.inject(Ob),Ot=uo}catch{}}return Es.createRoot=function(e,t){if(!o(e))throw Error(l(299));var r=!1,s="",c=wm,d=Sm,v=Em;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=nv(e,1,!1,null,null,r,s,null,c,d,v,hv),e[Rr]=t.current,Qc(e),new md(t)},Es.hydrateRoot=function(e,t,r){if(!o(e))throw Error(l(299));var s=!1,c="",d=wm,v=Sm,y=Em,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),t=nv(e,1,!0,t,r??null,s,c,T,d,v,y,hv),t.context=av(null),r=t.current,s=fn(),s=Fn(s),c=Oa(s),c.callback=null,Ca(r,c,s),r=s,t.current.lanes=r,pn(t,r),Pn(t),e[Rr]=t.current,Qc(e),new oo(t)},Es.version="19.2.4",Es}var xv;function Ib(){if(xv)return pd.exports;xv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),pd.exports=Bb(),pd.exports}var Hb=Ib();const Tv=a=>{let n;const i=new Set,l=(g,p)=>{const b=typeof g=="function"?g(n):g;if(!Object.is(b,n)){const w=n;n=p??(typeof b!="object"||b===null)?b:Object.assign({},n,b),i.forEach(_=>_(n,w))}},o=()=>n,h={setState:l,getState:o,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g))},m=n=a(l,o,h);return h},qb=(a=>a?Tv(a):Tv),$b=a=>a;function Gb(a,n=$b){const i=Rt.useSyncExternalStore(a.subscribe,Rt.useCallback(()=>n(a.getState()),[a,n]),Rt.useCallback(()=>n(a.getInitialState()),[a,n]));return Rt.useDebugValue(i),i}const Av=a=>{const n=qb(a),i=l=>Gb(n,l);return Object.assign(i,n),i},wp=(a=>a?Av(a):Av);var Sp=Symbol.for("immer-nothing"),Rv=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function Hn(a,...n){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var gn=Object,Ai=gn.getPrototypeOf,Ao="constructor",Go="prototype",zd="configurable",Ro="enumerable",Eo="writable",Ms="value",Qa=a=>!!a&&!!a[Kt];function _a(a){return a?Ep(a)||Vo(a)||!!a[Rv]||!!a[Ao]?.[Rv]||Ko(a)||Xo(a):!1}var Yb=gn[Go][Ao].toString(),Dv=new WeakMap;function Ep(a){if(!a||!of(a))return!1;const n=Ai(a);if(n===null||n===gn[Go])return!0;const i=gn.hasOwnProperty.call(n,Ao)&&n[Ao];if(i===Object)return!0;if(!yi(i))return!1;let l=Dv.get(i);return l===void 0&&(l=Function.toString.call(i),Dv.set(i,l)),l===Yb}function Yo(a,n,i=!0){Ks(a)===0?(i?Reflect.ownKeys(a):gn.keys(a)).forEach(o=>{n(o,a[o],a)}):a.forEach((l,o)=>n(o,l,a))}function Ks(a){const n=a[Kt];return n?n.type_:Vo(a)?1:Ko(a)?2:Xo(a)?3:0}var Ov=(a,n,i=Ks(a))=>i===2?a.has(n):gn[Go].hasOwnProperty.call(a,n),Ud=(a,n,i=Ks(a))=>i===2?a.get(n):a[n],Do=(a,n,i,l=Ks(a))=>{l===2?a.set(n,i):l===3?a.add(i):a[n]=i};function Vb(a,n){return a===n?a!==0||1/a===1/n:a!==a&&n!==n}var Vo=Array.isArray,Ko=a=>a instanceof Map,Xo=a=>a instanceof Set,of=a=>typeof a=="object",yi=a=>typeof a=="function",wd=a=>typeof a=="boolean";function Kb(a){const n=+a;return Number.isInteger(n)&&String(n)===a}var ba=a=>a.copy_||a.base_,uf=a=>a.modified_?a.copy_:a.base_;function Ld(a,n){if(Ko(a))return new Map(a);if(Xo(a))return new Set(a);if(Vo(a))return Array[Go].slice.call(a);const i=Ep(a);if(n===!0||n==="class_only"&&!i){const l=gn.getOwnPropertyDescriptors(a);delete l[Kt];let o=Reflect.ownKeys(l);for(let u=0;u<o.length;u++){const f=o[u],h=l[f];h[Eo]===!1&&(h[Eo]=!0,h[zd]=!0),(h.get||h.set)&&(l[f]={[zd]:!0,[Eo]:!0,[Ro]:h[Ro],[Ms]:a[f]})}return gn.create(Ai(a),l)}else{const l=Ai(a);if(l!==null&&i)return{...a};const o=gn.create(l);return gn.assign(o,a)}}function cf(a,n=!1){return Po(a)||Qa(a)||!_a(a)||(Ks(a)>1&&gn.defineProperties(a,{set:co,add:co,clear:co,delete:co}),gn.freeze(a),n&&Yo(a,(i,l)=>{cf(l,!0)},!1)),a}function Xb(){Hn(2)}var co={[Ms]:Xb};function Po(a){return a===null||!of(a)?!0:gn.isFrozen(a)}var Oo="MapSet",Bd="Patches",Cv="ArrayMethods",xp={};function _r(a){const n=xp[a];return n||Hn(0,a),n}var Nv=a=>!!xp[a],ks,Tp=()=>ks,Pb=(a,n)=>({drafts_:[],parent_:a,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Nv(Oo)?_r(Oo):void 0,arrayMethodsPlugin_:Nv(Cv)?_r(Cv):void 0});function jv(a,n){n&&(a.patchPlugin_=_r(Bd),a.patches_=[],a.inversePatches_=[],a.patchListener_=n)}function Id(a){Hd(a),a.drafts_.forEach(Qb),a.drafts_=null}function Hd(a){a===ks&&(ks=a.parent_)}var Mv=a=>ks=Pb(ks,a);function Qb(a){const n=a[Kt];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function kv(a,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];if(a!==void 0&&a!==i){i[Kt].modified_&&(Id(n),Hn(4)),_a(a)&&(a=zv(n,a));const{patchPlugin_:o}=n;o&&o.generateReplacementPatches_(i[Kt].base_,a,n)}else a=zv(n,i);return Jb(n,a,!0),Id(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),a!==Sp?a:void 0}function zv(a,n){if(Po(n))return n;const i=n[Kt];if(!i)return Co(n,a.handledSet_,a);if(!Qo(i,a))return n;if(!i.modified_)return i.base_;if(!i.finalized_){const{callbacks_:l}=i;if(l)for(;l.length>0;)l.pop()(a);Dp(i,a)}return i.copy_}function Jb(a,n,i=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&cf(n,i)}function Ap(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var Qo=(a,n)=>a.scope_===n,Zb=[];function Rp(a,n,i,l){const o=ba(a),u=a.type_;if(l!==void 0&&Ud(o,l,u)===n){Do(o,l,i,u);return}if(!a.draftLocations_){const h=a.draftLocations_=new Map;Yo(o,(m,g)=>{if(Qa(g)){const p=h.get(g)||[];p.push(m),h.set(g,p)}})}const f=a.draftLocations_.get(n)??Zb;for(const h of f)Do(o,h,i,u)}function Fb(a,n,i){a.callbacks_.push(function(o){const u=n;if(!u||!Qo(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const f=uf(u);Rp(a,u.draft_??u,f,i),Dp(u,o)})}function Dp(a,n){if(a.modified_&&!a.finalized_&&(a.type_===3||a.type_===1&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){const{patchPlugin_:l}=n;if(l){const o=l.getPath(a);o&&l.generatePatches_(a,o,n)}Ap(a)}}function Wb(a,n,i){const{scope_:l}=a;if(Qa(i)){const o=i[Kt];Qo(o,l)&&o.callbacks_.push(function(){xo(a);const f=uf(o);Rp(a,i,f,n)})}else _a(i)&&a.callbacks_.push(function(){const u=ba(a);a.type_===3?u.has(i)&&Co(i,l.handledSet_,l):Ud(u,n,a.type_)===i&&l.drafts_.length>1&&(a.assigned_.get(n)??!1)===!0&&a.copy_&&Co(Ud(a.copy_,n,a.type_),l.handledSet_,l)})}function Co(a,n,i){return!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||Qa(a)||n.has(a)||!_a(a)||Po(a)||(n.add(a),Yo(a,(l,o)=>{if(Qa(o)){const u=o[Kt];if(Qo(u,i)){const f=uf(u);Do(a,l,f,a.type_),Ap(u)}}else _a(o)&&Co(o,n,i)})),a}function e_(a,n){const i=Vo(a),l={type_:i?1:0,scope_:n?n.scope_:Tp(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=l,u=No;i&&(o=[l],u=zs);const{revoke:f,proxy:h}=Proxy.revocable(o,u);return l.draft_=h,l.revoke_=f,[h,l]}var No={get(a,n){if(n===Kt)return a;let i=a.scope_.arrayMethodsPlugin_;const l=a.type_===1&&typeof n=="string";if(l&&i?.isArrayOperationMethod(n))return i.createMethodInterceptor(a,n);const o=ba(a);if(!Ov(o,n,a.type_))return t_(a,o,n);const u=o[n];if(a.finalized_||!_a(u)||l&&a.operationMethod&&i?.isMutatingArrayMethod(a.operationMethod)&&Kb(n))return u;if(u===Sd(a.base_,n)){xo(a);const f=a.type_===1?+n:n,h=$d(a.scope_,u,a,f);return a.copy_[f]=h}return u},has(a,n){return n in ba(a)},ownKeys(a){return Reflect.ownKeys(ba(a))},set(a,n,i){const l=Op(ba(a),n);if(l?.set)return l.set.call(a.draft_,i),!0;if(!a.modified_){const o=Sd(ba(a),n),u=o?.[Kt];if(u&&u.base_===i)return a.copy_[n]=i,a.assigned_.set(n,!1),!0;if(Vb(i,o)&&(i!==void 0||Ov(a.base_,n,a.type_)))return!0;xo(a),qd(a)}return a.copy_[n]===i&&(i!==void 0||n in a.copy_)||Number.isNaN(i)&&Number.isNaN(a.copy_[n])||(a.copy_[n]=i,a.assigned_.set(n,!0),Wb(a,n,i)),!0},deleteProperty(a,n){return xo(a),Sd(a.base_,n)!==void 0||n in a.base_?(a.assigned_.set(n,!1),qd(a)):a.assigned_.delete(n),a.copy_&&delete a.copy_[n],!0},getOwnPropertyDescriptor(a,n){const i=ba(a),l=Reflect.getOwnPropertyDescriptor(i,n);return l&&{[Eo]:!0,[zd]:a.type_!==1||n!=="length",[Ro]:l[Ro],[Ms]:i[n]}},defineProperty(){Hn(11)},getPrototypeOf(a){return Ai(a.base_)},setPrototypeOf(){Hn(12)}},zs={};for(let a in No){let n=No[a];zs[a]=function(){const i=arguments;return i[0]=i[0][0],n.apply(this,i)}}zs.deleteProperty=function(a,n){return zs.set.call(this,a,n,void 0)};zs.set=function(a,n,i){return No.set.call(this,a[0],n,i,a[0])};function Sd(a,n){const i=a[Kt];return(i?ba(i):a)[n]}function t_(a,n,i){const l=Op(n,i);return l?Ms in l?l[Ms]:l.get?.call(a.draft_):void 0}function Op(a,n){if(!(n in a))return;let i=Ai(a);for(;i;){const l=Object.getOwnPropertyDescriptor(i,n);if(l)return l;i=Ai(i)}}function qd(a){a.modified_||(a.modified_=!0,a.parent_&&qd(a.parent_))}function xo(a){a.copy_||(a.assigned_=new Map,a.copy_=Ld(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var n_=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,l)=>{if(yi(n)&&!yi(i)){const u=i;i=n;const f=this;return function(m=u,...g){return f.produce(m,p=>i.call(this,p,...g))}}yi(i)||Hn(6),l!==void 0&&!yi(l)&&Hn(7);let o;if(_a(n)){const u=Mv(this),f=$d(u,n,void 0);let h=!0;try{o=i(f),h=!1}finally{h?Id(u):Hd(u)}return jv(u,l),kv(o,u)}else if(!n||!of(n)){if(o=i(n),o===void 0&&(o=n),o===Sp&&(o=void 0),this.autoFreeze_&&cf(o,!0),l){const u=[],f=[];_r(Bd).generateReplacementPatches_(n,o,{patches_:u,inversePatches_:f}),l(u,f)}return o}else Hn(1,n)},this.produceWithPatches=(n,i)=>{if(yi(n))return(f,...h)=>this.produceWithPatches(f,m=>n(m,...h));let l,o;return[this.produce(n,i,(f,h)=>{l=f,o=h}),l,o]},wd(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),wd(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),wd(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){_a(a)||Hn(8),Qa(a)&&(a=a_(a));const n=Mv(this),i=$d(n,a,void 0);return i[Kt].isManual_=!0,Hd(n),i}finishDraft(a,n){const i=a&&a[Kt];(!i||!i.isManual_)&&Hn(9);const{scope_:l}=i;return jv(l,n),kv(void 0,l)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,n){let i;for(i=n.length-1;i>=0;i--){const o=n[i];if(o.path.length===0&&o.op==="replace"){a=o.value;break}}i>-1&&(n=n.slice(i+1));const l=_r(Bd).applyPatches_;return Qa(a)?l(a,n):this.produce(a,o=>l(o,n))}};function $d(a,n,i,l){const[o,u]=Ko(n)?_r(Oo).proxyMap_(n,i):Xo(n)?_r(Oo).proxySet_(n,i):e_(n,i);return(i?.scope_??Tp()).drafts_.push(o),u.callbacks_=i?.callbacks_??[],u.key_=l,i&&l!==void 0?Fb(i,u,l):u.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:g}=m;u.modified_&&g&&g.generatePatches_(u,[],m)}),o}function a_(a){return Qa(a)||Hn(10,a),Cp(a)}function Cp(a){if(!_a(a)||Po(a))return a;const n=a[Kt];let i,l=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=Ld(a,n.scope_.immer_.useStrictShallowCopy_),l=n.scope_.immer_.shouldUseStrictIteration()}else i=Ld(a,!0);return Yo(i,(o,u)=>{Do(i,o,Cp(u))},l),n&&(n.finalized_=!1),i}var r_=new n_,i_=r_.produce;const s_=a=>(n,i,l)=>(l.setState=(o,u,...f)=>{const h=typeof o=="function"?i_(o):o;return n(h,u,...f)},a(l.setState,i,l)),l_=s_,df=120,ff=180,wr=40,Ja=40,jo=30,Gd=(Ja-jo)/2,Sr=28,Np=20,o_=(Sr-Np)/2,Jo=24,jp=16,u_=(Jo-jp)/2,Mo=4,c_=14,d_="#4472C4",f_=52,Yd=50,h_=340,m_=2e3,Uv=8,Rs=["#4472C4","#548235","#BF8F00","#C00000","#7030A0","#00B0F0","#FFC000","#ED7D31"],g_={"discovery-design":"Discovery / Design","implementation-build":"Implementation / Build","testing-release":"Testing / Release","ongoing-continuous":"Ongoing / Continuous","fbn-led-work":"FBN-Led Work"},Nn=80,fo={"discovery-design":"Discovery","implementation-build":"Build","testing-release":"Testing","ongoing-continuous":"Ongoing","fbn-led-work":"FBN-Led"},Mp=["#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5","#EFF6FF","#F0FDF4","#FFFBEB","#FFF1F2","#F5F3FF","#ECFDF5"],kp={timelineStartDate:"2025-12-22",timelineEndDate:"2026-12-31"};function ko(a,n,i,l){return a.some(o=>o.id!==n&&i<o.endDate&&l>o.startDate)}function Ei(a,n,i,l){return a.some(o=>o.id!==n&&i<o.endDate&&l>o.startDate)}function Zo(a,n){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(i[l[o]]=a[l[o]]);return i}function v_(a,n,i,l){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(p){try{g(l.next(p))}catch(b){f(b)}}function m(p){try{g(l.throw(p))}catch(b){f(b)}}function g(p){p.done?u(p.value):o(p.value).then(h,m)}g((l=l.apply(a,n||[])).next())})}const p_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class hf extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class y_ extends hf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Lv extends hf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Bv extends hf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Vd||(Vd={}));class b_{constructor(n,{headers:i={},customFetch:l,region:o=Vd.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=p_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return v_(this,arguments,void 0,function*(i,l={}){var o;let u,f;try{const{headers:h,method:m,body:g,signal:p,timeout:b}=l;let w={},{region:_}=l;_||(_=this.region);const A=new URL(`${this.url}/${i}`);_&&_!=="any"&&(w["x-region"]=_,A.searchParams.set("forceFunctionRegion",_));let C;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(w["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(w["Content-Type"]="application/json",C=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?C=JSON.stringify(g):C=g;let j=p;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),p?(j=f.signal,p.addEventListener("abort",()=>f.abort())):j=f.signal);const L=yield this.fetch(A.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:C,signal:j}).catch(I=>{throw new y_(I)}),q=L.headers.get("x-relay-error");if(q&&q==="true")throw new Lv(L);if(!L.ok)throw new Bv(L);let U=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return U==="application/json"?O=yield L.json():U==="application/octet-stream"||U==="application/pdf"?O=yield L.blob():U==="text/event-stream"?O=L:U==="multipart/form-data"?O=yield L.formData():O=yield L.text(),{data:O,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof Bv||h instanceof Lv?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var __=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},w_=class{constructor(a){var n,i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(l=a.urlLengthLimit)!==null&&l!==void 0?l:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,h=null,m=null,g=u.status,p=u.statusText;if(u.ok){var b,w;if(i.method!=="HEAD"){var _;const L=await u.text();L===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((_=i.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=L:h=JSON.parse(L))}const C=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),j=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");C&&j&&j.length>1&&(m=parseInt(j[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const C=await u.text();try{f=JSON.parse(C),Array.isArray(f)&&u.status===404&&(h=[],f=null,g=200,p="OK")}catch{u.status===404&&C===""?(g=204,p="No Content"):f={message:C}}if(f&&i.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,g=200,p="OK"),f&&i.shouldThrowOnError)throw new __(f)}return{error:f,data:h,count:m,status:g,statusText:p}});return this.shouldThrowOnError||(o=o.catch(u=>{var f;let h="",m="",g="";const p=u?.cause;if(p){var b,w,_,A;const L=(b=p?.message)!==null&&b!==void 0?b:"",q=(w=p?.code)!==null&&w!==void 0?w:"";h=`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(A=p?.name)!==null&&A!==void 0?A:"Error"}: ${L}`,q&&(h+=` (${q})`),p?.stack&&(h+=`
${p.stack}`)}else{var C;h=(C=u?.stack)!==null&&C!==void 0?C:""}const j=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:h,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},S_=class extends w_{select(a){let n=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(u,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var f;const h=[a?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const Iv=new RegExp("[,()]");var bi=class extends S_{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Iv.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Iv.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${o}fts${u}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},E_=class{constructor(a,{headers:n={},schema:i,fetch:l,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:l}=n??{},o=i?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",f),l&&m.append("Prefer",`count=${l}`),new bi({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:i=!0}={}){var l;const o="POST",{url:u,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new bi({method:o,url:u,headers:f,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:o=!0}={}){var u;const f="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),o||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",p.join(","))}}return new bi({method:f,url:h,headers:m,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var i;const l="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new bi({method:l,url:o,headers:u,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const i="DELETE",{url:l,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new bi({method:i,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Us(a){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Us(a)}function x_(a,n){if(Us(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if(Us(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function T_(a){var n=x_(a,"string");return Us(n)=="symbol"?n:n+""}function A_(a,n,i){return(n=T_(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Hv(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function ho(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Hv(Object(i),!0).forEach(function(l){A_(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Hv(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}var R_=class zp{constructor(n,{headers:i={},schema:l,fetch:o,timeout:u,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.urlLengthLimit=f;const h=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,g)=>{const p=new AbortController,b=setTimeout(()=>p.abort(),u),w=g?.signal;if(w){if(w.aborted)return clearTimeout(b),h(m,g);const _=()=>{clearTimeout(b),p.abort()};return w.addEventListener("abort",_,{once:!0}),h(m,ho(ho({},g),{},{signal:p.signal})).finally(()=>{clearTimeout(b),w.removeEventListener("abort",_)})}return h(m,ho(ho({},g),{},{signal:p.signal})).finally(()=>clearTimeout(b))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new E_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new zp(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:l=!1,get:o=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),b=l&&Object.values(i).some(p);b?(h="POST",g=i):l||o?(h=l?"HEAD":"GET",Object.entries(i).filter(([_,A])=>A!==void 0).map(([_,A])=>[_,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([_,A])=>{m.searchParams.append(_,A)})):(h="POST",g=i);const w=new Headers(this.headers);return b?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new bi({method:h,url:m,headers:w,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class D_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const o=l.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const O_="2.95.3",C_=`realtime-js/${O_}`,N_="1.0.0",Up="2.0.0",qv=Up,Kd=1e4,j_=1e3,M_=100;var Ka;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ka||(Ka={}));var _t;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(_t||(_t={}));var In;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(In||(In={}));var Xd;(function(a){a.websocket="websocket"})(Xd||(Xd={}));var pr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(pr||(pr={}));class k_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var o,u;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,p=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(_),C=0;A.setUint8(C++,this.KINDS.userBroadcastPush),A.setUint8(C++,m.length),A.setUint8(C++,h.length),A.setUint8(C++,f.length),A.setUint8(C++,g.length),A.setUint8(C++,b.length),A.setUint8(C++,i),Array.from(m,L=>A.setUint8(C++,L.charCodeAt(0))),Array.from(h,L=>A.setUint8(C++,L.charCodeAt(0))),Array.from(f,L=>A.setUint8(C++,L.charCodeAt(0))),Array.from(g,L=>A.setUint8(C++,L.charCodeAt(0))),Array.from(b,L=>A.setUint8(C++,L.charCodeAt(0)));var j=new Uint8Array(_.byteLength+l.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(l),_.byteLength),j.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,u,f,h,m]=l;return i({join_ref:o,ref:u,topic:f,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,l){const o=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const p=l.decode(n.slice(m,m+u));m=m+u;const b=l.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),_=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,A={type:this.BROADCAST_EVENT,event:p,payload:_};return f>0&&(A.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class Lp{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Qe||(Qe={}));const $v=(a,n,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=z_(f,a,n,o),u),{}):{}},z_=(a,n,i,l)=>{const o=n.find(h=>h.name===a),u=o?.type,f=i[a];return u&&!l.includes(u)?Bp(u,f):Pd(f)},Bp=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return I_(n,i)}switch(a){case Qe.bool:return U_(n);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return L_(n);case Qe.json:case Qe.jsonb:return B_(n);case Qe.timestamp:return H_(n);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Pd(n);default:return Pd(n)}},Pd=a=>a,U_=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},L_=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},B_=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},I_=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,l=a[i];if(a[0]==="{"&&l==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>Bp(n,h))}return a},H_=a=>typeof a=="string"?a.replace(" ","T"):a,Ip=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ed{constructor(n,i,l={},o=Kd){this.channel=n,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Gv;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Gv||(Gv={}));class Ds{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=Ds.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ds.syncDiff(this.state,o,u,f),h())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,o){const u=this.cloneDeep(n),f=this.transformState(i),h={},m={};return this.map(u,(g,p)=>{f[g]||(m[g]=p)}),this.map(f,(g,p)=>{const b=u[g];if(b){const w=p.map(j=>j.presence_ref),_=b.map(j=>j.presence_ref),A=p.filter(j=>_.indexOf(j.presence_ref)<0),C=b.filter(j=>w.indexOf(j.presence_ref)<0);A.length>0&&(h[g]=A),C.length>0&&(m[g]=C)}else h[g]=p}),this.syncDiff(u,{joins:h,leaves:m},l,o)}static syncDiff(n,i,l,o){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var g;const p=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),p.length>0){const b=n[h].map(_=>_.presence_ref),w=p.filter(_=>b.indexOf(_.presence_ref)<0);n[h].unshift(...w)}l(h,p,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const p=m.map(b=>b.presence_ref);g=g.filter(b=>p.indexOf(b.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const o=n[l];return"metas"in o?i[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[l]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yv;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Yv||(Yv={}));var Os;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Os||(Os={}));var ya;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class Si{constructor(n,i={config:{}},l){var o,u;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ed(this,In.join,this.params,this.timeout),this.rejoinTimer=new Lp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Ds(this),this.broadcastEndpointURL=Ip(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(ya.CHANNEL_ERROR,_)),this._onClose(()=>n?.(ya.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){n?.(ya.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,j=(A=C?.length)!==null&&A!==void 0?A:0,L=[];for(let q=0;q<j;q++){const U=C[q],{filter:{event:O,schema:I,table:G,filter:K}}=U,Q=_&&_[q];if(Q&&Q.event===O&&Si.isFilterValueEqual(Q.schema,I)&&Si.isFilterValueEqual(Q.table,G)&&Si.isFilterValueEqual(Q.filter,K))L.push(Object.assign(Object.assign({},U),{id:Q.id}));else{this.unsubscribe(),this.state=_t.errored,n?.(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(ya.SUBSCRIBED);return}}).receive("error",_=>{this.state=_t.errored,n?.(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===_t.joined&&n===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=_t.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Ed(this,In.leave,{},n),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ed(this,n,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>M_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var o,u;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:p}=In;if(l&&[h,m,g,p].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,C,j;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((j=(C=_.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(_=>_.callback(w,l)):(u=this.bindings[f])===null||u===void 0||u.filter(_=>{var A,C,j,L,q,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const O=_.id,I=(A=_.filter)===null||A===void 0?void 0:A.event;return O&&((C=i.ids)===null||C===void 0?void 0:C.includes(O))&&(I==="*"||I?.toLocaleLowerCase()===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const O=(q=(L=_?.filter)===null||L===void 0?void 0:L.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return O==="*"||O===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:C,table:j,commit_timestamp:L,type:q,errors:U}=A;w=Object.assign(Object.assign({},{schema:C,table:j,commit_timestamp:L,eventType:q,new:{},old:{},errors:U}),this._getPayloadRecords(A))}_.callback(w,l)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const o=n.toLocaleLowerCase(),u={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Si.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(In.close,{},n)}_onError(n){this._on(In.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=$v(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=$v(n.columns,n.old_record)),i}}const xd=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q_=[1e3,2e3,5e3,1e4],$_=1e4,G_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y_{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kd,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.vsn=qv,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new k_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Xd.websocket}`,this.httpEndpoint=Ip(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ka.connecting:return pr.Connecting;case Ka.open:return pr.Open;case Ka.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new Si(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:l,payload:o,ref:u}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${l} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(j_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:u,ref:f}=i,h=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ka.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ka.open||this.conn.readyState===Ka.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(In.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${l}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([G_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:C_};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(In.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Lp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,o,u,f,h,m,g,p,b,w,_;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Kd,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:mo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:xd,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:qv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(A=>q_[A-1]||$_),this.vsn){case N_:this.encode=(p=n?.encode)!==null&&p!==void 0?p:((A,C)=>C(JSON.stringify(A))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((A,C)=>C(JSON.parse(A)));break;case Up:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=n?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ls=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V_(a,n,i){const l=new URL(n,a);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&l.searchParams.set(o,u);return l.toString()}async function K_(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function X_(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:u,headers:f}){const h=V_(a.baseUrl,l,o),m=await K_(a.auth),g=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),p=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),w=b&&p?JSON.parse(p):p;if(!g.ok){const _=b?w:void 0,A=_?.error;throw new Ls(A?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:A?.type,icebergCode:A?.code,details:_})}return{status:g.status,headers:g.headers,data:w}}}}function go(a){return a.join("")}var P_=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:go(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${go(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${go(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${go(a.namespace)}`}),!0}catch(n){if(n instanceof Ls&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Ls&&i.status===409)return;throw i}}};function di(a){return a.join("")}var Q_=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${di(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Ls&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Ls&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},J_=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=X_({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new P_(this.client,n),this.tableOps=new Q_(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Fo=class extends Error{constructor(a,n="storage",i,l){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=l}};function Wo(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var vo=class extends Fo{constructor(a,n,i,l="storage"){super(a,l,n,i),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hp=class extends Fo{constructor(a,n,i="storage"){super(a,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Z_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),F_=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Qd=a=>{if(Array.isArray(a))return a.map(i=>Qd(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Qd(l)}),n},W_=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Bs(a){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bs(a)}function ew(a,n){if(Bs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if(Bs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function tw(a){var n=ew(a,"string");return Bs(n)=="symbol"?n:n+""}function nw(a,n,i){return(n=tw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Vv(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function ge(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Vv(Object(i),!0).forEach(function(l){nw(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Vv(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}const Kv=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},aw=async(a,n,i,l)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a,u=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const h=f?.statusCode||f?.code||u+"";n(new vo(Kv(f),u,h,l))}).catch(()=>{if(l==="vectors"){const f=u+"";n(new vo(o.statusText||`HTTP ${u} error`,u,f,l))}else{const f=u+"";n(new vo(o.statusText||`HTTP ${u} error`,u,f,l))}});else{const f=u+"";n(new vo(o.statusText||`HTTP ${u} error`,u,f,l))}}else n(new Hp(Kv(a),a,l))},rw=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!l?ge(ge({},o),i):(F_(l)?(o.headers=ge({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),ge(ge({},o),i))};async function xs(a,n,i,l,o,u,f){return new Promise((h,m)=>{a(i,rw(n,l,o,u)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;if(f==="vectors"){const p=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!p||!p.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>aw(g,m,l,f))})}function qp(a="storage"){return{get:async(n,i,l,o)=>xs(n,"GET",i,l,o,void 0,a),post:async(n,i,l,o,u)=>xs(n,"POST",i,o,u,l,a),put:async(n,i,l,o,u)=>xs(n,"PUT",i,o,u,l,a),head:async(n,i,l,o)=>xs(n,"HEAD",i,ge(ge({},l),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,i,l,o,u)=>xs(n,"DELETE",i,o,u,l,a)}}const iw=qp("storage"),{get:Is,post:Bn,put:Jd,head:sw,remove:mf}=iw,mn=qp("vectors");var Oi=class{constructor(a,n={},i,l="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Z_(i),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Wo(i))return{data:null,error:i};throw i}}},lw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};let $p;$p=Symbol.toStringTag;var ow=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[$p]="BlobDownloadBuilder",this.promise=null}asStream(){return new lw(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};const uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cw=class extends Oi{constructor(a,n={},i,l){super(a,n,l,"storage"),this.bucketId=i}async uploadOrUpdate(a,n,i,l){var o=this;return o.handleOperation(async()=>{let u;const f=ge(ge({},Xv),l);let h=ge(ge({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=i,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(h=ge(ge({},h),l.headers));const g=o._removeEmptyFolders(n),p=o._getFinalPath(g),b=await(a=="PUT"?Jd:Bn)(o.fetch,`${o.url}/object/${p}`,u,ge({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,l){var o=this;const u=o._removeEmptyFolders(a),f=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${f}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const g=ge({upsert:Xv.upsert},l),p=ge(ge({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType),{path:u,fullPath:(await Jd(o.fetch,h.toString(),m,{headers:p})).Key}})}async createSignedUploadUrl(a,n){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(a);const o=ge({},i.headers);n?.upsert&&(o["x-upsert"]="true");const u=await Bn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(i.url+u.url),h=f.searchParams.get("token");if(!h)throw new Fo("No token returned by API");return{signedUrl:f.toString(),path:a,token:h}})}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var l=this;return l.handleOperation(async()=>await Bn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}))}async copy(a,n,i){var l=this;return l.handleOperation(async()=>({path:(await Bn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(a,n,i){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(a),u=await Bn(l.fetch,`${l.url}/object/sign/${o}`,ge({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${l.url}${u.signedURL}${f}`)}})}async createSignedUrls(a,n,i){var l=this;return l.handleOperation(async()=>{const o=await Bn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:a},{headers:l.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o.map(f=>ge(ge({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${u}`):null}))})}download(a,n,i){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",f=this._getFinalPath(a),h=()=>Is(this.fetch,`${this.url}/${l}/${f}${u}`,{headers:this.headers,noResolveJson:!0},i);return new ow(h,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);return n.handleOperation(async()=>Qd(await Is(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await sw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Wo(l)&&l instanceof Hp){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,n){const i=this._getFinalPath(a),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${h}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,i){var l=this;return l.handleOperation(async()=>{const o=ge(ge(ge({},uw),n),{},{prefix:a||""});return await Bn(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},i)})}async listV2(a,n){var i=this;return i.handleOperation(async()=>{const l=ge({},a);return await Bn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const dw="2.95.3",Xs={"X-Client-Info":`storage-js/${dw}`};var fw=class extends Oi{constructor(a,n={},i,l){const o=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),f=ge(ge({},Xs),n);super(u,f,i,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(a);return await Is(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Is(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var i=this;return i.handleOperation(async()=>await Bn(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(a,n){var i=this;return i.handleOperation(async()=>await Jd(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Bn(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},hw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),n);super(l,o,i,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Bn(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const l=i.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await Is(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await mf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!W_(a))throw new Fo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new J_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(o,u){const f=o[u];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}},mw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var i=this;return i.handleOperation(async()=>await mn.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var i=this;return i.handleOperation(async()=>await mn.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{})}},gw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},vw=class extends Oi{constructor(a,n={},i){const l=a.replace(/\/$/,""),o=ge(ge({},Xs),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},pw=class extends vw{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new yw(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},yw=class extends mw{constructor(a,n,i,l){super(a,n,l),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new bw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},bw=class extends gw{constructor(a,n,i,l,o){super(a,n,o),this.vectorBucketName=i,this.indexName=l}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,ge(ge({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},_w=class extends fw{constructor(a,n={},i,l){super(a,n,i,l)}from(a){return new cw(this.url,this.headers,a,this.fetch)}get vectors(){return new pw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hw(this.url+"/iceberg",this.headers,this.fetch)}};const Gp="2.95.3",_i=30*1e3,Zd=3,Td=Zd*_i,ww="http://localhost:9999",Sw="supabase.auth.token",Ew={"X-Client-Info":`gotrue-js/${Gp}`},Fd="X-Supabase-Api-Version",Yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tw=600*1e3;class Hs extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function re(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Aw extends Hs{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Rw(a){return re(a)&&a.name==="AuthApiError"}class yr extends Hs{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class wa extends Hs{constructor(n,i,l,o){super(n,l,o),this.name=i,this.status=l}}class hn extends wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ad(a){return re(a)&&a.name==="AuthSessionMissingError"}class fi extends wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends wa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class yo extends wa{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dw(a){return re(a)&&a.name==="AuthImplicitGrantRedirectError"}class Pv extends wa{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ow extends wa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wd extends wa{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Rd(a){return re(a)&&a.name==="AuthRetryableFetchError"}class Qv extends wa{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class ef extends wa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jv=` 	
\r=`.split(""),Cw=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Jv.length;n+=1)a[Jv[n].charCodeAt(0)]=-2;for(let n=0;n<zo.length;n+=1)a[zo[n].charCodeAt(0)]=n;return a})();function Zv(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(zo[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(zo[l]),n.queuedBits-=6}}function Vp(a,n,i){const l=Cw[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Fv(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{Mw(f,l,i)};for(let f=0;f<a.length;f+=1)Vp(a.charCodeAt(f),o,u);return n.join("")}function Nw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function jw(a,n){for(let i=0;i<a.length;i+=1){let l=a.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}Nw(l,n)}}function Mw(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function xi(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Vp(a.charCodeAt(o),i,l);return new Uint8Array(n)}function kw(a){const n=[];return jw(a,i=>n.push(i)),new Uint8Array(n)}function br(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};return a.forEach(o=>Zv(o,i,l)),Zv(null,i,l),n.join("")}function zw(a){return Math.round(Date.now()/1e3)+a}function Uw(){return Symbol("auth-callback")}const Ut=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Kp=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function Lw(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return i.searchParams.forEach((l,o)=>{n[o]=l}),n}const Xp=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Bw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",wi=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},gr=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},zt=async(a,n)=>{await a.removeItem(n)};class eu{constructor(){this.promise=new eu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}eu.promiseConstructor=Promise;function bo(a){const n=a.split(".");if(n.length!==3)throw new ef("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!xw.test(n[l]))throw new ef("JWT not in base64url format");return{header:JSON.parse(Fv(n[0])),payload:JSON.parse(Fv(n[1])),signature:xi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Iw(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Hw(a,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){l(f);return}}catch(f){if(!n(u,f)){o(f);return}}})()})}function qw(a){return("0"+a.toString(16)).substr(-2)}function $w(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,qw).join("")}async function Gw(a){const i=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Yw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await Gw(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(a,n,i=!1){const l=$w();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await wi(a,`${n}-code-verifier`,o);const u=await Yw(l);return[u,l===u?"plain":"s256"]}const Vw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kw(a){const n=a.headers.get(Fd);if(!n||!n.match(Vw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Xw(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Pw(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mi(a){if(!Qw.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dd(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jw(a,n){return new Proxy(a,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,o)}})}function Wv(a){return JSON.parse(JSON.stringify(a))}const vr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Zw=[502,503,504];async function ep(a){var n;if(!Bw(a))throw new Wd(vr(a),0);if(Zw.includes(a.status))throw new Wd(vr(a),a.status);let i;try{i=await a.json()}catch(u){throw new yr(vr(u),u)}let l;const o=Kw(a);if(o&&o.getTime()>=Yp["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Qv(vr(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new hn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Qv(vr(i),a.status,i.weak_password.reasons);throw new Aw(vr(i),a.status||500,l)}const Fw=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function me(a,n,i,l){var o;const u=Object.assign({},l?.headers);u[Fd]||(u[Fd]=Yp["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Ww(a,n,i+h,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Ww(a,n,i,l,o,u){const f=Fw(n,l,o,u);let h;try{h=await a(i,Object.assign({},f))}catch(m){throw console.error(m),new Wd(vr(m),0)}if(h.ok||await ep(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await ep(m)}}function Ln(a){var n;let i=null;nS(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=zw(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:l},error:null}}function tp(a){const n=Ln(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Pa(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function eS(a){return{data:a,error:null}}function tS(a){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u}=a,f=Zo(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function np(a){return a}function nS(a){return a.access_token&&a.refresh_token&&a.expires_in}const Od=["global","local","others"];class aS{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Xp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Od[0]){if(Od.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Od.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Pa})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Zo(n,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:tS,redirectTo:i?.redirectTo})}catch(i){if(re(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Pa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},p=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:np});if(p.error)throw p.error;const b=await p.json(),w=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);g[`${j}Page`]=C}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){mi(n);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Pa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){mi(n);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Pa})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){mi(n);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Pa})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){mi(n.userId);try{const{data:i,error:l}=await me(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteFactor(n){mi(n.userId),mi(n.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},p=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:np});if(p.error)throw p.error;const b=await p.json(),w=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);g[`${j}Page`]=C}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(re(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}}function ap(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const gi={debug:!!(globalThis&&Kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class rS extends Pp{}async function iS(a,n,i){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new rS(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(gi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function sS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qp(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function lS(a){return parseInt(a,16)}function oS(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function uS(a){var n;const{chainId:i,domain:l,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:p,uri:b,version:w}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const _=Qp(a.address),A=p?`${p}://${l}`:l,C=a.statement?`${a.statement}
`:"",j=`${A} wants you to sign in with your Ethereum account:
${_}

${C}`;let L=`URI: ${b}
Version: ${w}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),m&&(L+=`
Request ID: ${m}`),g){let q=`
Resources:`;for(const U of g){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);q+=`
- ${U}`}L+=q}return`${j}
${L}`}class vt extends Error{constructor({message:n,code:i,cause:l,name:o}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=o??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Uo extends vt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function cS({error:a,options:n}){var i,l,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new vt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Jp(f)){if(u.rp.id!==f)return new vt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function dS({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new vt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Jp(l)){if(i.rpId!==l)return new vt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class fS{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const hS=new fS;function mS(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:l}=a,o=Zo(a,["challenge","user","excludeCredentials"]),u=xi(n).buffer,f=Object.assign(Object.assign({},i),{id:xi(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:f});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:xi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function gS(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,l=Zo(a,["challenge","allowCredentials"]),o=xi(n).buffer,u=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:xi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function vS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:br(new Uint8Array(a.response.attestationObject)),clientDataJSON:br(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function pS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,l=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:br(new Uint8Array(o.authenticatorData)),clientDataJSON:br(new Uint8Array(o.clientDataJSON)),signature:br(new Uint8Array(o.signature)),userHandle:o.userHandle?br(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jp(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function rp(){var a,n;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function yS(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",n)}:{data:null,error:new Uo("Empty credential response",n)}}catch(n){return{data:null,error:cS({error:n,options:a})}}}async function bS(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",n)}:{data:null,error:new Uo("Empty credential response",n)}}catch(n){return{data:null,error:dS({error:n,options:a})}}}const _S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lo(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of a)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))l[u]=f;else if(i(f))l[u]=f;else if(n(f)){const h=l[u];n(h)?l[u]=Lo(h,f):l[u]=Lo(f)}else l[u]=f}return l}function SS(a,n){return Lo(_S,a,n||{})}function ES(a,n){return Lo(wS,a,n||{})}class xS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:o},u){var f;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const g=o??hS.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;if(!p.name){const b=l;if(b)p.name=`${p.id}:${b}`;else{const _=(await this.client.getUser()).data.user,A=((f=_?.user_metadata)===null||f===void 0?void 0:f.name)||_?.email||_?.id||"User";p.name=`${p.id}:${A}`}}p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=SS(h.webauthn.credential_options.publicKey,u?.create),{data:b,error:w}=await yS({publicKey:p,signal:g});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const p=ES(h.webauthn.credential_options.publicKey,u?.request),{data:b,error:w}=await bS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new yr("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Hs("rpId is required for WebAuthn authentication")};try{if(!rp())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:u});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Hs("rpId is required for WebAuthn registration")};try{if(!rp())return{data:null,error:new yr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new yr("Unexpected error in register",f)}}}}sS();const TS={url:ww,storageKey:Sw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ew,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ip(a,n,i){return await i()}const vi={};class qs{get jwks(){var n,i;return(i=(n=vi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=vi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},TS),n);if(this.storageKey=u.storageKey,this.instanceID=(i=qs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,qs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ut()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new aS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Xp(u.fetch),this.lock=u.lock||ip,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ut()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=iS:this.lock=ip,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Kp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ap(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(Ut()&&(i=Lw(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),Ut()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Dw(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return re(i)?this._returnResult({error:i}):this._returnResult({error:new yr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,o;try{const u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ln}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,l,o;try{let u;if("email"in n){const{email:p,password:b,options:w}=n;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await hi(this.storage,this.storageKey)),u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:b,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:A},xform:Ln})}else if("phone"in n){const{phone:p,password:b,options:w}=n;u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ln})}else throw new po("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tp})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:tp})}else throw new po("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const u=new fi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,o,u,f,h,m,g,p,b,w;let _,A;if("message"in n)_=n.message,A=n.signature;else{const{chain:C,wallet:j,statement:L,options:q}=n;let U;if(Ut())if(typeof j=="object")U=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")U=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=j}const O=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),I=await U.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Qp(I[0]);let K=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const Z=await U.request({method:"eth_chainId"});K=lS(Z)}const Q={domain:O.host,address:G,statement:L,uri:O.href,version:"1",chainId:K,nonce:(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=q?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=uS(Q),A=await U.request({method:"personal_sign",params:[oS(_),G]})}try{const{data:C,error:j}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:A},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ln});if(j)throw j;if(!C||!C.session||!C.user){const L=new fi;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(re(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var i,l,o,u,f,h,m,g,p,b,w,_;let A,C;if("message"in n)A=n.message,C=n.signature;else{const{chain:j,wallet:L,statement:q,options:U}=n;let O;if(Ut())if(typeof L=="object")O=L;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))O=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=L}const I=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in O&&O.signIn){const G=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),q?{statement:q}:null));let K;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")K=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)K=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)A=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),C=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${I.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((b=(p=U?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const G=await O.signMessage(new TextEncoder().encode(A),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=G}}try{const{data:j,error:L}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:br(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ln});if(L)throw L;if(!j||!j.session||!j.user){const q=new fi;return this._returnResult({data:{user:null,session:null},error:q})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:L})}catch(j){if(re(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const i=await gr(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Ow;const{data:u,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ln});if(await zt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:l,token:o,access_token:u,nonce:f}=n,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ln}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const p=new fi;return this._returnResult({data:{user:null,session:null},error:p})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,o,u,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await hi(this.storage,this.storageKey));const{error:b}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:p}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:p})}throw new po("You must provide either an email or phone number.")}catch(h){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,l;try{let o,u;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ln});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,l,o,u,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await hi(this.storage,this.storageKey));const g=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:eS});return!((u=g.data)===null||u===void 0)&&u.url&&Ut()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new hn;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:f}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:f,error:h}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new po("You must provide either an email or phone number and a type")}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await gr(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Dd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Jw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Pa}):await this._useSession(async i=>{var l,o,u;const{data:f,error:h}=i;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Pa})})}catch(i){if(re(i))return Ad(i)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new hn;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await hi(this.storage,this.storageKey));const{data:g,error:p}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:Pa});if(p)throw p;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new hn;const i=Date.now()/1e3;let l=i,o=!0,u=null;const{payload:f}=bo(n.access_token);if(f.exp&&(l=f.exp,o=l<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new hn;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!Ut())throw new yo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new yo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Pv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Pv("No code detected.");const{data:q,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!u||!h||!f||!g)throw new yo("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(h);let w=p+b;m&&(w=parseInt(m));const _=w-p;_*1e3<=_i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const A=w-b;p-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,p):p-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,p);const{data:C,error:j}=await this._getUser(u);if(j)throw j;const L={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:w,refresh_token:f,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(l){if(re(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u&&!Ad(u))return this._returnResult({error:u});const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Rw(h)&&(h.status===404||h.status===401||h.status===403)||Ad(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=Uw(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,o;try{const{data:{session:u},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await hi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:o}=await this._useSession(async u=>{var f,h,m,g,p;const{data:b,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Ut()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(re(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:p}=n,b=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ln}),{data:w,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new fi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:f}=i;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Hw(async o=>(o>0&&await Iw(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ln})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Rd(u)&&Date.now()+f-l<_i})}catch(l){if(this._debug(i,"error",l),re(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),Ut()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await gr(this.storage,this.storageKey);if(o&&this.userStorage){let f=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await wi(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:Dd()}else if(o&&!o.user&&!o.user){const f=await gr(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await zt(this.storage,this.storageKey+"-user"),await wi(this.storage,this.storageKey,o)):o.user=Dd()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Td;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Td}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Rd(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new eu;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new hn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),re(u)){const f={data:null,error:u};return Rd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await wi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=Wv(o);await wi(this.storage,this.storageKey,u)}else{const o=Wv(i);await wi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),_i);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/_i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_i}ms, refresh threshold is ${Zd} ticks`),o<=Zd&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Pp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,f]=await hi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await me(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?vS(n.webauthn.credential_response):pS(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:gS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,l,o,u;if(n)try{const{payload:_}=bo(n);let A=null;_.aal&&(A=_.aal);let C=A;const{data:{user:j},error:L}=await this.getUser(n);if(L)return this._returnResult({data:null,error:L});((l=(i=j?.factors)===null||i===void 0?void 0:i.filter(O=>O.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(C="aal2");const U=_.amr||[];return{data:{currentLevel:A,nextLevel:C,currentAuthenticationMethods:U},error:null}}catch(_){if(re(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:f},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=bo(f.access_token);let g=null;m.aal&&(g=m.aal);let p=g;((u=(o=f.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new hn})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new hn});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ut()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new hn});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&Ut()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hn})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hn})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+Tw>o)return l;const{data:u,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:_,error:A}=await this.getSession();if(A||!_.session)return this._returnResult({data:null,error:A});l=_.session.access_token}const{header:o,payload:u,signature:f,raw:{header:h,payload:m}}=bo(l);i?.allowExpired||Xw(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:u,header:o,signature:f},error:null}}const p=Pw(o.alg),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,f,kw(`${h}.${m}`)))throw new ef("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}}qs.nextInstanceID={};const AS=qs,RS="2.95.3";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const DS={"X-Client-Info":`supabase-js-${Ts}/${RS}`},OS={headers:DS},CS={schema:"public"},NS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jS={};function $s(a){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$s(a)}function MS(a,n){if($s(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var l=i.call(a,n);if($s(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function kS(a){var n=MS(a,"string");return $s(n)=="symbol"?n:n+""}function zS(a,n,i){return(n=kS(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function sp(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,l)}return i}function st(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?sp(Object(i),!0).forEach(function(l){zS(a,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):sp(Object(i)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(i,l))})}return a}const US=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),LS=()=>Headers,BS=(a,n,i)=>{const l=US(i),o=LS();return async(u,f)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,st(st({},f),{},{headers:g}))}};function IS(a){return a.endsWith("/")?a:a+"/"}function HS(a,n){var i,l;const{db:o,auth:u,realtime:f,global:h}=a,{db:m,auth:g,realtime:p,global:b}=n,w={db:st(st({},m),o),auth:st(st({},g),u),realtime:st(st({},p),f),storage:{},global:st(st(st({},b),h),{},{headers:st(st({},(i=b?.headers)!==null&&i!==void 0?i:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function qS(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IS(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $S=class extends AS{constructor(a){super(a)}},GS=class{constructor(a,n,i){var l,o;this.supabaseUrl=a,this.supabaseKey=n;const u=qS(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:CS,realtime:jS,auth:st(st({},NS),{},{storageKey:f}),global:OS},m=HS(i??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=BS(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new R_(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new _w(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new b_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,storageKey:u,flowType:f,lock:h,debug:m,throwOnError:g},p,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $S({url:this.authUrl.href,headers:st(st({},w),p),storageKey:u,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,flowType:f,lock:h,debug:m,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Y_(this.realtimeUrl.href,st(st({},a),{},{params:st(st({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const YS=(a,n,i)=>new GS(a,n,i);function VS(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}VS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KS="https://nebfkwfgjtqinrfiglva.supabase.co",XS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lYmZrd2ZnanRxaW5yZmlnbHZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExNDIzODcsImV4cCI6MjA4NjcxODM4N30.8hx_3VfKrxMy9hXD94PgU2OAGoZ1YNJtK8HRj2PCGDA",_o=YS(KS,XS);function nt(a){const[n,i,l]=a.split("-").map(Number);return new Date(n,i-1,l)}function dt(a){const n=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`${n}-${i}-${l}`}function Er(a,n){const i=new Date(a);return i.setDate(i.getDate()+n),i}function Bo(a,n){return Math.round((a.getTime()-n.getTime())/864e5)}function Zp(a){const n=new Date(a),i=n.getDay(),l=i===0?-6:1-i;return n.setDate(n.getDate()+l),n}function PS(a){return new Date(a.getFullYear(),a.getMonth(),1)}function Dt(a,n,i){if(i==="week")return Bo(a,n)/7*df;{const l=(a.getFullYear()-n.getFullYear())*12+(a.getMonth()-n.getMonth()),o=a.getDate()-1,u=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return(l+o/u)*ff}}function qn(a,n,i){if(i==="week"){const l=a/df*7;return Er(n,Math.round(l))}else{const l=a/ff,o=Math.floor(l),u=l-o,f=new Date(n.getFullYear(),n.getMonth()+o,1),h=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),m=Math.round(u*h);return new Date(f.getFullYear(),f.getMonth(),1+m)}}function QS(a,n,i){const l=[];let o=Zp(a);const u=n.getTime();for(;o.getTime()<=u;){const f=Dt(o,i,"week"),h=o.getDate(),m=o.toLocaleString("en",{month:"short"});l.push({label:`${h} ${m}`,x:f,width:df,date:new Date(o),month:o.getMonth()}),o=Er(o,7)}return l}function JS(a,n,i){const l=[];let o=PS(a);for(;o.getTime()<=n.getTime();){const u=Dt(o,i,"month"),f=o.toLocaleString("en",{month:"short"}),h=o.getFullYear(),m=Math.floor(o.getMonth()/3)+1;l.push({label:f,sublabel:`Q${m} ${h}`,x:u,width:ff,date:new Date(o),month:o.getMonth()}),o=new Date(o.getFullYear(),o.getMonth()+1,1)}return l}function xr(a){return nt(a).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})}function gf(a,n){return Math.round(Bo(nt(n),nt(a))/7)}function pi(){return crypto.randomUUID()}function lp(){return{streams:[],dependencies:[],milestones:[],settings:{...kp}}}const ae=wp()(l_((a,n)=>({currentRoadmapId:null,roadmapName:"New Roadmap",roadmap:lp(),roadmapList:[],isDirty:!1,isLoading:!1,saveStatus:"idle",setDirty:()=>a({isDirty:!0}),addStream:(i,l)=>{a(o=>{const u=o.roadmap.streams.length;o.roadmap.streams.push({id:pi(),name:i,color:l,collapsed:!1,order:u,items:[]}),o.isDirty=!0})},updateStream:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(f=>f.id===i);u&&(Object.assign(u,l),o.isDirty=!0)})},removeStream:i=>{a(l=>{l.roadmap.streams=l.roadmap.streams.filter(u=>u.id!==i);const o=new Set(l.roadmap.streams.filter(u=>u.id===i).flatMap(u=>u.items.map(f=>f.id)));l.roadmap.dependencies=l.roadmap.dependencies.filter(u=>!o.has(u.fromItemId)&&!o.has(u.toItemId)),l.roadmap.milestones=l.roadmap.milestones.filter(u=>u.streamId!==i),l.roadmap.streams.forEach((u,f)=>{u.order=f}),l.isDirty=!0})},reorderStreams:(i,l)=>{a(o=>{const u=o.roadmap.streams,f=u.findIndex(g=>g.id===i),h=u.findIndex(g=>g.id===l);if(f===-1||h===-1)return;const[m]=u.splice(f,1);u.splice(h,0,m),u.forEach((g,p)=>{g.order=p}),o.isDirty=!0})},toggleStreamCollapse:i=>{a(l=>{const o=l.roadmap.streams.find(u=>u.id===i);o&&(o.collapsed=!o.collapsed,l.isDirty=!0)})},addItem:i=>{a(l=>{const o=l.roadmap.streams.find(p=>p.id===i);if(!o)return;const u=new Date,f=new Date(u),h=f.getDay();f.setDate(f.getDate()+(h===0?1:8-h));const m=new Date(f);m.setDate(m.getDate()+28);const g={id:pi(),name:"New Item",lead:"",support:"",startDate:dt(f),endDate:dt(m),phase:"implementation-build",notes:"",order:o.items.length};o.items.push(g),l.isDirty=!0})},updateItem:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(m=>m.id===i);if(!f)return;const h=f.items.find(m=>m.id===l);h&&(Object.assign(h,o),u.isDirty=!0)})},removeItem:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(m=>m.id===i);if(!u)return;const f=u.items.find(m=>m.id===l),h=new Set([l]);if(f?.subItems)for(const m of f.subItems)h.add(m.id);u.items=u.items.filter(m=>m.id!==l),u.items.forEach((m,g)=>{m.order=g}),o.roadmap.dependencies=o.roadmap.dependencies.filter(m=>!h.has(m.fromItemId)&&!h.has(m.toItemId)),o.isDirty=!0})},moveItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===i);if(!h||ko(h.items,l,o,u))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=u,f.isDirty=!0)})},resizeItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(g=>g.id===i);if(!h||ko(h.items,l,o,u))return;const m=h.items.find(g=>g.id===l);m&&(m.startDate=o,m.endDate=u,f.isDirty=!0)})},toggleItemExpanded:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(h=>h.id===i);if(!u)return;const f=u.items.find(h=>h.id===l);f&&(f.expanded=!f.expanded,f.subItems||(f.subItems=[]),o.isDirty=!0)})},addSubItem:(i,l)=>{a(o=>{const u=o.roadmap.streams.find(b=>b.id===i);if(!u)return;const f=u.items.find(b=>b.id===l);if(!f)return;f.subItems||(f.subItems=[]);const h=f.startDate,m=new Date(h),g=new Date(m);g.setDate(g.getDate()+14);const p={id:pi(),name:"New Sub-task",lead:"",support:"",startDate:dt(m),endDate:dt(g),phase:f.phase,notes:"",order:f.subItems.length};f.subItems.push(p),f.expanded=!0,o.isDirty=!0})},removeSubItem:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(m=>m.id===i);if(!f)return;const h=f.items.find(m=>m.id===l);!h||!h.subItems||(h.subItems=h.subItems.filter(m=>m.id!==o),h.subItems.forEach((m,g)=>{m.order=g}),u.roadmap.dependencies=u.roadmap.dependencies.filter(m=>m.fromItemId!==o&&m.toItemId!==o),u.isDirty=!0)})},updateSubItem:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(p=>p.id===i);if(!h)return;const m=h.items.find(p=>p.id===l);if(!m||!m.subItems)return;const g=m.subItems.find(p=>p.id===o);g&&(Object.assign(g,u),f.isDirty=!0)})},moveSubItem:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(b=>b.id===i);if(!m)return;const g=m.items.find(b=>b.id===l);if(!g||!g.subItems)return;const p=g.subItems.find(b=>b.id===o);p&&(p.startDate=u,p.endDate=f,h.isDirty=!0)})},resizeSubItem:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(b=>b.id===i);if(!m)return;const g=m.items.find(b=>b.id===l);if(!g||!g.subItems)return;const p=g.subItems.find(b=>b.id===o);p&&(p.startDate=u,p.endDate=f,h.isDirty=!0)})},toggleSubItemPhasesExpanded:(i,l,o)=>{a(u=>{const f=u.roadmap.streams.find(g=>g.id===i);if(!f)return;const h=f.items.find(g=>g.id===l);if(!h||!h.subItems)return;const m=h.subItems.find(g=>g.id===o);m&&(m.phasesExpanded=!m.phasesExpanded,m.phaseBars||(m.phaseBars=[]),u.isDirty=!0)})},addPhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(w=>w.id===i);if(!g)return;const p=g.items.find(w=>w.id===l);if(!p||!p.subItems)return;const b=p.subItems.find(w=>w.id===o);b&&(b.phaseBars||(b.phaseBars=[]),!Ei(b.phaseBars,"",u,f)&&(b.phaseBars.push({id:pi(),name:"New Phase",startDate:u,endDate:f,color:h||d_}),b.phasesExpanded=!0,m.isDirty=!0))})},removePhaseBar:(i,l,o,u)=>{a(f=>{const h=f.roadmap.streams.find(p=>p.id===i);if(!h)return;const m=h.items.find(p=>p.id===l);if(!m||!m.subItems)return;const g=m.subItems.find(p=>p.id===o);!g||!g.phaseBars||(g.phaseBars=g.phaseBars.filter(p=>p.id!==u),f.isDirty=!0)})},updatePhaseBar:(i,l,o,u,f)=>{a(h=>{const m=h.roadmap.streams.find(w=>w.id===i);if(!m)return;const g=m.items.find(w=>w.id===l);if(!g||!g.subItems)return;const p=g.subItems.find(w=>w.id===o);if(!p||!p.phaseBars)return;const b=p.phaseBars.find(w=>w.id===u);b&&(Object.assign(b,f),h.isDirty=!0)})},movePhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(_=>_.id===i);if(!g)return;const p=g.items.find(_=>_.id===l);if(!p||!p.subItems)return;const b=p.subItems.find(_=>_.id===o);if(!b||!b.phaseBars||Ei(b.phaseBars,u,f,h))return;const w=b.phaseBars.find(_=>_.id===u);w&&(w.startDate=f,w.endDate=h,m.isDirty=!0)})},resizePhaseBar:(i,l,o,u,f,h)=>{a(m=>{const g=m.roadmap.streams.find(_=>_.id===i);if(!g)return;const p=g.items.find(_=>_.id===l);if(!p||!p.subItems)return;const b=p.subItems.find(_=>_.id===o);if(!b||!b.phaseBars||Ei(b.phaseBars,u,f,h))return;const w=b.phaseBars.find(_=>_.id===u);w&&(w.startDate=f,w.endDate=h,m.isDirty=!0)})},addDependency:(i,l)=>{a(o=>{o.roadmap.dependencies.some(f=>f.fromItemId===i&&f.toItemId===l)||(o.roadmap.dependencies.push({id:pi(),fromItemId:i,toItemId:l}),o.isDirty=!0)})},removeDependency:i=>{a(l=>{l.roadmap.dependencies=l.roadmap.dependencies.filter(o=>o.id!==i),l.isDirty=!0})},addMilestone:(i,l,o)=>{a(u=>{u.roadmap.milestones.push({id:pi(),name:i,date:l,streamId:o}),u.isDirty=!0})},removeMilestone:i=>{a(l=>{l.roadmap.milestones=l.roadmap.milestones.filter(o=>o.id!==i),l.isDirty=!0})},moveMilestone:(i,l)=>{a(o=>{const u=o.roadmap.milestones.find(f=>f.id===i);u&&(u.date=l,o.isDirty=!0)})},fetchRoadmapList:async()=>{const{data:i,error:l}=await _o.from("roadmaps").select("id, name").order("updated_at",{ascending:!1});if(l){console.error("Failed to fetch roadmap list:",l);return}a({roadmapList:i||[]})},loadRoadmap:async i=>{a({isLoading:!0});const{data:l,error:o}=await _o.from("roadmaps").select("*").eq("id",i).single();if(o){console.error("Failed to load roadmap:",o),a({isLoading:!1});return}if(l){const u=l.data;a({currentRoadmapId:l.id,roadmapName:l.name,roadmap:{streams:u.streams||[],dependencies:u.dependencies||[],milestones:u.milestones||[],settings:u.settings||{...kp}},isDirty:!1,isLoading:!1})}},createRoadmap:async i=>{const l=lp(),{data:o,error:u}=await _o.from("roadmaps").insert({name:i,data:l}).select().single();return u?(console.error("Failed to create roadmap:",u),null):(a({currentRoadmapId:o.id,roadmapName:o.name,roadmap:l,isDirty:!1}),n().fetchRoadmapList(),o.id)},saveRoadmap:async()=>{const{currentRoadmapId:i,roadmap:l,roadmapName:o}=n();if(!i)return;a({saveStatus:"saving"});const{error:u}=await _o.from("roadmaps").update({data:l,name:o,updated_at:new Date().toISOString()}).eq("id",i);u?(console.error("Failed to save:",u),a({saveStatus:"error",isDirty:!0})):(a({isDirty:!1,saveStatus:"saved"}),setTimeout(()=>{a(f=>{f.saveStatus==="saved"&&(f.saveStatus="idle")})},2e3))},renameRoadmap:i=>{a({roadmapName:i,isDirty:!0})}}))),se=wp(a=>({zoom:"week",selectedItemId:null,selectedStreamId:null,selectedPhaseBarId:null,editPanelOpen:!1,isPanning:!1,dependencyMode:!1,dependencySourceItemId:null,showLeadColumn:!1,showSupportColumn:!1,showPhaseColumn:!1,showMonthColors:!0,setZoom:n=>a({zoom:n}),toggleZoom:()=>a(n=>({zoom:n.zoom==="week"?"month":"week"})),selectItem:(n,i=null)=>a({selectedItemId:n,selectedStreamId:i,selectedPhaseBarId:null}),selectPhaseBar:n=>a({selectedPhaseBarId:n}),openEditPanel:()=>a({editPanelOpen:!0}),closeEditPanel:()=>a({editPanelOpen:!1,selectedItemId:null,selectedStreamId:null,selectedPhaseBarId:null}),setPanning:n=>a({isPanning:n}),enterDependencyMode:n=>a({dependencyMode:!0,dependencySourceItemId:n}),exitDependencyMode:()=>a({dependencyMode:!1,dependencySourceItemId:null}),toggleLeadColumn:()=>a(n=>({showLeadColumn:!n.showLeadColumn})),toggleSupportColumn:()=>a(n=>({showSupportColumn:!n.showSupportColumn})),togglePhaseColumn:()=>a(n=>({showPhaseColumn:!n.showPhaseColumn})),toggleMonthColors:()=>a(n=>({showMonthColors:!n.showMonthColors}))}));function ZS(){const a=ae(E=>E.roadmapName),n=ae(E=>E.renameRoadmap),i=ae(E=>E.roadmapList),l=ae(E=>E.currentRoadmapId),o=ae(E=>E.loadRoadmap),u=ae(E=>E.createRoadmap),f=ae(E=>E.saveStatus),h=ae(E=>E.roadmap.streams),m=ae(E=>E.addMilestone),g=se(E=>E.zoom),p=se(E=>E.setZoom),b=se(E=>E.showMonthColors),w=se(E=>E.toggleMonthColors),[_,A]=S.useState(!1),[C,j]=S.useState(a),[L,q]=S.useState(!1),[U,O]=S.useState(""),[I,G]=S.useState(dt(new Date)),[K,Q]=S.useState(""),Z=()=>{j(a),A(!0)},he=()=>{A(!1),C.trim()&&C!==a&&n(C.trim())},ue=E=>{E.key==="Enter"&&E.target.blur()},ye=E=>{const X=E.target.value;X&&o(X)},Se=async()=>{const E=prompt("Enter roadmap name:");E?.trim()&&await u(E.trim())},Ee=()=>{if(h.length===0){alert("Add a stream first before creating a milestone.");return}O(""),G(dt(new Date)),Q(h[0].id),q(!0)},xe=()=>{U.trim()&&I&&K&&(m(U.trim(),I,K),q(!1))};return x.jsxs("div",{className:"flex items-center gap-4 px-4 border-b border-gray-200 bg-white relative",style:{height:52},children:[_?x.jsx("input",{className:"text-lg font-semibold px-2 py-1 border border-blue-400 rounded outline-none",value:C,onChange:E=>j(E.target.value),onBlur:he,onKeyDown:ue,autoFocus:!0}):x.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-blue-600 truncate max-w-64",onClick:Z,title:"Click to rename",children:a}),x.jsx("div",{className:"h-6 w-px bg-gray-300"}),x.jsx("select",{className:"text-sm border border-gray-300 rounded px-2 py-1.5 bg-white",value:l||"",onChange:ye,children:i.map(E=>x.jsx("option",{value:E.id,children:E.name},E.id))}),x.jsx("button",{onClick:Se,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none",children:"+ New"}),x.jsx("button",{onClick:Ee,className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 border border-gray-300",title:"Add a milestone marker to a stream",children:"+ Milestone"}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"text-xs text-gray-400 w-16 text-right",children:[f==="saving"&&"Saving...",f==="saved"&&" Saved",f==="error"&&" Error"]}),x.jsx("button",{onClick:w,className:`text-sm px-3 py-1 rounded-md border transition-colors ${b?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200 hover:text-gray-700"}`,title:b?"Hide month colors":"Show month colors",children:"Colors"}),x.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[x.jsx("button",{onClick:()=>p("week"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="week"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),x.jsx("button",{onClick:()=>p("month"),className:`text-sm px-3 py-1 rounded-md border-none transition-colors ${g==="month"?"bg-white shadow-sm text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Month"})]}),x.jsx("img",{src:"/logo.png",alt:"Roadmap Planner",className:"h-8 w-auto object-contain"}),L&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>q(!1)}),x.jsxs("div",{className:"absolute top-full left-64 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",style:{width:300},children:[x.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Milestone"}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",placeholder:"Milestone name...",value:U,onChange:E=>O(E.target.value),onKeyDown:E=>{E.key==="Enter"&&xe()},autoFocus:!0}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 outline-none focus:border-blue-400",value:I,onChange:E=>G(E.target.value)}),x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Stream"}),x.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 mb-3 bg-white outline-none focus:border-blue-400",value:K,onChange:E=>Q(E.target.value),children:h.map(E=>x.jsx("option",{value:E.id,children:E.name},E.id))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:xe,className:"text-sm px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 border-none cursor-pointer",children:"Add"}),x.jsx("button",{onClick:()=>q(!1),className:"text-sm px-3 py-1.5 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 border-none cursor-pointer",children:"Cancel"})]})]})]})]})}var As=_p();function FS(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return S.useMemo(()=>l=>{n.forEach(o=>o(l))},n)}const tu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ci(a){const n=Object.prototype.toString.call(a);return n==="[object Window]"||n==="[object global]"}function vf(a){return"nodeType"in a}function an(a){var n,i;return a?Ci(a)?a:vf(a)&&(n=(i=a.ownerDocument)==null?void 0:i.defaultView)!=null?n:window:window}function pf(a){const{Document:n}=an(a);return a instanceof n}function Ps(a){return Ci(a)?!1:a instanceof an(a).HTMLElement}function Fp(a){return a instanceof an(a).SVGElement}function Ni(a){return a?Ci(a)?a.document:vf(a)?pf(a)?a:Ps(a)||Fp(a)?a.ownerDocument:document:document:document}const Qn=tu?S.useLayoutEffect:S.useEffect;function yf(a){const n=S.useRef(a);return Qn(()=>{n.current=a}),S.useCallback(function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return n.current==null?void 0:n.current(...l)},[])}function WS(){const a=S.useRef(null),n=S.useCallback((l,o)=>{a.current=setInterval(l,o)},[]),i=S.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[n,i]}function Gs(a,n){n===void 0&&(n=[a]);const i=S.useRef(a);return Qn(()=>{i.current!==a&&(i.current=a)},n),i}function Qs(a,n){const i=S.useRef();return S.useMemo(()=>{const l=a(i.current);return i.current=l,l},[...n])}function Io(a){const n=yf(a),i=S.useRef(null),l=S.useCallback(o=>{o!==i.current&&n?.(o,i.current),i.current=o},[]);return[i,l]}function tf(a){const n=S.useRef();return S.useEffect(()=>{n.current=a},[a]),n.current}let Cd={};function Js(a,n){return S.useMemo(()=>{if(n)return n;const i=Cd[a]==null?0:Cd[a]+1;return Cd[a]=i,a+"-"+i},[a,n])}function Wp(a){return function(n){for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return l.reduce((u,f)=>{const h=Object.entries(f);for(const[m,g]of h){const p=u[m];p!=null&&(u[m]=p+a*g)}return u},{...n})}}const Ti=Wp(1),Ho=Wp(-1);function eE(a){return"clientX"in a&&"clientY"in a}function bf(a){if(!a)return!1;const{KeyboardEvent:n}=an(a.target);return n&&a instanceof n}function tE(a){if(!a)return!1;const{TouchEvent:n}=an(a.target);return n&&a instanceof n}function nf(a){if(tE(a)){if(a.touches&&a.touches.length){const{clientX:n,clientY:i}=a.touches[0];return{x:n,y:i}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:n,clientY:i}=a.changedTouches[0];return{x:n,y:i}}}return eE(a)?{x:a.clientX,y:a.clientY}:null}const Ys=Object.freeze({Translate:{toString(a){if(!a)return;const{x:n,y:i}=a;return"translate3d("+(n?Math.round(n):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:n,scaleY:i}=a;return"scaleX("+n+") scaleY("+i+")"}},Transform:{toString(a){if(a)return[Ys.Translate.toString(a),Ys.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:n,duration:i,easing:l}=a;return n+" "+i+"ms "+l}}}),op="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nE(a){return a.matches(op)?a:a.querySelector(op)}const aE={display:"none"};function rE(a){let{id:n,value:i}=a;return Rt.createElement("div",{id:n,style:aE},i)}function iE(a){let{id:n,announcement:i,ariaLiveType:l="assertive"}=a;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rt.createElement("div",{id:n,style:o,role:"status","aria-live":l,"aria-atomic":!0},i)}function sE(){const[a,n]=S.useState("");return{announce:S.useCallback(l=>{l!=null&&n(l)},[]),announcement:a}}const ey=S.createContext(null);function lE(a){const n=S.useContext(ey);S.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(a)},[a,n])}function oE(){const[a]=S.useState(()=>new Set),n=S.useCallback(l=>(a.add(l),()=>a.delete(l)),[a]);return[S.useCallback(l=>{let{type:o,event:u}=l;a.forEach(f=>{var h;return(h=f[o])==null?void 0:h.call(f,u)})},[a]),n]}const uE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cE={onDragStart(a){let{active:n}=a;return"Picked up draggable item "+n.id+"."},onDragOver(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was moved over droppable area "+i.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was dropped over droppable area "+i.id:"Draggable item "+n.id+" was dropped."},onDragCancel(a){let{active:n}=a;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function dE(a){let{announcements:n=cE,container:i,hiddenTextDescribedById:l,screenReaderInstructions:o=uE}=a;const{announce:u,announcement:f}=sE(),h=Js("DndLiveRegion"),[m,g]=S.useState(!1);if(S.useEffect(()=>{g(!0)},[]),lE(S.useMemo(()=>({onDragStart(b){let{active:w}=b;u(n.onDragStart({active:w}))},onDragMove(b){let{active:w,over:_}=b;n.onDragMove&&u(n.onDragMove({active:w,over:_}))},onDragOver(b){let{active:w,over:_}=b;u(n.onDragOver({active:w,over:_}))},onDragEnd(b){let{active:w,over:_}=b;u(n.onDragEnd({active:w,over:_}))},onDragCancel(b){let{active:w,over:_}=b;u(n.onDragCancel({active:w,over:_}))}}),[u,n])),!m)return null;const p=Rt.createElement(Rt.Fragment,null,Rt.createElement(rE,{id:l,value:o.draggable}),Rt.createElement(iE,{id:h,announcement:f}));return i?As.createPortal(p,i):p}var wt;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(wt||(wt={}));function qo(){}function fE(a,n){return S.useMemo(()=>({sensor:a,options:n??{}}),[a,n])}function hE(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return S.useMemo(()=>[...n].filter(l=>l!=null),[...n])}const Gn=Object.freeze({x:0,y:0});function mE(a,n){return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))}function gE(a,n){let{data:{value:i}}=a,{data:{value:l}}=n;return i-l}function vE(a,n){let{data:{value:i}}=a,{data:{value:l}}=n;return l-i}function pE(a,n){if(!a||a.length===0)return null;const[i]=a;return i[n]}function up(a,n,i){return n===void 0&&(n=a.left),i===void 0&&(i=a.top),{x:n+a.width*.5,y:i+a.height*.5}}const yE=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=a;const o=up(n,n.left,n.top),u=[];for(const f of l){const{id:h}=f,m=i.get(h);if(m){const g=mE(up(m),o);u.push({id:h,data:{droppableContainer:f,value:g}})}}return u.sort(gE)};function bE(a,n){const i=Math.max(n.top,a.top),l=Math.max(n.left,a.left),o=Math.min(n.left+n.width,a.left+a.width),u=Math.min(n.top+n.height,a.top+a.height),f=o-l,h=u-i;if(l<o&&i<u){const m=n.width*n.height,g=a.width*a.height,p=f*h,b=p/(m+g-p);return Number(b.toFixed(4))}return 0}const _E=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=a;const o=[];for(const u of l){const{id:f}=u,h=i.get(f);if(h){const m=bE(h,n);m>0&&o.push({id:f,data:{droppableContainer:u,value:m}})}}return o.sort(vE)};function wE(a,n,i){return{...a,scaleX:n&&i?n.width/i.width:1,scaleY:n&&i?n.height/i.height:1}}function ty(a,n){return a&&n?{x:a.left-n.left,y:a.top-n.top}:Gn}function SE(a){return function(i){for(var l=arguments.length,o=new Array(l>1?l-1:0),u=1;u<l;u++)o[u-1]=arguments[u];return o.reduce((f,h)=>({...f,top:f.top+a*h.y,bottom:f.bottom+a*h.y,left:f.left+a*h.x,right:f.right+a*h.x}),{...i})}}const EE=SE(1);function xE(a){if(a.startsWith("matrix3d(")){const n=a.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(a.startsWith("matrix(")){const n=a.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function TE(a,n,i){const l=xE(n);if(!l)return a;const{scaleX:o,scaleY:u,x:f,y:h}=l,m=a.left-f-(1-o)*parseFloat(i),g=a.top-h-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),p=o?a.width/o:a.width,b=u?a.height/u:a.height;return{width:p,height:b,top:g,right:m+p,bottom:g+b,left:m}}const AE={ignoreTransform:!1};function ji(a,n){n===void 0&&(n=AE);let i=a.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:p}=an(a).getComputedStyle(a);g&&(i=TE(i,g,p))}const{top:l,left:o,width:u,height:f,bottom:h,right:m}=i;return{top:l,left:o,width:u,height:f,bottom:h,right:m}}function cp(a){return ji(a,{ignoreTransform:!0})}function RE(a){const n=a.innerWidth,i=a.innerHeight;return{top:0,left:0,right:n,bottom:i,width:n,height:i}}function DE(a,n){return n===void 0&&(n=an(a).getComputedStyle(a)),n.position==="fixed"}function OE(a,n){n===void 0&&(n=an(a).getComputedStyle(a));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=n[o];return typeof u=="string"?i.test(u):!1})}function _f(a,n){const i=[];function l(o){if(n!=null&&i.length>=n||!o)return i;if(pf(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Ps(o)||Fp(o)||i.includes(o))return i;const u=an(a).getComputedStyle(o);return o!==a&&OE(o,u)&&i.push(o),DE(o,u)?i:l(o.parentNode)}return a?l(a):i}function ny(a){const[n]=_f(a,1);return n??null}function Nd(a){return!tu||!a?null:Ci(a)?a:vf(a)?pf(a)||a===Ni(a).scrollingElement?window:Ps(a)?a:null:null}function ay(a){return Ci(a)?a.scrollX:a.scrollLeft}function ry(a){return Ci(a)?a.scrollY:a.scrollTop}function af(a){return{x:ay(a),y:ry(a)}}var At;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(At||(At={}));function iy(a){return!tu||!a?!1:a===document.scrollingElement}function sy(a){const n={x:0,y:0},i=iy(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},l={x:a.scrollWidth-i.width,y:a.scrollHeight-i.height},o=a.scrollTop<=n.y,u=a.scrollLeft<=n.x,f=a.scrollTop>=l.y,h=a.scrollLeft>=l.x;return{isTop:o,isLeft:u,isBottom:f,isRight:h,maxScroll:l,minScroll:n}}const CE={x:.2,y:.2};function NE(a,n,i,l,o){let{top:u,left:f,right:h,bottom:m}=i;l===void 0&&(l=10),o===void 0&&(o=CE);const{isTop:g,isBottom:p,isLeft:b,isRight:w}=sy(a),_={x:0,y:0},A={x:0,y:0},C={height:n.height*o.y,width:n.width*o.x};return!g&&u<=n.top+C.height?(_.y=At.Backward,A.y=l*Math.abs((n.top+C.height-u)/C.height)):!p&&m>=n.bottom-C.height&&(_.y=At.Forward,A.y=l*Math.abs((n.bottom-C.height-m)/C.height)),!w&&h>=n.right-C.width?(_.x=At.Forward,A.x=l*Math.abs((n.right-C.width-h)/C.width)):!b&&f<=n.left+C.width&&(_.x=At.Backward,A.x=l*Math.abs((n.left+C.width-f)/C.width)),{direction:_,speed:A}}function jE(a){if(a===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:n,left:i,right:l,bottom:o}=a.getBoundingClientRect();return{top:n,left:i,right:l,bottom:o,width:a.clientWidth,height:a.clientHeight}}function ly(a){return a.reduce((n,i)=>Ti(n,af(i)),Gn)}function ME(a){return a.reduce((n,i)=>n+ay(i),0)}function kE(a){return a.reduce((n,i)=>n+ry(i),0)}function zE(a,n){if(n===void 0&&(n=ji),!a)return;const{top:i,left:l,bottom:o,right:u}=n(a);ny(a)&&(o<=0||u<=0||i>=window.innerHeight||l>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const UE=[["x",["left","right"],ME],["y",["top","bottom"],kE]];class wf{constructor(n,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=_f(i),o=ly(l);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,f,h]of UE)for(const m of f)Object.defineProperty(this,m,{get:()=>{const g=h(l),p=o[u]-g;return this.rect[m]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cs{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...i)})},this.target=n}add(n,i,l){var o;(o=this.target)==null||o.addEventListener(n,i,l),this.listeners.push([n,i,l])}}function LE(a){const{EventTarget:n}=an(a);return a instanceof n?a:Ni(a)}function jd(a,n){const i=Math.abs(a.x),l=Math.abs(a.y);return typeof n=="number"?Math.sqrt(i**2+l**2)>n:"x"in n&&"y"in n?i>n.x&&l>n.y:"x"in n?i>n.x:"y"in n?l>n.y:!1}var Cn;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(Cn||(Cn={}));function dp(a){a.preventDefault()}function BE(a){a.stopPropagation()}var Be;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(Be||(Be={}));const oy={start:[Be.Space,Be.Enter],cancel:[Be.Esc],end:[Be.Space,Be.Enter,Be.Tab]},IE=(a,n)=>{let{currentCoordinates:i}=n;switch(a.code){case Be.Right:return{...i,x:i.x+25};case Be.Left:return{...i,x:i.x-25};case Be.Down:return{...i,y:i.y+25};case Be.Up:return{...i,y:i.y-25}}};class uy{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:i}}=n;this.props=n,this.listeners=new Cs(Ni(i)),this.windowListeners=new Cs(an(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Cn.Resize,this.handleCancel),this.windowListeners.add(Cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:i}=this.props,l=n.node.current;l&&zE(l),i(Gn)}handleKeyDown(n){if(bf(n)){const{active:i,context:l,options:o}=this.props,{keyboardCodes:u=oy,coordinateGetter:f=IE,scrollBehavior:h="smooth"}=o,{code:m}=n;if(u.end.includes(m)){this.handleEnd(n);return}if(u.cancel.includes(m)){this.handleCancel(n);return}const{collisionRect:g}=l.current,p=g?{x:g.left,y:g.top}:Gn;this.referenceCoordinates||(this.referenceCoordinates=p);const b=f(n,{active:i,context:l.current,currentCoordinates:p});if(b){const w=Ho(b,p),_={x:0,y:0},{scrollableAncestors:A}=l.current;for(const C of A){const j=n.code,{isTop:L,isRight:q,isLeft:U,isBottom:O,maxScroll:I,minScroll:G}=sy(C),K=jE(C),Q={x:Math.min(j===Be.Right?K.right-K.width/2:K.right,Math.max(j===Be.Right?K.left:K.left+K.width/2,b.x)),y:Math.min(j===Be.Down?K.bottom-K.height/2:K.bottom,Math.max(j===Be.Down?K.top:K.top+K.height/2,b.y))},Z=j===Be.Right&&!q||j===Be.Left&&!U,he=j===Be.Down&&!O||j===Be.Up&&!L;if(Z&&Q.x!==b.x){const ue=C.scrollLeft+w.x,ye=j===Be.Right&&ue<=I.x||j===Be.Left&&ue>=G.x;if(ye&&!w.y){C.scrollTo({left:ue,behavior:h});return}ye?_.x=C.scrollLeft-ue:_.x=j===Be.Right?C.scrollLeft-I.x:C.scrollLeft-G.x,_.x&&C.scrollBy({left:-_.x,behavior:h});break}else if(he&&Q.y!==b.y){const ue=C.scrollTop+w.y,ye=j===Be.Down&&ue<=I.y||j===Be.Up&&ue>=G.y;if(ye&&!w.x){C.scrollTo({top:ue,behavior:h});return}ye?_.y=C.scrollTop-ue:_.y=j===Be.Down?C.scrollTop-I.y:C.scrollTop-G.y,_.y&&C.scrollBy({top:-_.y,behavior:h});break}}this.handleMove(n,Ti(Ho(b,this.referenceCoordinates),_))}}}handleMove(n,i){const{onMove:l}=this.props;n.preventDefault(),l(i)}handleEnd(n){const{onEnd:i}=this.props;n.preventDefault(),this.detach(),i()}handleCancel(n){const{onCancel:i}=this.props;n.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uy.activators=[{eventName:"onKeyDown",handler:(a,n,i)=>{let{keyboardCodes:l=oy,onActivation:o}=n,{active:u}=i;const{code:f}=a.nativeEvent;if(l.start.includes(f)){const h=u.activatorNode.current;return h&&a.target!==h?!1:(a.preventDefault(),o?.({event:a.nativeEvent}),!0)}return!1}}];function fp(a){return!!(a&&"distance"in a)}function hp(a){return!!(a&&"delay"in a)}class Sf{constructor(n,i,l){var o;l===void 0&&(l=LE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=i;const{event:u}=n,{target:f}=u;this.props=n,this.events=i,this.document=Ni(f),this.documentListeners=new Cs(this.document),this.listeners=new Cs(l),this.windowListeners=new Cs(an(f)),this.initialCoordinates=(o=nf(u))!=null?o:Gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:i,bypassActivationConstraint:l}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Cn.Resize,this.handleCancel),this.windowListeners.add(Cn.DragStart,dp),this.windowListeners.add(Cn.VisibilityChange,this.handleCancel),this.windowListeners.add(Cn.ContextMenu,dp),this.documentListeners.add(Cn.Keydown,this.handleKeydown),i){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hp(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(fp(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,i){const{active:l,onPending:o}=this.props;o(l,n,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:n}=this,{onStart:i}=this.props;n&&(this.activated=!0,this.documentListeners.add(Cn.Click,BE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Cn.SelectionChange,this.removeTextSelection),i(n))}handleMove(n){var i;const{activated:l,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:h}}=u;if(!o)return;const m=(i=nf(n))!=null?i:Gn,g=Ho(o,m);if(!l&&h){if(fp(h)){if(h.tolerance!=null&&jd(g,h.tolerance))return this.handleCancel();if(jd(g,h.distance))return this.handleStart()}if(hp(h)&&jd(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}n.cancelable&&n.preventDefault(),f(m)}handleEnd(){const{onAbort:n,onEnd:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleCancel(){const{onAbort:n,onCancel:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleKeydown(n){n.code===Be.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const HE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ef extends Sf{constructor(n){const{event:i}=n,l=Ni(i.target);super(n,HE,l)}}Ef.activators=[{eventName:"onPointerDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;return!i.isPrimary||i.button!==0?!1:(l?.({event:i}),!0)}}];const qE={move:{name:"mousemove"},end:{name:"mouseup"}};var rf;(function(a){a[a.RightClick=2]="RightClick"})(rf||(rf={}));class $E extends Sf{constructor(n){super(n,qE,Ni(n.event.target))}}$E.activators=[{eventName:"onMouseDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;return i.button===rf.RightClick?!1:(l?.({event:i}),!0)}}];const Md={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GE extends Sf{constructor(n){super(n,Md)}static setup(){return window.addEventListener(Md.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Md.move.name,n)};function n(){}}}GE.activators=[{eventName:"onTouchStart",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:l}=n;const{touches:o}=i;return o.length>1?!1:(l?.({event:i}),!0)}}];var Ns;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(Ns||(Ns={}));var $o;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})($o||($o={}));function YE(a){let{acceleration:n,activator:i=Ns.Pointer,canScroll:l,draggingRect:o,enabled:u,interval:f=5,order:h=$o.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:p,delta:b,threshold:w}=a;const _=KE({delta:b,disabled:!u}),[A,C]=WS(),j=S.useRef({x:0,y:0}),L=S.useRef({x:0,y:0}),q=S.useMemo(()=>{switch(i){case Ns.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Ns.DraggableRect:return o}},[i,o,m]),U=S.useRef(null),O=S.useCallback(()=>{const G=U.current;if(!G)return;const K=j.current.x*L.current.x,Q=j.current.y*L.current.y;G.scrollBy(K,Q)},[]),I=S.useMemo(()=>h===$o.TreeOrder?[...g].reverse():g,[h,g]);S.useEffect(()=>{if(!u||!g.length||!q){C();return}for(const G of I){if(l?.(G)===!1)continue;const K=g.indexOf(G),Q=p[K];if(!Q)continue;const{direction:Z,speed:he}=NE(G,Q,q,n,w);for(const ue of["x","y"])_[ue][Z[ue]]||(he[ue]=0,Z[ue]=0);if(he.x>0||he.y>0){C(),U.current=G,A(O,f),j.current=he,L.current=Z;return}}j.current={x:0,y:0},L.current={x:0,y:0},C()},[n,O,l,C,u,f,JSON.stringify(q),JSON.stringify(_),A,g,I,p,JSON.stringify(w)])}const VE={x:{[At.Backward]:!1,[At.Forward]:!1},y:{[At.Backward]:!1,[At.Forward]:!1}};function KE(a){let{delta:n,disabled:i}=a;const l=tf(n);return Qs(o=>{if(i||!l||!o)return VE;const u={x:Math.sign(n.x-l.x),y:Math.sign(n.y-l.y)};return{x:{[At.Backward]:o.x[At.Backward]||u.x===-1,[At.Forward]:o.x[At.Forward]||u.x===1},y:{[At.Backward]:o.y[At.Backward]||u.y===-1,[At.Forward]:o.y[At.Forward]||u.y===1}}},[i,n,l])}function XE(a,n){const i=n!=null?a.get(n):void 0,l=i?i.node.current:null;return Qs(o=>{var u;return n==null?null:(u=l??o)!=null?u:null},[l,n])}function PE(a,n){return S.useMemo(()=>a.reduce((i,l)=>{const{sensor:o}=l,u=o.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,l)}));return[...i,...u]},[]),[a,n])}var Vs;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Vs||(Vs={}));var sf;(function(a){a.Optimized="optimized"})(sf||(sf={}));const mp=new Map;function QE(a,n){let{dragging:i,dependencies:l,config:o}=n;const[u,f]=S.useState(null),{frequency:h,measure:m,strategy:g}=o,p=S.useRef(a),b=j(),w=Gs(b),_=S.useCallback(function(L){L===void 0&&(L=[]),!w.current&&f(q=>q===null?L:q.concat(L.filter(U=>!q.includes(U))))},[w]),A=S.useRef(null),C=Qs(L=>{if(b&&!i)return mp;if(!L||L===mp||p.current!==a||u!=null){const q=new Map;for(let U of a){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){q.set(U.id,U.rect.current);continue}const O=U.node.current,I=O?new wf(m(O),O):null;U.rect.current=I,I&&q.set(U.id,I)}return q}return L},[a,u,i,b,m]);return S.useEffect(()=>{p.current=a},[a]),S.useEffect(()=>{b||_()},[i,b]),S.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),S.useEffect(()=>{b||typeof h!="number"||A.current!==null||(A.current=setTimeout(()=>{_(),A.current=null},h))},[h,b,_,...l]),{droppableRects:C,measureDroppableContainers:_,measuringScheduled:u!=null};function j(){switch(g){case Vs.Always:return!1;case Vs.BeforeDragging:return i;default:return!i}}}function cy(a,n){return Qs(i=>a?i||(typeof n=="function"?n(a):a):null,[n,a])}function JE(a,n){return cy(a,n)}function ZE(a){let{callback:n,disabled:i}=a;const l=yf(n),o=S.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(l)},[l,i]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function nu(a){let{callback:n,disabled:i}=a;const l=yf(n),o=S.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(l)},[i]);return S.useEffect(()=>()=>o?.disconnect(),[o]),o}function FE(a){return new wf(ji(a),a)}function gp(a,n,i){n===void 0&&(n=FE);const[l,o]=S.useState(null);function u(){o(m=>{if(!a)return null;if(a.isConnected===!1){var g;return(g=m??i)!=null?g:null}const p=n(a);return JSON.stringify(m)===JSON.stringify(p)?m:p})}const f=ZE({callback(m){if(a)for(const g of m){const{type:p,target:b}=g;if(p==="childList"&&b instanceof HTMLElement&&b.contains(a)){u();break}}}}),h=nu({callback:u});return Qn(()=>{u(),a?(h?.observe(a),f?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),f?.disconnect())},[a]),l}function WE(a){const n=cy(a);return ty(a,n)}const vp=[];function ex(a){const n=S.useRef(a),i=Qs(l=>a?l&&l!==vp&&a&&n.current&&a.parentNode===n.current.parentNode?l:_f(a):vp,[a]);return S.useEffect(()=>{n.current=a},[a]),i}function tx(a){const[n,i]=S.useState(null),l=S.useRef(a),o=S.useCallback(u=>{const f=Nd(u.target);f&&i(h=>h?(h.set(f,af(f)),new Map(h)):null)},[]);return S.useEffect(()=>{const u=l.current;if(a!==u){f(u);const h=a.map(m=>{const g=Nd(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,af(g)]):null}).filter(m=>m!=null);i(h.length?new Map(h):null),l.current=a}return()=>{f(a),f(u)};function f(h){h.forEach(m=>{const g=Nd(m);g?.removeEventListener("scroll",o)})}},[o,a]),S.useMemo(()=>a.length?n?Array.from(n.values()).reduce((u,f)=>Ti(u,f),Gn):ly(a):Gn,[a,n])}function pp(a,n){n===void 0&&(n=[]);const i=S.useRef(null);return S.useEffect(()=>{i.current=null},n),S.useEffect(()=>{const l=a!==Gn;l&&!i.current&&(i.current=a),!l&&i.current&&(i.current=null)},[a]),i.current?Ho(a,i.current):Gn}function nx(a){S.useEffect(()=>{if(!tu)return;const n=a.map(i=>{let{sensor:l}=i;return l.setup==null?void 0:l.setup()});return()=>{for(const i of n)i?.()}},a.map(n=>{let{sensor:i}=n;return i}))}function ax(a,n){return S.useMemo(()=>a.reduce((i,l)=>{let{eventName:o,handler:u}=l;return i[o]=f=>{u(f,n)},i},{}),[a,n])}function dy(a){return S.useMemo(()=>a?RE(a):null,[a])}const yp=[];function rx(a,n){n===void 0&&(n=ji);const[i]=a,l=dy(i?an(i):null),[o,u]=S.useState(yp);function f(){u(()=>a.length?a.map(m=>iy(m)?l:new wf(n(m),m)):yp)}const h=nu({callback:f});return Qn(()=>{h?.disconnect(),f(),a.forEach(m=>h?.observe(m))},[a]),o}function ix(a){if(!a)return null;if(a.children.length>1)return a;const n=a.children[0];return Ps(n)?n:a}function sx(a){let{measure:n}=a;const[i,l]=S.useState(null),o=S.useCallback(g=>{for(const{target:p}of g)if(Ps(p)){l(b=>{const w=n(p);return b?{...b,width:w.width,height:w.height}:w});break}},[n]),u=nu({callback:o}),f=S.useCallback(g=>{const p=ix(g);u?.disconnect(),p&&u?.observe(p),l(p?n(p):null)},[n,u]),[h,m]=Io(f);return S.useMemo(()=>({nodeRef:h,rect:i,setRef:m}),[i,h,m])}const lx=[{sensor:Ef,options:{}},{sensor:uy,options:{}}],ox={current:{}},To={draggable:{measure:cp},droppable:{measure:cp,strategy:Vs.WhileDragging,frequency:sf.Optimized},dragOverlay:{measure:ji}};class js extends Map{get(n){var i;return n!=null&&(i=super.get(n))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:i}=n;return!i})}getNodeFor(n){var i,l;return(i=(l=this.get(n))==null?void 0:l.node.current)!=null?i:void 0}}const ux={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new js,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:To,measureDroppableContainers:qo,windowRect:null,measuringScheduled:!1},cx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qo,draggableNodes:new Map,over:null,measureDroppableContainers:qo},au=S.createContext(cx),fy=S.createContext(ux);function dx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new js}}}function fx(a,n){switch(n.type){case wt.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case wt.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:n.coordinates.x-a.draggable.initialCoordinates.x,y:n.coordinates.y-a.draggable.initialCoordinates.y}}};case wt.DragEnd:case wt.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wt.RegisterDroppable:{const{element:i}=n,{id:l}=i,o=new js(a.droppable.containers);return o.set(l,i),{...a,droppable:{...a.droppable,containers:o}}}case wt.SetDroppableDisabled:{const{id:i,key:l,disabled:o}=n,u=a.droppable.containers.get(i);if(!u||l!==u.key)return a;const f=new js(a.droppable.containers);return f.set(i,{...u,disabled:o}),{...a,droppable:{...a.droppable,containers:f}}}case wt.UnregisterDroppable:{const{id:i,key:l}=n,o=a.droppable.containers.get(i);if(!o||l!==o.key)return a;const u=new js(a.droppable.containers);return u.delete(i),{...a,droppable:{...a.droppable,containers:u}}}default:return a}}function hx(a){let{disabled:n}=a;const{active:i,activatorEvent:l,draggableNodes:o}=S.useContext(au),u=tf(l),f=tf(i?.id);return S.useEffect(()=>{if(!n&&!l&&u&&f!=null){if(!bf(u)||document.activeElement===u.target)return;const h=o.get(f);if(!h)return;const{activatorNode:m,node:g}=h;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const p of[m.current,g.current]){if(!p)continue;const b=nE(p);if(b){b.focus();break}}})}},[l,n,o,f,u]),null}function mx(a,n){let{transform:i,...l}=n;return a!=null&&a.length?a.reduce((o,u)=>u({transform:o,...l}),i):i}function gx(a){return S.useMemo(()=>({draggable:{...To.draggable,...a?.draggable},droppable:{...To.droppable,...a?.droppable},dragOverlay:{...To.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function vx(a){let{activeNode:n,measure:i,initialRect:l,config:o=!0}=a;const u=S.useRef(!1),{x:f,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Qn(()=>{if(!f&&!h||!n){u.current=!1;return}if(u.current||!l)return;const g=n?.node.current;if(!g||g.isConnected===!1)return;const p=i(g),b=ty(p,l);if(f||(b.x=0),h||(b.y=0),u.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const w=ny(g);w&&w.scrollBy({top:b.y,left:b.x})}},[n,f,h,l,i])}const hy=S.createContext({...Gn,scaleX:1,scaleY:1});var Xa;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Xa||(Xa={}));const px=S.memo(function(n){var i,l,o,u;let{id:f,accessibility:h,autoScroll:m=!0,children:g,sensors:p=lx,collisionDetection:b=_E,measuring:w,modifiers:_,...A}=n;const C=S.useReducer(fx,void 0,dx),[j,L]=C,[q,U]=oE(),[O,I]=S.useState(Xa.Uninitialized),G=O===Xa.Initialized,{draggable:{active:K,nodes:Q,translate:Z},droppable:{containers:he}}=j,ue=K!=null?Q.get(K):null,ye=S.useRef({initial:null,translated:null}),Se=S.useMemo(()=>{var lt;return K!=null?{id:K,data:(lt=ue?.data)!=null?lt:ox,rect:ye}:null},[K,ue]),Ee=S.useRef(null),[xe,E]=S.useState(null),[X,F]=S.useState(null),ce=Gs(A,Object.values(A)),ve=Js("DndDescribedBy",f),R=S.useMemo(()=>he.getEnabled(),[he]),H=gx(w),{droppableRects:P,measureDroppableContainers:J,measuringScheduled:le}=QE(R,{dragging:G,dependencies:[Z.x,Z.y],config:H.droppable}),ie=XE(Q,K),_e=S.useMemo(()=>X?nf(X):null,[X]),Me=Ar(),te=JE(ie,H.draggable.measure);vx({activeNode:K!=null?Q.get(K):null,config:Me.layoutShiftCompensation,initialRect:te,measure:H.draggable.measure});const pe=gp(ie,H.draggable.measure,te),at=gp(ie?ie.parentElement:null),Xe=S.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:Q,draggingNode:null,draggingNodeRect:null,droppableContainers:he,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=he.getNodeFor((i=Xe.current.over)==null?void 0:i.id),Ae=sx({measure:H.dragOverlay.measure}),W=(l=Ae.nodeRef.current)!=null?l:ie,je=G?(o=Ae.rect)!=null?o:pe:null,et=!!(Ae.nodeRef.current&&Ae.rect),qe=WE(et?null:pe),tt=dy(W?an(W):null),$e=ex(G?de??ie:null),Pe=rx($e),Je=mx(_,{transform:{x:Z.x-qe.x,y:Z.y-qe.y,scaleX:1,scaleY:1},activatorEvent:X,active:Se,activeNodeRect:pe,containerNodeRect:at,draggingNodeRect:je,over:Xe.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:$e,scrollableAncestorRects:Pe,windowRect:tt}),Lt=_e?Ti(_e,Z):null,ke=tx($e),Bt=pp(ke),St=pp(ke,[pe]),It=Ti(Je,Bt),Ht=je?EE(je,Je):null,vn=Se&&Ht?b({active:Se,collisionRect:Ht,droppableRects:P,droppableContainers:R,pointerCoordinates:Lt}):null,Jn=pE(vn,"id"),[Gt,Yn]=S.useState(null),Zn=et?Je:Ti(Je,St),Ot=wE(Zn,(u=Gt?.rect)!=null?u:null,pe),Yt=S.useRef(null),pt=S.useCallback((lt,ot)=>{let{sensor:Et,options:Xt}=ot;if(Ee.current==null)return;const Pt=Q.get(Ee.current);if(!Pt)return;const qt=lt.nativeEvent,Qt=new Et({active:Ee.current,activeNode:Pt,event:qt,options:Xt,context:Xe,onAbort(yt){if(!Q.get(yt))return;const{onDragAbort:rn}=ce.current,yn={id:yt};rn?.(yn),q({type:"onDragAbort",event:yn})},onPending(yt,jn,rn,yn){if(!Q.get(yt))return;const{onDragPending:Wn}=ce.current,Mn={id:yt,constraint:jn,initialCoordinates:rn,offset:yn};Wn?.(Mn),q({type:"onDragPending",event:Mn})},onStart(yt){const jn=Ee.current;if(jn==null)return;const rn=Q.get(jn);if(!rn)return;const{onDragStart:yn}=ce.current,Fn={activatorEvent:qt,active:{id:jn,data:rn.data,rect:ye}};As.unstable_batchedUpdates(()=>{yn?.(Fn),I(Xa.Initializing),L({type:wt.DragStart,initialCoordinates:yt,active:jn}),q({type:"onDragStart",event:Fn}),E(Yt.current),F(qt)})},onMove(yt){L({type:wt.DragMove,coordinates:yt})},onEnd:pn(wt.DragEnd),onCancel:pn(wt.DragCancel)});Yt.current=Qt;function pn(yt){return async function(){const{active:rn,collisions:yn,over:Fn,scrollAdjustedTranslate:Wn}=Xe.current;let Mn=null;if(rn&&Wn){const{cancelDrop:Sa}=ce.current;Mn={activatorEvent:qt,active:rn,collisions:yn,delta:Wn,over:Fn},yt===wt.DragEnd&&typeof Sa=="function"&&await Promise.resolve(Sa(Mn))&&(yt=wt.DragCancel)}Ee.current=null,As.unstable_batchedUpdates(()=>{L({type:yt}),I(Xa.Uninitialized),Yn(null),E(null),F(null),Yt.current=null;const Sa=yt===wt.DragEnd?"onDragEnd":"onDragCancel";if(Mn){const bn=ce.current[Sa];bn?.(Mn),q({type:Sa,event:Mn})}})}}},[Q]),ru=S.useCallback((lt,ot)=>(Et,Xt)=>{const Pt=Et.nativeEvent,qt=Q.get(Xt);if(Ee.current!==null||!qt||Pt.dndKit||Pt.defaultPrevented)return;const Qt={active:qt};lt(Et,ot.options,Qt)===!0&&(Pt.dndKit={capturedBy:ot.sensor},Ee.current=Xt,pt(Et,ot))},[Q,pt]),Zs=PE(p,ru);nx(p),Qn(()=>{pe&&O===Xa.Initializing&&I(Xa.Initialized)},[pe,O]),S.useEffect(()=>{const{onDragMove:lt}=ce.current,{active:ot,activatorEvent:Et,collisions:Xt,over:Pt}=Xe.current;if(!ot||!Et)return;const qt={active:ot,activatorEvent:Et,collisions:Xt,delta:{x:It.x,y:It.y},over:Pt};As.unstable_batchedUpdates(()=>{lt?.(qt),q({type:"onDragMove",event:qt})})},[It.x,It.y]),S.useEffect(()=>{const{active:lt,activatorEvent:ot,collisions:Et,droppableContainers:Xt,scrollAdjustedTranslate:Pt}=Xe.current;if(!lt||Ee.current==null||!ot||!Pt)return;const{onDragOver:qt}=ce.current,Qt=Xt.get(Jn),pn=Qt&&Qt.rect.current?{id:Qt.id,rect:Qt.rect.current,data:Qt.data,disabled:Qt.disabled}:null,yt={active:lt,activatorEvent:ot,collisions:Et,delta:{x:Pt.x,y:Pt.y},over:pn};As.unstable_batchedUpdates(()=>{Yn(pn),qt?.(yt),q({type:"onDragOver",event:yt})})},[Jn]),Qn(()=>{Xe.current={activatorEvent:X,active:Se,activeNode:ie,collisionRect:Ht,collisions:vn,droppableRects:P,draggableNodes:Q,draggingNode:W,draggingNodeRect:je,droppableContainers:he,over:Gt,scrollableAncestors:$e,scrollAdjustedTranslate:It},ye.current={initial:je,translated:Ht}},[Se,ie,vn,Ht,Q,W,je,P,he,Gt,$e,It]),YE({...Me,delta:Z,draggingRect:Ht,pointerCoordinates:Lt,scrollableAncestors:$e,scrollableAncestorRects:Pe});const iu=S.useMemo(()=>({active:Se,activeNode:ie,activeNodeRect:pe,activatorEvent:X,collisions:vn,containerNodeRect:at,dragOverlay:Ae,draggableNodes:Q,droppableContainers:he,droppableRects:P,over:Gt,measureDroppableContainers:J,scrollableAncestors:$e,scrollableAncestorRects:Pe,measuringConfiguration:H,measuringScheduled:le,windowRect:tt}),[Se,ie,pe,X,vn,at,Ae,Q,he,P,Gt,J,$e,Pe,H,le,tt]),Tr=S.useMemo(()=>({activatorEvent:X,activators:Zs,active:Se,activeNodeRect:pe,ariaDescribedById:{draggable:ve},dispatch:L,draggableNodes:Q,over:Gt,measureDroppableContainers:J}),[X,Zs,Se,pe,L,ve,Q,Gt,J]);return Rt.createElement(ey.Provider,{value:U},Rt.createElement(au.Provider,{value:Tr},Rt.createElement(fy.Provider,{value:iu},Rt.createElement(hy.Provider,{value:Ot},g)),Rt.createElement(hx,{disabled:h?.restoreFocus===!1})),Rt.createElement(dE,{...h,hiddenTextDescribedById:ve}));function Ar(){const lt=xe?.autoScrollEnabled===!1,ot=typeof m=="object"?m.enabled===!1:m===!1,Et=G&&!lt&&!ot;return typeof m=="object"?{...m,enabled:Et}:{enabled:Et}}}),yx=S.createContext(null),bp="button",bx="Draggable";function _x(a){let{id:n,data:i,disabled:l=!1,attributes:o}=a;const u=Js(bx),{activators:f,activatorEvent:h,active:m,activeNodeRect:g,ariaDescribedById:p,draggableNodes:b,over:w}=S.useContext(au),{role:_=bp,roleDescription:A="draggable",tabIndex:C=0}=o??{},j=m?.id===n,L=S.useContext(j?hy:yx),[q,U]=Io(),[O,I]=Io(),G=ax(f,n),K=Gs(i);Qn(()=>(b.set(n,{id:n,key:u,node:q,activatorNode:O,data:K}),()=>{const Z=b.get(n);Z&&Z.key===u&&b.delete(n)}),[b,n]);const Q=S.useMemo(()=>({role:_,tabIndex:C,"aria-disabled":l,"aria-pressed":j&&_===bp?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[l,_,C,j,A,p.draggable]);return{active:m,activatorEvent:h,activeNodeRect:g,attributes:Q,isDragging:j,listeners:l?void 0:G,node:q,over:w,setNodeRef:U,setActivatorNodeRef:I,transform:L}}function wx(){return S.useContext(fy)}const Sx="Droppable",Ex={timeout:25};function xx(a){let{data:n,disabled:i=!1,id:l,resizeObserverConfig:o}=a;const u=Js(Sx),{active:f,dispatch:h,over:m,measureDroppableContainers:g}=S.useContext(au),p=S.useRef({disabled:i}),b=S.useRef(!1),w=S.useRef(null),_=S.useRef(null),{disabled:A,updateMeasurementsFor:C,timeout:j}={...Ex,...o},L=Gs(C??l),q=S.useCallback(()=>{if(!b.current){b.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{g(Array.isArray(L.current)?L.current:[L.current]),_.current=null},j)},[j]),U=nu({callback:q,disabled:A||!f}),O=S.useCallback((Q,Z)=>{U&&(Z&&(U.unobserve(Z),b.current=!1),Q&&U.observe(Q))},[U]),[I,G]=Io(O),K=Gs(n);return S.useEffect(()=>{!U||!I.current||(U.disconnect(),b.current=!1,U.observe(I.current))},[I,U]),S.useEffect(()=>(h({type:wt.RegisterDroppable,element:{id:l,key:u,disabled:i,node:I,rect:w,data:K}}),()=>h({type:wt.UnregisterDroppable,key:u,id:l})),[l]),S.useEffect(()=>{i!==p.current.disabled&&(h({type:wt.SetDroppableDisabled,id:l,key:u,disabled:i}),p.current.disabled=i)},[l,u,i,h]),{active:f,rect:w,isOver:m?.id===l,node:I,over:m,setNodeRef:G}}function my(a,n,i){const l=a.slice();return l.splice(i<0?l.length+i:i,0,l.splice(n,1)[0]),l}function Tx(a,n){return a.reduce((i,l,o)=>{const u=n.get(l);return u&&(i[o]=u),i},Array(a.length))}function wo(a){return a!==null&&a>=0}function Ax(a,n){if(a===n)return!0;if(a.length!==n.length)return!1;for(let i=0;i<a.length;i++)if(a[i]!==n[i])return!1;return!0}function Rx(a){return typeof a=="boolean"?{draggable:a,droppable:a}:a}const gy=a=>{let{rects:n,activeIndex:i,overIndex:l,index:o}=a;const u=my(n,l,i),f=n[o],h=u[o];return!h||!f?null:{x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height}},So={scaleX:1,scaleY:1},Dx=a=>{var n;let{activeIndex:i,activeNodeRect:l,index:o,rects:u,overIndex:f}=a;const h=(n=u[i])!=null?n:l;if(!h)return null;if(o===i){const g=u[f];return g?{x:0,y:i<f?g.top+g.height-(h.top+h.height):g.top-h.top,...So}:null}const m=Ox(u,o,i);return o>i&&o<=f?{x:0,y:-h.height-m,...So}:o<i&&o>=f?{x:0,y:h.height+m,...So}:{x:0,y:0,...So}};function Ox(a,n,i){const l=a[n],o=a[n-1],u=a[n+1];return l?i<n?o?l.top-(o.top+o.height):u?u.top-(l.top+l.height):0:u?u.top-(l.top+l.height):o?l.top-(o.top+o.height):0:0}const vy="Sortable",py=Rt.createContext({activeIndex:-1,containerId:vy,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gy,disabled:{draggable:!1,droppable:!1}});function Cx(a){let{children:n,id:i,items:l,strategy:o=gy,disabled:u=!1}=a;const{active:f,dragOverlay:h,droppableRects:m,over:g,measureDroppableContainers:p}=wx(),b=Js(vy,i),w=h.rect!==null,_=S.useMemo(()=>l.map(G=>typeof G=="object"&&"id"in G?G.id:G),[l]),A=f!=null,C=f?_.indexOf(f.id):-1,j=g?_.indexOf(g.id):-1,L=S.useRef(_),q=!Ax(_,L.current),U=j!==-1&&C===-1||q,O=Rx(u);Qn(()=>{q&&A&&p(_)},[q,_,A,p]),S.useEffect(()=>{L.current=_},[_]);const I=S.useMemo(()=>({activeIndex:C,containerId:b,disabled:O,disableTransforms:U,items:_,overIndex:j,useDragOverlay:w,sortedRects:Tx(_,m),strategy:o}),[C,b,O.draggable,O.droppable,U,_,j,m,w,o]);return Rt.createElement(py.Provider,{value:I},n)}const Nx=a=>{let{id:n,items:i,activeIndex:l,overIndex:o}=a;return my(i,l,o).indexOf(n)},jx=a=>{let{containerId:n,isSorting:i,wasDragging:l,index:o,items:u,newIndex:f,previousItems:h,previousContainerId:m,transition:g}=a;return!g||!l||h!==u&&o===f?!1:i?!0:f!==o&&n===m},Mx={duration:200,easing:"ease"},yy="transform",kx=Ys.Transition.toString({property:yy,duration:0,easing:"linear"}),zx={roleDescription:"sortable"};function Ux(a){let{disabled:n,index:i,node:l,rect:o}=a;const[u,f]=S.useState(null),h=S.useRef(i);return Qn(()=>{if(!n&&i!==h.current&&l.current){const m=o.current;if(m){const g=ji(l.current,{ignoreTransform:!0}),p={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(p.x||p.y)&&f(p)}}i!==h.current&&(h.current=i)},[n,i,l,o]),S.useEffect(()=>{u&&f(null)},[u]),u}function Lx(a){let{animateLayoutChanges:n=jx,attributes:i,disabled:l,data:o,getNewIndex:u=Nx,id:f,strategy:h,resizeObserverConfig:m,transition:g=Mx}=a;const{items:p,containerId:b,activeIndex:w,disabled:_,disableTransforms:A,sortedRects:C,overIndex:j,useDragOverlay:L,strategy:q}=S.useContext(py),U=Bx(l,_),O=p.indexOf(f),I=S.useMemo(()=>({sortable:{containerId:b,index:O,items:p},...o}),[b,o,O,p]),G=S.useMemo(()=>p.slice(p.indexOf(f)),[p,f]),{rect:K,node:Q,isOver:Z,setNodeRef:he}=xx({id:f,data:I,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...m}}),{active:ue,activatorEvent:ye,activeNodeRect:Se,attributes:Ee,setNodeRef:xe,listeners:E,isDragging:X,over:F,setActivatorNodeRef:ce,transform:ve}=_x({id:f,data:I,attributes:{...zx,...i},disabled:U.draggable}),R=FS(he,xe),H=!!ue,P=H&&!A&&wo(w)&&wo(j),J=!L&&X,le=J&&P?ve:null,_e=P?le??(h??q)({rects:C,activeNodeRect:Se,activeIndex:w,overIndex:j,index:O}):null,Me=wo(w)&&wo(j)?u({id:f,items:p,activeIndex:w,overIndex:j}):O,te=ue?.id,pe=S.useRef({activeId:te,items:p,newIndex:Me,containerId:b}),at=p!==pe.current.items,Xe=n({active:ue,containerId:b,isDragging:X,isSorting:H,id:f,index:O,items:p,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:g,wasDragging:pe.current.activeId!=null}),de=Ux({disabled:!Xe,index:O,node:Q,rect:K});return S.useEffect(()=>{H&&pe.current.newIndex!==Me&&(pe.current.newIndex=Me),b!==pe.current.containerId&&(pe.current.containerId=b),p!==pe.current.items&&(pe.current.items=p)},[H,Me,b,p]),S.useEffect(()=>{if(te===pe.current.activeId)return;if(te!=null&&pe.current.activeId==null){pe.current.activeId=te;return}const W=setTimeout(()=>{pe.current.activeId=te},50);return()=>clearTimeout(W)},[te]),{active:ue,activeIndex:w,attributes:Ee,data:I,rect:K,index:O,newIndex:Me,items:p,isOver:Z,isSorting:H,isDragging:X,listeners:E,node:Q,overIndex:j,over:F,setNodeRef:R,setActivatorNodeRef:ce,setDroppableNodeRef:he,setDraggableNodeRef:xe,transform:de??_e,transition:Ae()};function Ae(){if(de||at&&pe.current.newIndex===O)return kx;if(!(J&&!bf(ye)||!g)&&(H||Xe))return Ys.Transition.toString({...g,property:yy})}}function Bx(a,n){var i,l;return typeof a=="boolean"?{draggable:a,droppable:!1}:{draggable:(i=a?.draggable)!=null?i:n.draggable,droppable:(l=a?.droppable)!=null?l:n.droppable}}Be.Down,Be.Right,Be.Up,Be.Left;const Ix=a=>{let{transform:n}=a;return{...n,x:0}};function Hx({value:a,onChange:n}){return x.jsx("div",{className:"flex gap-1 flex-wrap",children:Rs.map(i=>x.jsx("button",{className:"w-6 h-6 rounded border-2 cursor-pointer p-0",style:{backgroundColor:i,borderColor:a===i?"#1a1a2e":"transparent"},onClick:()=>n(i),title:i},i))})}function qx(){const a=ae(E=>E.roadmap.streams),n=ae(E=>E.addStream),i=ae(E=>E.reorderStreams),l=ae(E=>E.removeStream),o=ae(E=>E.addItem),u=ae(E=>E.addSubItem),f=ae(E=>E.toggleStreamCollapse),h=ae(E=>E.toggleItemExpanded),m=ae(E=>E.toggleSubItemPhasesExpanded),g=se(E=>E.selectItem),p=se(E=>E.openEditPanel),b=se(E=>E.selectedItemId),w=se(E=>E.showLeadColumn),_=se(E=>E.showSupportColumn),A=se(E=>E.showPhaseColumn),C=se(E=>E.toggleLeadColumn),j=se(E=>E.toggleSupportColumn),L=se(E=>E.togglePhaseColumn),[q,U]=S.useState(!1),[O,I]=S.useState(""),[G,K]=S.useState(Rs[0]),Q=hE(fE(Ef,{activationConstraint:{distance:5}})),Z=E=>{const{active:X,over:F}=E;F&&X.id!==F.id&&i(X.id,F.id)},he=()=>{O.trim()&&(n(O.trim(),G),I(""),K(Rs[(a.length+1)%Rs.length]),U(!1))},ue=E=>{E.key==="Enter"&&he(),E.key==="Escape"&&U(!1)},ye=(E,X)=>{g(E,X),p()},Se=160,Ee=Se+(w?Nn:0)+(_?Nn:0)+(A?Nn:0),xe=a.map(E=>E.id);return x.jsxs("div",{className:"bg-white border-r border-gray-200 flex-shrink-0 overflow-x-hidden",style:{width:Ee+20},children:[x.jsxs("div",{className:"border-b border-gray-200 flex items-end px-2 pb-1 gap-0",style:{height:Yd},children:[x.jsx("div",{className:"text-xs text-gray-400 font-medium",style:{width:Se},children:"STREAMS"}),x.jsx(kd,{label:"Lead",active:w,onClick:C}),x.jsx(kd,{label:"Support",active:_,onClick:j}),x.jsx(kd,{label:"Phase",active:A,onClick:L})]}),(w||_||A)&&x.jsxs("div",{className:"flex items-center border-b border-gray-200 bg-gray-50 px-2",style:{height:24},children:[x.jsx("div",{style:{width:Se}}),w&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Nn},children:"Lead"}),_&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Nn},children:"Support"}),A&&x.jsx("div",{className:"text-[10px] text-gray-400 font-medium truncate",style:{width:Nn},children:"Phase"})]}),x.jsx(px,{sensors:Q,collisionDetection:yE,modifiers:[Ix],onDragEnd:Z,children:x.jsx(Cx,{items:xe,strategy:Dx,children:x.jsx("div",{children:a.map(E=>x.jsx($x,{stream:E,nameColumnWidth:Se,selectedItemId:b,showLead:w,showSupport:_,showPhase:A,onToggleCollapse:f,onRemoveStream:l,onAddItem:o,onAddSubItem:u,onToggleItemExpanded:h,onToggleSubItemPhasesExpanded:m,onSelectItem:g,onDoubleClickItem:ye},E.id))})})}),q?x.jsxs("div",{className:"p-2 border-t border-gray-200",children:[x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1 mb-2 outline-none focus:border-blue-400",placeholder:"Stream name...",value:O,onChange:E=>I(E.target.value),onKeyDown:ue,autoFocus:!0}),x.jsx(Hx,{value:G,onChange:K}),x.jsxs("div",{className:"flex gap-1 mt-2",children:[x.jsx("button",{onClick:he,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded border-none cursor-pointer hover:bg-blue-600",children:"Add"}),x.jsx("button",{onClick:()=>U(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded border-none cursor-pointer hover:bg-gray-200",children:"Cancel"})]})]}):x.jsx("div",{className:"flex items-center px-3 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-t border-gray-200",style:{height:wr},onClick:()=>U(!0),children:"+ Add Stream"})]})}function $x({stream:a,nameColumnWidth:n,selectedItemId:i,showLead:l,showSupport:o,showPhase:u,onToggleCollapse:f,onRemoveStream:h,onAddItem:m,onAddSubItem:g,onToggleItemExpanded:p,onToggleSubItemPhasesExpanded:b,onSelectItem:w,onDoubleClickItem:_}){const{attributes:A,listeners:C,setNodeRef:j,transform:L,transition:q,isDragging:U}=Lx({id:a.id}),O={transform:Ys.Transform.toString(L),transition:q,opacity:U?.5:1,zIndex:U?50:void 0,position:"relative"};return x.jsxs("div",{ref:j,style:O,children:[x.jsxs("div",{className:"flex items-center gap-1 px-1 border-b border-gray-100 hover:bg-gray-50 group",style:{height:wr},children:[x.jsx("span",{className:"text-gray-300 hover:text-gray-500 cursor-grab active:cursor-grabbing flex-shrink-0 px-0.5 text-xs select-none",...A,...C,title:"Drag to reorder",children:""}),x.jsx("span",{className:"text-xs text-gray-400 w-4 flex-shrink-0 cursor-pointer",onClick:()=>f(a.id),children:a.collapsed?"":""}),x.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:a.color}}),x.jsx("span",{className:"text-sm font-medium truncate flex-1 cursor-pointer",onClick:()=>f(a.id),children:a.name}),x.jsx("button",{onClick:I=>{I.stopPropagation(),window.confirm(`Delete stream "${a.name}"?`)&&h(a.id)},className:"text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 border-none bg-transparent p-0 cursor-pointer",title:"Delete stream",children:""})]}),!a.collapsed&&x.jsxs(x.Fragment,{children:[a.items.map(I=>x.jsxs("div",{children:[x.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer group/item ${i===I.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-600"}`,style:{height:Ja},onClick:()=>w(I.id,a.id),onDoubleClick:()=>_(I.id,a.id),children:[x.jsx("span",{className:"text-[10px] text-gray-300 hover:text-gray-500 w-4 flex-shrink-0 cursor-pointer ml-4 mr-0.5",onClick:G=>{G.stopPropagation(),p(a.id,I.id)},title:I.expanded?"Collapse sub-tasks":"Expand sub-tasks",children:I.subItems&&I.subItems.length>0?I.expanded?"":"":x.jsx("span",{className:"opacity-0 group-hover/item:opacity-100",children:""})}),x.jsx("div",{className:"text-sm truncate",style:{width:n-24},children:I.name}),l&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Nn},title:I.lead||"",children:I.lead||""}),o&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Nn},title:I.support||"",children:I.support||""}),u&&x.jsx("div",{className:"text-xs text-gray-400 truncate",style:{width:Nn},title:fo[I.phase]||I.phase,children:fo[I.phase]||I.phase})]}),I.expanded&&I.subItems&&I.subItems.map(G=>{const K=G.phaseBars||[],Q=K.length>0;return x.jsxs("div",{children:[x.jsxs("div",{className:`flex items-center px-2 border-b border-gray-50 cursor-pointer group/sub ${i===G.id?"bg-blue-50 text-blue-700":"hover:bg-gray-50 text-gray-500"}`,style:{height:Sr+(!G.phasesExpanded&&Q?Mo:0)},onClick:()=>w(G.id,a.id),onDoubleClick:()=>_(G.id,a.id),children:[x.jsx("span",{className:"text-[8px] text-gray-300 hover:text-gray-500 w-3 flex-shrink-0 cursor-pointer ml-7 mr-0.5",onClick:Z=>{Z.stopPropagation(),b(a.id,I.id,G.id)},title:G.phasesExpanded?"Collapse phases":"Expand phases",children:Q||G.phasesExpanded?G.phasesExpanded?"":"":x.jsx("span",{className:"opacity-0 group-hover/sub:opacity-100",children:""})}),x.jsx("div",{className:"text-xs truncate",style:{width:n-30},children:G.name}),l&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Nn},title:G.lead||"",children:G.lead||""}),o&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Nn},title:G.support||"",children:G.support||""}),u&&x.jsx("div",{className:"text-[10px] text-gray-400 truncate pl-2",style:{width:Nn},title:fo[G.phase]||G.phase,children:fo[G.phase]||G.phase})]}),G.phasesExpanded&&x.jsx("div",{className:"flex items-center px-2 pl-12 border-b border-gray-50 overflow-hidden",style:{height:Jo},children:Q?x.jsx("div",{className:"flex items-center gap-1 overflow-hidden",children:K.map(Z=>x.jsx("span",{className:"text-[9px] text-white px-1.5 py-0.5 rounded-sm truncate max-w-[80px]",style:{backgroundColor:Z.color},title:Z.name,children:Z.name},Z.id))}):x.jsx("span",{className:"text-[10px] text-gray-300 italic",children:"Click timeline to add phases"})})]},G.id)}),I.expanded&&x.jsx("div",{className:"flex items-center px-2 pl-12 text-xs text-gray-300 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Sr},onClick:()=>g(a.id,I.id),children:"+ Add Sub-task"})]},I.id)),x.jsx("div",{className:"flex items-center px-2 pl-8 text-sm text-gray-400 hover:text-blue-500 cursor-pointer border-b border-gray-50",style:{height:Ja},onClick:()=>m(a.id),children:"+ Add Item"})]})]})}function kd({label:a,active:n,onClick:i}){return x.jsx("button",{onClick:i,className:`text-[10px] px-1.5 py-0.5 rounded border cursor-pointer transition-colors ml-1 ${n?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-400 border-gray-200 hover:text-gray-600"}`,title:`${n?"Hide":"Show"} ${a} column`,children:a})}function Ri(a,n,i,l){const o=Dt(nt(a),i,l),u=Dt(nt(n),i,l);return{x:o,width:Math.max(u-o,10)}}function by(a){const n=[];let i=0;for(const l of a){const o=i;i+=wr;const u=[],f=[];if(!l.collapsed){for(const h of l.items){const m=i;u.push({itemId:h.id,y:i}),i+=Ja;const g=[];if(h.expanded&&h.subItems&&h.subItems.length>0){for(const p of h.subItems){const b=i;i+=Sr;const w=p.phaseBars&&p.phaseBars.length>0;!p.phasesExpanded&&w&&(i+=Mo);let _;p.phasesExpanded&&(_=i,i+=Jo),g.push({subItemId:p.id,y:b,phaseBarRowY:_})}i+=Sr}f.push({itemId:h.id,y:m,subItemYs:g})}i+=Ja}n.push({streamId:l.id,y:o,headerY:o,height:i-o,itemYs:u,itemLayouts:f})}return n}function xf(a,n,i){const l=nt(a),o=nt(n),u=Er(o,Uv*7),f=Er(l,-Uv*7);return i==="week"?QS(f,u,l):JS(f,u,l)}function Gx(a){if(a.length===0)return 0;const n=a[a.length-1];return n.x+n.width}function Yx(a){const n=by(a);if(n.length===0)return 200;const i=n[n.length-1];return i.y+i.height+Ja}function Vx(a){const n=se(m=>m.isPanning),i=se(m=>m.setPanning),l=S.useRef(!1),o=S.useRef({x:0,y:0}),u=S.useCallback(m=>{n&&(l.current=!0,o.current={x:m.clientX,y:m.clientY},m.preventDefault())},[n]),f=S.useCallback(m=>{if(!l.current||!a.current)return;const g=m.clientX-o.current.x,p=m.clientY-o.current.y;a.current.scrollLeft-=g,a.current.scrollTop-=p,o.current={x:m.clientX,y:m.clientY}},[a]),h=S.useCallback(()=>{l.current=!1},[]);S.useEffect(()=>{const m=p=>{p.code==="Space"&&!p.repeat&&!(p.target instanceof HTMLInputElement||p.target instanceof HTMLTextAreaElement)&&(p.preventDefault(),i(!0))},g=p=>{p.code==="Space"&&(i(!1),l.current=!1)};return window.addEventListener("keydown",m),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)}},[i]),S.useEffect(()=>{const m=a.current;if(m)return m.addEventListener("mousedown",u),window.addEventListener("mousemove",f),window.addEventListener("mouseup",h),()=>{m.removeEventListener("mousedown",u),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h)}},[u,f,h,a])}function Kx(){const a=ae(u=>u.roadmap.settings),n=se(u=>u.zoom),i=se(u=>u.showMonthColors),l=S.useMemo(()=>xf(a.timelineStartDate,a.timelineEndDate,n),[a.timelineStartDate,a.timelineEndDate,n]),o=S.useMemo(()=>{if(n!=="month")return[];const u=[];let f=null;for(const h of l)h.sublabel&&(!f||f.label!==h.sublabel)?(f&&u.push(f),f={label:h.sublabel,x:h.x,width:h.width}):f&&h.sublabel===f.label&&(f.width+=h.width);return f&&u.push(f),u},[l,n]);return x.jsxs("div",{className:"sticky top-0 z-20 border-b border-gray-200",style:{height:Yd},children:[n==="month"&&x.jsx("div",{className:"relative h-5",children:o.map((u,f)=>x.jsx("div",{className:"absolute top-0 text-[10px] text-gray-400 font-medium text-center border-r border-gray-100",style:{left:u.x,width:u.width},children:u.label},f))}),x.jsx("div",{className:"relative",style:{height:n==="month"?30:Yd},children:l.map((u,f)=>x.jsx("div",{className:"absolute top-0 bottom-0 flex items-center justify-center text-xs text-gray-500 border-r border-gray-100",style:{left:u.x,width:u.width,backgroundColor:i?Mp[u.month]:void 0},children:u.label},f))})]})}function Xx({height:a}){const n=ae(u=>u.roadmap.settings),i=se(u=>u.zoom),l=se(u=>u.showMonthColors),o=S.useMemo(()=>xf(n.timelineStartDate,n.timelineEndDate,i),[n.timelineStartDate,n.timelineEndDate,i]);return x.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{height:a},children:o.map((u,f)=>x.jsx("div",{className:"absolute top-0 border-r border-gray-100",style:{left:u.x,width:u.width,height:a,backgroundColor:l?Mp[u.month]:void 0}},f))})}function Px({height:a}){const n=ae(o=>o.roadmap.settings),i=se(o=>o.zoom),l=S.useMemo(()=>{const o=nt(n.timelineStartDate);return Dt(new Date,o,i)},[n.timelineStartDate,i]);return x.jsx("div",{className:"absolute top-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:l,height:a},children:x.jsx("div",{className:"absolute -top-0 -left-1.5 w-3.5 h-3.5 bg-red-500 rounded-full"})})}function $n(a){const n=Zp(a),i=Er(n,7),l=Math.abs(Bo(a,n)),o=Math.abs(Bo(a,i));return l<=o?n:i}function Di({side:a,onResizeStart:n,onResize:i,onResizeEnd:l}){const o=S.useRef(0),u=S.useRef(0),f=S.useCallback(h=>{h.stopPropagation(),h.preventDefault(),o.current=h.clientX,u.current=0,n();const m=p=>{const b=p.clientX-o.current;u.current=b,i(b)},g=()=>{l(u.current),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",g)},[n,i,l]);return x.jsx("div",{className:`absolute top-0 bottom-0 w-3 cursor-col-resize z-10 hover:bg-white/30 ${a==="left"?"-left-1":"-right-1"}`,onMouseDown:f})}function Qx({item:a,streamId:n,streamColor:i,streamItems:l,originDate:o}){const u=ae(W=>W.moveItem),f=ae(W=>W.resizeItem),h=se(W=>W.selectItem),m=se(W=>W.openEditPanel),g=se(W=>W.selectedItemId),p=se(W=>W.isPanning),b=se(W=>W.zoom),w=se(W=>W.dependencyMode),_=se(W=>W.dependencySourceItemId),A=se(W=>W.enterDependencyMode),C=se(W=>W.exitDependencyMode),j=ae(W=>W.addDependency),[L,q]=S.useState(!1),[U,O]=S.useState(0),[I,G]=S.useState(!1),[K,Q]=S.useState("right"),[Z,he]=S.useState(0),[ue,ye]=S.useState(!1),Se=S.useRef(null),Ee=S.useRef(0),xe=S.useRef(!1),E=S.useRef(a);E.current=a;const X=S.useRef(n);X.current=n;const F=S.useRef(l);F.current=l;const ce=S.useRef(o);ce.current=o;const ve=S.useRef(b);ve.current=b;const R=g===a.id,H=S.useMemo(()=>Ri(a.startDate,a.endDate,o,b),[a.startDate,a.endDate,o,b]),P=I&&K==="left"?H.x+Z:H.x+(L?U:0),J=I?K==="left"?H.width-Z:H.width+Z:H.width,le=S.useCallback(W=>{if(p||I)return;if(w){W.stopPropagation(),_&&_!==a.id&&(j(_,a.id),C());return}Ee.current=W.clientX,xe.current=!1;const je=W.currentTarget.closest(".timeline-scroll"),et=je?.scrollLeft||0,qe=$e=>{const Pe=$e.clientX-Ee.current;Math.abs(Pe)>3&&(xe.current=!0,q(!0),O(Pe))},tt=$e=>{if(window.removeEventListener("mousemove",qe),window.removeEventListener("mouseup",tt),xe.current){const Pe=$e.clientX-Ee.current,Je=(je?.scrollLeft||0)-et,Lt=Pe+Je,ke=E.current,Bt=ce.current,St=ve.current,It=F.current,Ht=X.current,vn=nt(ke.startDate),Jn=nt(ke.endDate),Gt=qn(Dt(vn,Bt,St)+Lt,Bt,St),Yn=$n(Gt),Zn=Jn.getTime()-vn.getTime(),Ot=new Date(Yn.getTime()+Zn),Yt=dt(Yn),pt=dt(Ot);ko(It,ke.id,Yt,pt)||u(Ht,ke.id,Yt,pt)}else h(E.current.id,X.current);q(!1),O(0)};window.addEventListener("mousemove",qe),window.addEventListener("mouseup",tt)},[p,I,w,_,a.id,u,h,j,C]),ie=S.useCallback(W=>{W.stopPropagation(),h(a.id,n),m()},[a.id,n,h,m]),_e=S.useCallback(W=>{G(!0),Q(W),he(0)},[]),Me=S.useCallback(W=>{he(W)},[]),te=S.useCallback(W=>{const je=E.current,et=ce.current,qe=ve.current,tt=F.current,$e=X.current,Pe=nt(je.startDate),Je=nt(je.endDate),Lt=pe.current;let ke,Bt;if(Lt==="left"){const St=qn(Dt(Pe,et,qe)+W,et,qe);ke=$n(St),Bt=Je}else{ke=Pe;const St=qn(Dt(Je,et,qe)+W,et,qe);Bt=$n(St)}if(Bt.getTime()-ke.getTime()>=7*864e5){const St=dt(ke),It=dt(Bt);ko(tt,je.id,St,It)||f($e,je.id,St,It)}G(!1),he(0)},[f]),pe=S.useRef("right"),at=S.useCallback(W=>{pe.current=W,_e(W)},[_e]),Xe=()=>{Se.current=setTimeout(()=>ye(!0),500)},de=()=>{Se.current&&clearTimeout(Se.current),ye(!1)},Ae=W=>{W.stopPropagation(),A(a.id)};return x.jsxs("div",{className:`absolute rounded-md shadow-sm cursor-pointer group select-none ${R?"ring-2 ring-blue-500 ring-offset-1":""} ${L?"opacity-80 shadow-md":""} ${w?"cursor-crosshair":""}`,style:{left:P,width:Math.max(J,20),top:Gd,height:jo,backgroundColor:i,zIndex:L||I?30:5},onMouseDown:le,onDoubleClick:ie,onMouseEnter:Xe,onMouseLeave:de,children:[x.jsx("div",{className:"px-2 text-xs text-white font-medium leading-[30px] truncate pointer-events-none",children:a.name}),!p&&!w&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>at("left"),onResize:Me,onResizeEnd:te}),x.jsx(Di,{side:"right",onResizeStart:()=>at("right"),onResize:Me,onResizeEnd:te})]}),!w&&x.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white border-2 border-gray-400 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer hover:border-blue-500 hover:bg-blue-100 z-20",onClick:Ae,title:"Create dependency"}),ue&&!L&&!I&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]}),a.lead&&x.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function Jx({subItem:a,parentItemId:n,streamId:i,streamColor:l,originDate:o}){const u=ae(te=>te.moveSubItem),f=ae(te=>te.resizeSubItem),h=se(te=>te.selectItem),m=se(te=>te.openEditPanel),g=se(te=>te.selectedItemId),p=se(te=>te.isPanning),b=se(te=>te.zoom),[w,_]=S.useState(!1),[A,C]=S.useState(0),[j,L]=S.useState(!1),[q,U]=S.useState("right"),[O,I]=S.useState(0),[G,K]=S.useState(!1),Q=S.useRef(null),Z=S.useRef(0),he=S.useRef(!1),ue=S.useRef(a);ue.current=a;const ye=S.useRef(o);ye.current=o;const Se=S.useRef(b);Se.current=b;const Ee=S.useRef(i);Ee.current=i;const xe=S.useRef(n);xe.current=n;const E=S.useRef("right"),X=g===a.id,F=S.useMemo(()=>Ri(a.startDate,a.endDate,o,b),[a.startDate,a.endDate,o,b]),ce=j&&q==="left"?F.x+O:F.x+(w?A:0),ve=j?q==="left"?F.width-O:F.width+O:F.width,R=l+"99",H=S.useCallback(te=>{if(p||j)return;Z.current=te.clientX,he.current=!1;const pe=te.currentTarget.closest(".timeline-scroll"),at=pe?.scrollLeft||0,Xe=Ae=>{const W=Ae.clientX-Z.current;Math.abs(W)>3&&(he.current=!0,_(!0),C(W))},de=Ae=>{if(window.removeEventListener("mousemove",Xe),window.removeEventListener("mouseup",de),he.current){const W=Ae.clientX-Z.current,je=(pe?.scrollLeft||0)-at,et=W+je,qe=ue.current,tt=ye.current,$e=Se.current,Pe=nt(qe.startDate),Je=nt(qe.endDate),Lt=qn(Dt(Pe,tt,$e)+et,tt,$e),ke=$n(Lt),Bt=Je.getTime()-Pe.getTime(),St=new Date(ke.getTime()+Bt);u(Ee.current,xe.current,qe.id,dt(ke),dt(St))}else h(ue.current.id,Ee.current);_(!1),C(0)};window.addEventListener("mousemove",Xe),window.addEventListener("mouseup",de)},[p,j,u,h]),P=S.useCallback(te=>{te.stopPropagation(),h(a.id,i),m()},[a.id,i,h,m]),J=S.useCallback(te=>{E.current=te,L(!0),U(te),I(0)},[]),le=S.useCallback(te=>{I(te)},[]),ie=S.useCallback(te=>{const pe=ue.current,at=ye.current,Xe=Se.current,de=E.current,Ae=nt(pe.startDate),W=nt(pe.endDate);let je,et;if(de==="left"){const qe=qn(Dt(Ae,at,Xe)+te,at,Xe);je=$n(qe),et=W}else{je=Ae;const qe=qn(Dt(W,at,Xe)+te,at,Xe);et=$n(qe)}et.getTime()-je.getTime()>=7*864e5&&f(Ee.current,xe.current,pe.id,dt(je),dt(et)),L(!1),I(0)},[f]),_e=()=>{Q.current=setTimeout(()=>K(!0),500)},Me=()=>{Q.current&&clearTimeout(Q.current),K(!1)};return x.jsxs("div",{className:`absolute rounded cursor-pointer group select-none ${X?"ring-2 ring-blue-500 ring-offset-1":""} ${w?"opacity-80 shadow-md":""}`,style:{left:ce,width:Math.max(ve,16),top:o_,height:Np,backgroundColor:R,zIndex:w||j?30:5},onMouseDown:H,onDoubleClick:P,onMouseEnter:_e,onMouseLeave:Me,children:[x.jsx("div",{className:"px-1.5 text-[10px] text-white font-medium leading-[20px] truncate pointer-events-none",children:a.name}),!p&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>J("left"),onResize:le,onResizeEnd:ie}),x.jsx(Di,{side:"right",onResizeStart:()=>J("right"),onResize:le,onResizeEnd:ie})]}),G&&!w&&!j&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]}),a.lead&&x.jsxs("div",{className:"text-gray-300",children:["Lead: ",a.lead]})]})]})}function Zx({bar:a,allBars:n,subItemId:i,parentItemId:l,streamId:o,originDate:u}){const f=ae(de=>de.movePhaseBar),h=ae(de=>de.resizePhaseBar),m=ae(de=>de.removePhaseBar),g=se(de=>de.selectItem),p=se(de=>de.selectPhaseBar),b=se(de=>de.selectedPhaseBarId),w=se(de=>de.openEditPanel),_=se(de=>de.isPanning),A=se(de=>de.zoom),C=b===a.id,[j,L]=S.useState(!1),[q,U]=S.useState(0),[O,I]=S.useState(!1),[G,K]=S.useState("right"),[Q,Z]=S.useState(0),[he,ue]=S.useState(!1),ye=S.useRef(null),Se=S.useRef(0),Ee=S.useRef(!1),xe=S.useRef(a);xe.current=a;const E=S.useRef(n);E.current=n;const X=S.useRef(u);X.current=u;const F=S.useRef(A);F.current=A;const ce=S.useRef(o);ce.current=o;const ve=S.useRef(l);ve.current=l;const R=S.useRef(i);R.current=i;const H=S.useRef("right"),P=S.useMemo(()=>Ri(a.startDate,a.endDate,u,A),[a.startDate,a.endDate,u,A]),J=O&&G==="left"?P.x+Q:P.x+(j?q:0),le=O?G==="left"?P.width-Q:P.width+Q:P.width,ie=S.useCallback(de=>{if(de.stopPropagation(),_||O)return;Se.current=de.clientX,Ee.current=!1;const Ae=de.currentTarget.closest(".timeline-scroll"),W=Ae?.scrollLeft||0,je=qe=>{const tt=qe.clientX-Se.current;Math.abs(tt)>3&&(Ee.current=!0,L(!0),U(tt))},et=qe=>{if(window.removeEventListener("mousemove",je),window.removeEventListener("mouseup",et),Ee.current){const tt=qe.clientX-Se.current,$e=(Ae?.scrollLeft||0)-W,Pe=tt+$e,Je=xe.current,Lt=X.current,ke=F.current,Bt=nt(Je.startDate),St=nt(Je.endDate),It=qn(Dt(Bt,Lt,ke)+Pe,Lt,ke),Ht=$n(It),vn=St.getTime()-Bt.getTime(),Jn=new Date(Ht.getTime()+vn),Gt=dt(Ht),Yn=dt(Jn);Ei(E.current,Je.id,Gt,Yn)||f(ce.current,ve.current,R.current,Je.id,Gt,Yn)}else g(R.current,ce.current),p(xe.current.id),w();L(!1),U(0)};window.addEventListener("mousemove",je),window.addEventListener("mouseup",et)},[_,O,f,g,p,w]),_e=S.useCallback(de=>{de.stopPropagation(),g(i,o),w()},[i,o,g,w]),Me=S.useCallback(de=>{H.current=de,I(!0),K(de),Z(0)},[]),te=S.useCallback(de=>{Z(de)},[]),pe=S.useCallback(de=>{const Ae=xe.current,W=X.current,je=F.current,et=H.current,qe=nt(Ae.startDate),tt=nt(Ae.endDate);let $e,Pe;if(et==="left"){const Je=qn(Dt(qe,W,je)+de,W,je);$e=$n(Je),Pe=tt}else{$e=qe;const Je=qn(Dt(tt,W,je)+de,W,je);Pe=$n(Je)}if(Pe.getTime()-$e.getTime()>=7*864e5){const Je=dt($e),Lt=dt(Pe);Ei(E.current,Ae.id,Je,Lt)||h(ce.current,ve.current,R.current,Ae.id,Je,Lt)}I(!1),Z(0)},[h]);S.useEffect(()=>{if(!C)return;const de=Ae=>{if(Ae.key==="Delete"||Ae.key==="Backspace"){const W=Ae.target.tagName;if(W==="INPUT"||W==="TEXTAREA"||W==="SELECT")return;Ae.preventDefault(),m(ce.current,ve.current,R.current,xe.current.id),p(null)}};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[C,m,p]);const at=()=>{ye.current=setTimeout(()=>ue(!0),500)},Xe=()=>{ye.current&&clearTimeout(ye.current),ue(!1)};return x.jsxs("div",{className:`absolute rounded-sm cursor-pointer group select-none ${j?"opacity-80 shadow-md":""} ${C?"ring-2 ring-blue-500 ring-offset-1":""}`,style:{left:J,width:Math.max(le,12),top:u_,height:jp,backgroundColor:a.color,zIndex:j||O?30:C?10:5},onMouseDown:ie,onDoubleClick:_e,onMouseEnter:at,onMouseLeave:Xe,children:[x.jsx("div",{className:"px-1 text-[9px] text-white font-medium leading-[16px] truncate pointer-events-none",children:a.name}),!_&&x.jsxs(x.Fragment,{children:[x.jsx(Di,{side:"left",onResizeStart:()=>Me("left"),onResize:te,onResizeEnd:pe}),x.jsx(Di,{side:"right",onResizeStart:()=>Me("right"),onResize:te,onResizeEnd:pe})]}),he&&!j&&!O&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-none z-50",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-sm flex-shrink-0",style:{backgroundColor:a.color}}),x.jsx("span",{className:"font-medium",children:a.name})]}),x.jsxs("div",{className:"text-gray-300 mt-0.5",children:[xr(a.startDate),"  ",xr(a.endDate)]}),x.jsxs("div",{className:"text-gray-300",children:[gf(a.startDate,a.endDate)," weeks"]})]})]})}function Fx({milestone:a,x:n,streamColor:i,originDate:l,zoom:o}){const u=ae(Z=>Z.removeMilestone),f=ae(Z=>Z.moveMilestone),[h,m]=S.useState(!1),[g,p]=S.useState(!1),[b,w]=S.useState(!1),[_,A]=S.useState(0),C=S.useRef(0),j=S.useRef(!1),L=S.useRef(null),q=S.useRef(a);q.current=a;const U=S.useRef(l);U.current=l;const O=S.useRef(o);O.current=o;const I=18,G=wr/2;S.useEffect(()=>{if(!g)return;const Z=he=>{(he.key==="Delete"||he.key==="Backspace")&&(he.preventDefault(),u(a.id)),he.key==="Escape"&&p(!1)};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[g,a.id,u]),S.useEffect(()=>{if(!g)return;const Z=ue=>{L.current&&!L.current.contains(ue.target)&&p(!1)},he=setTimeout(()=>{window.addEventListener("mousedown",Z)},0);return()=>{clearTimeout(he),window.removeEventListener("mousedown",Z)}},[g]);const K=S.useCallback(Z=>{Z.stopPropagation(),C.current=Z.clientX,j.current=!1;const he=Z.currentTarget.closest(".timeline-scroll"),ue=he?.scrollLeft||0,ye=Ee=>{const xe=Ee.clientX-C.current;Math.abs(xe)>3&&(j.current=!0,w(!0),A(xe))},Se=Ee=>{if(window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",Se),j.current){const xe=Ee.clientX-C.current,E=(he?.scrollLeft||0)-ue,X=xe+E,F=q.current,ce=U.current,ve=O.current,R=nt(F.date),H=Dt(R,ce,ve),P=qn(H+X,ce,ve),J=$n(P);f(F.id,dt(J))}else p(!0);w(!1),A(0)};window.addEventListener("mousemove",ye),window.addEventListener("mouseup",Se)},[f]),Q=n+(b?_:0);return x.jsxs("div",{ref:L,className:"absolute",style:{left:Q-I/2,top:0,width:I+8,height:wr,zIndex:b?30:6,cursor:b?"grabbing":"pointer"},onMouseDown:K,onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1)},children:[x.jsx("div",{className:"absolute",style:{left:I/2+4,top:4,bottom:4,width:1,backgroundColor:i,opacity:.4,transform:"translateX(-50%)"}}),x.jsx("div",{className:"absolute",style:{left:(I+8)/2,top:G,width:I,height:I,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:i,border:g?"2px solid #3B82F6":"2px solid white",boxShadow:g?"0 0 0 2px #3B82F6, 0 1px 3px rgba(0,0,0,0.2)":"0 1px 3px rgba(0,0,0,0.2)",opacity:b?.8:1}}),h&&!b&&x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap pointer-events-auto z-50",children:[x.jsx("div",{className:"font-medium",children:a.name}),x.jsx("div",{className:"text-gray-300 mt-0.5",children:xr(a.date)}),g&&x.jsx("div",{className:"text-gray-400 mt-1 text-[10px]",children:"Press Delete to remove"})]})]})}function Wx({stream:a,originDate:n}){const i=se(g=>g.zoom),l=se(g=>g.isPanning),o=ae(g=>g.roadmap.milestones),u=ae(g=>g.addPhaseBar),f=S.useMemo(()=>o.filter(g=>g.streamId===a.id),[o,a.id]),h=S.useMemo(()=>{if(a.items.length===0)return null;let g=a.items[0].startDate,p=a.items[0].endDate;for(const b of a.items)b.startDate<g&&(g=b.startDate),b.endDate>p&&(p=b.endDate);return Ri(g,p,n,i)},[a.items,n,i]),m=a.color+"4D";return x.jsxs("div",{children:[x.jsxs("div",{className:"relative border-b border-gray-200",style:{height:wr,backgroundColor:`${a.color}08`,zIndex:2},children:[h&&x.jsx("div",{className:"absolute rounded-sm",style:{left:h.x,width:h.width,top:8,height:wr-16,backgroundColor:m,border:`1px solid ${a.color}33`}}),f.map(g=>x.jsx(Fx,{milestone:g,x:Dt(nt(g.date),n,i),streamColor:a.color,originDate:n,zoom:i},g.id))]}),!a.collapsed&&a.items.map(g=>x.jsxs("div",{children:[x.jsx("div",{className:"relative border-b border-gray-50",style:{height:Ja},children:x.jsx(Qx,{item:g,streamId:a.id,streamColor:a.color,streamItems:a.items,originDate:n})}),g.expanded&&g.subItems&&g.subItems.map(p=>{const b=p.phaseBars||[],w=b.length>0,_=A=>{if(l||A.target!==A.currentTarget)return;const C=A.currentTarget.getBoundingClientRect(),j=A.clientX-C.left,L=qn(j,n,i),q=$n(L),U=new Date(q.getTime()+c_*864e5),O=dt(q),I=dt(U);Ei(b,"",O,I)||u(a.id,g.id,p.id,O,I)};return x.jsxs("div",{children:[x.jsxs("div",{className:"relative border-b border-gray-50",style:{height:Sr,backgroundColor:`${a.color}06`},children:[x.jsx(Jx,{subItem:p,parentItemId:g.id,streamId:a.id,streamColor:a.color,originDate:n}),!p.phasesExpanded&&w&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0",style:{height:Mo},children:b.map(A=>{const C=Ri(A.startDate,A.endDate,n,i);return x.jsx("div",{className:"absolute rounded-sm",style:{left:C.x,width:C.width,top:0,height:Mo,backgroundColor:A.color,opacity:.7}},A.id)})})]}),p.phasesExpanded&&x.jsx("div",{className:"relative border-b border-gray-50 cursor-crosshair",style:{height:Jo,backgroundColor:`${a.color}04`},onClick:_,children:b.map(A=>x.jsx(Zx,{bar:A,allBars:b,subItemId:p.id,parentItemId:g.id,streamId:a.id,originDate:n},A.id))})]},p.id)}),g.expanded&&g.subItems&&g.subItems.length>=0&&x.jsx("div",{className:"border-b border-gray-50",style:{height:Sr}})]},g.id)),!a.collapsed&&x.jsx("div",{className:"border-b border-gray-50",style:{height:Ja}})]})}function eT(a,n,i,l){const u=l-n,f=i-a,h=40;if(Math.abs(u)<2&&f>0)return`M ${a} ${n} L ${i} ${l}`;const m=u>0?1:-1,g=Math.abs(u);if(f<h){const w=Math.max(a,i)+30,_=i-30,A=n+u/2,C=Math.abs(u)/2,j=Math.min(8,C/2);return[`M ${a} ${n}`,`L ${w-j} ${n}`,`Q ${w} ${n}, ${w} ${n+m*j}`,`L ${w} ${A-m*j}`,`Q ${w} ${A}, ${w-j} ${A}`,`L ${_+j} ${A}`,`Q ${_} ${A}, ${_} ${A+m*j}`,`L ${_} ${l-m*j}`,`Q ${_} ${l}, ${_+j} ${l}`,`L ${i} ${l}`].join(" ")}const p=a+f/2,b=Math.min(8,g/2,Math.abs(p-a),Math.abs(i-p));return[`M ${a} ${n}`,`L ${p-b} ${n}`,`Q ${p} ${n}, ${p} ${n+m*b}`,`L ${p} ${l-m*b}`,`Q ${p} ${l}, ${p+b} ${l}`,`L ${i} ${l}`].join(" ")}function tT({fromX:a,fromY:n,toX:i,toY:l,color:o="#94A3B8"}){const u=eT(a,n,i,l);return x.jsx("g",{children:x.jsx("path",{d:u,fill:"none",stroke:o,strokeWidth:1.5,strokeDasharray:"none",markerEnd:"url(#arrowhead)"})})}function nT({originDate:a,totalHeight:n,timelineWidth:i}){const l=ae(h=>h.roadmap.streams),o=ae(h=>h.roadmap.dependencies),u=se(h=>h.zoom),f=S.useMemo(()=>{if(o.length===0)return[];const h=by(l),m=new Map;for(const g of l){const p=h.find(b=>b.streamId===g.id);if(p)for(const b of g.items){const w=p.itemYs.find(A=>A.itemId===b.id);if(!w)continue;const _=Ri(b.startDate,b.endDate,a,u);m.set(b.id,{rect:_,y:w.y})}}return o.map(g=>{const p=m.get(g.fromItemId),b=m.get(g.toItemId);return!p||!b?null:{id:g.id,fromX:p.rect.x+p.rect.width,fromY:p.y+Gd+jo/2,toX:b.rect.x,toY:b.y+Gd+jo/2}}).filter(Boolean)},[l,o,a,u]);return f.length===0?null:x.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:i,height:n,zIndex:8},children:[x.jsx("defs",{children:x.jsx("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:x.jsx("polygon",{points:"0 0, 8 3, 0 6",fill:"#94A3B8"})})}),f.map(h=>x.jsx(tT,{fromX:h.fromX,fromY:h.fromY,toX:h.toX,toY:h.toY},h.id))]})}function aT(){const a=ae(A=>A.roadmap.streams),n=ae(A=>A.roadmap.settings),i=ae(A=>A.currentRoadmapId),l=se(A=>A.zoom),o=se(A=>A.isPanning),u=se(A=>A.dependencyMode),f=se(A=>A.exitDependencyMode),h=S.useRef(null),m=S.useRef(null);Vx(h);const g=S.useMemo(()=>xf(n.timelineStartDate,n.timelineEndDate,l),[n.timelineStartDate,n.timelineEndDate,l]),p=S.useMemo(()=>Gx(g),[g]),b=S.useMemo(()=>Yx(a),[a]),w=S.useMemo(()=>nt(n.timelineStartDate),[n.timelineStartDate]);S.useEffect(()=>{if(!h.current||!i||m.current===i)return;m.current=i;const j=Er(new Date,l==="week"?-7:-30),L=Dt(j,w,l);h.current.scrollLeft=Math.max(0,L)},[i,w,l]),S.useEffect(()=>{if(!h.current||!i)return;const j=Er(new Date,l==="week"?-7:-30),L=Dt(j,w,l);h.current.scrollLeft=Math.max(0,L)},[l,w,i]);const _=()=>{u&&f()};return x.jsx("div",{ref:h,className:`flex-1 overflow-auto timeline-scroll relative ${o?u?"":"cursor-grab-all":""} ${u?"cursor-crosshair":""}`,onClick:_,children:x.jsxs("div",{style:{width:p,minHeight:"100%"},children:[x.jsx(Kx,{}),x.jsxs("div",{className:"relative",style:{height:b},children:[x.jsx(Xx,{height:b}),x.jsx(Px,{height:b}),x.jsx(nT,{originDate:w,totalHeight:b,timelineWidth:p}),a.map(A=>x.jsx(Wx,{stream:A,originDate:w},A.id))]})]})})}function rT(){const a=se(O=>O.editPanelOpen),n=se(O=>O.selectedItemId),i=se(O=>O.selectedStreamId),l=se(O=>O.closeEditPanel),o=ae(O=>O.roadmap.streams),u=ae(O=>O.roadmap.dependencies),f=ae(O=>O.updateItem),h=ae(O=>O.removeItem),m=ae(O=>O.updateSubItem),g=ae(O=>O.removeSubItem),p=ae(O=>O.removeDependency),b=ae(O=>O.updatePhaseBar),w=ae(O=>O.removePhaseBar),{item:_,parentItemId:A}=S.useMemo(()=>{if(!i||!n)return{item:null,parentItemId:null};const O=o.find(G=>G.id===i);if(!O)return{item:null,parentItemId:null};const I=O.items.find(G=>G.id===n);if(I)return{item:I,parentItemId:null};for(const G of O.items)if(G.subItems){const K=G.subItems.find(Q=>Q.id===n);if(K)return{item:K,parentItemId:G.id}}return{item:null,parentItemId:null}},[o,i,n]),C=S.useMemo(()=>n?u.filter(O=>O.fromItemId===n||O.toItemId===n):[],[u,n]),j=O=>{for(const I of o)for(const G of I.items){if(G.id===O)return G.name;if(G.subItems){const K=G.subItems.find(Q=>Q.id===O);if(K)return K.name}}return"Unknown"},L=A!==null;if(!a||!_||!i)return null;const q=(O,I)=>{L?m(i,A,_.id,{[O]:I}):f(i,_.id,{[O]:I})},U=()=>{window.confirm(`Delete "${_.name}"?`)&&(L?g(i,A,_.id):h(i,_.id),l())};return x.jsxs("div",{className:"fixed right-0 top-0 bottom-0 bg-white border-l border-gray-200 shadow-lg z-40 overflow-y-auto",style:{width:h_},children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[x.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:L?"Edit Sub-task":"Edit Item"}),x.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 text-lg border-none bg-transparent cursor-pointer p-0",children:""})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.name,onChange:O=>q("name",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Lead"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.lead,onChange:O=>q("lead",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Support"}),x.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.support,onChange:O=>q("support",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phase"}),x.jsx("select",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 bg-white",value:_.phase,onChange:O=>q("phase",O.target.value),children:Object.entries(g_).map(([O,I])=>x.jsx("option",{value:O,children:I},O))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.startDate,onChange:O=>q("startDate",O.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End"}),x.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400",value:_.endDate,onChange:O=>q("endDate",O.target.value)})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Notes"}),x.jsx("textarea",{className:"w-full text-sm border border-gray-300 rounded px-3 py-2 outline-none focus:border-blue-400 min-h-20 resize-y",value:_.notes,onChange:O=>q("notes",O.target.value),rows:3})]}),L&&_.phaseBars&&_.phaseBars.length>0&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phase Bars"}),x.jsx("div",{className:"space-y-2",children:_.phaseBars.map(O=>x.jsxs("div",{className:"bg-gray-50 rounded px-2 py-2 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("input",{className:"flex-1 text-xs border border-gray-300 rounded px-2 py-1 outline-none focus:border-blue-400",value:O.name,onChange:I=>b(i,A,_.id,O.id,{name:I.target.value})}),x.jsx("button",{onClick:()=>{window.confirm(`Delete phase "${O.name}"?`)&&w(i,A,_.id,O.id)},className:"text-gray-400 hover:text-red-500 border-none bg-transparent cursor-pointer p-0 text-xs flex-shrink-0",title:"Delete phase bar",children:""})]}),x.jsx("div",{className:"flex gap-0.5 flex-wrap",children:Rs.map(I=>x.jsx("button",{className:"w-4 h-4 rounded-sm border cursor-pointer p-0",style:{backgroundColor:I,borderColor:O.color===I?"#1a1a2e":"transparent",borderWidth:O.color===I?2:1},onClick:()=>b(i,A,_.id,O.id,{color:I}),title:I},I))}),x.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[x.jsx("input",{type:"date",className:"text-[10px] border border-gray-300 rounded px-1.5 py-0.5 outline-none focus:border-blue-400",value:O.startDate,onChange:I=>b(i,A,_.id,O.id,{startDate:I.target.value})}),x.jsx("input",{type:"date",className:"text-[10px] border border-gray-300 rounded px-1.5 py-0.5 outline-none focus:border-blue-400",value:O.endDate,onChange:I=>b(i,A,_.id,O.id,{endDate:I.target.value})})]})]},O.id))})]}),C.length>0&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Dependencies"}),x.jsx("div",{className:"space-y-1",children:C.map(O=>x.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded px-2 py-1.5",children:[x.jsxs("span",{className:"text-gray-600",children:[O.fromItemId===_.id?" ":" ",j(O.fromItemId===_.id?O.toItemId:O.fromItemId)]}),x.jsx("button",{onClick:()=>p(O.id),className:"text-gray-400 hover:text-red-500 border-none bg-transparent cursor-pointer p-0 text-xs",children:""})]},O.id))})]}),x.jsx("div",{className:"pt-4 border-t border-gray-200",children:x.jsx("button",{onClick:U,className:"w-full text-sm px-3 py-2 bg-red-50 text-red-600 rounded border border-red-200 cursor-pointer hover:bg-red-100",children:"Delete Item"})})]})]})}function iT(){const a=ae(u=>u.fetchRoadmapList),n=ae(u=>u.loadRoadmap),i=ae(u=>u.roadmapList),l=ae(u=>u.currentRoadmapId),o=ae(u=>u.isLoading);S.useEffect(()=>{a()},[a]),S.useEffect(()=>{!l&&i.length>0&&!o&&n(i[0].id)},[i,l,n,o])}function sT(){const a=ae(o=>o.isDirty),n=ae(o=>o.saveRoadmap),i=ae(o=>o.currentRoadmapId),l=S.useRef(null);S.useEffect(()=>{if(!(!a||!i))return l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{n()},m_),()=>{l.current&&clearTimeout(l.current)}},[a,i,n])}function lT(){const a=se(h=>h.closeEditPanel),n=se(h=>h.exitDependencyMode),i=se(h=>h.setZoom),l=se(h=>h.selectedItemId),o=se(h=>h.selectedStreamId),u=se(h=>h.dependencyMode),f=ae(h=>h.removeItem);S.useEffect(()=>{const h=m=>{m.target instanceof HTMLInputElement||m.target instanceof HTMLTextAreaElement||(m.key==="Escape"&&(u?n():a()),(m.key==="Delete"||m.key==="Backspace")&&l&&o&&(m.preventDefault(),window.confirm("Delete this item?")&&(f(o,l),a())),m.key==="1"&&i("week"),m.key==="2"&&i("month"))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[a,n,i,l,o,u,f])}function oT(){iT(),sT(),lT();const a=ae(l=>l.isLoading),n=ae(l=>l.currentRoadmapId),i=ae(l=>l.roadmapList);return x.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[x.jsx(ZS,{}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",style:{height:`calc(100vh - ${f_}px)`},children:[x.jsx(qx,{}),x.jsx(aT,{}),x.jsx(rT,{})]}),a&&x.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:x.jsx("div",{className:"text-gray-500 text-sm",children:"Loading roadmap..."})}),!a&&!n&&i.length===0&&x.jsx(uT,{})]})}function uT(){const a=ae(i=>i.createRoadmap),n=async()=>{await a("My Roadmap")};return x.jsx("div",{className:"fixed inset-0 bg-white/90 flex items-center justify-center z-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Roadmaps Yet"}),x.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create your first roadmap to get started."}),x.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 border-none cursor-pointer text-sm",children:"Create Roadmap"})]})})}Hb.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(oT,{})}));
